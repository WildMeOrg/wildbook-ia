
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>wbia.algo.verif package &#8212; wbia 3.3.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="wbia.algo.verif.torch package" href="wbia.algo.verif.torch.html" />
    <link rel="prev" title="wbia.algo.smk package" href="wbia.algo.smk.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="wbia-algo-verif-package">
<h1>wbia.algo.verif package<a class="headerlink" href="#wbia-algo-verif-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="wbia.algo.verif.torch.html">wbia.algo.verif.torch package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.verif.torch.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.verif.torch.html#module-wbia.algo.verif.torch.fit_harness">wbia.algo.verif.torch.fit_harness module</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.verif.torch.html#module-wbia.algo.verif.torch.gpu_util">wbia.algo.verif.torch.gpu_util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.verif.torch.html#module-wbia.algo.verif.torch.lr_schedule">wbia.algo.verif.torch.lr_schedule module</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.verif.torch.html#module-wbia.algo.verif.torch.models">wbia.algo.verif.torch.models module</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.verif.torch.html#module-wbia.algo.verif.torch.netmath">wbia.algo.verif.torch.netmath module</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.verif.torch.html#module-wbia.algo.verif.torch.old_harness">wbia.algo.verif.torch.old_harness module</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.verif.torch.html#module-wbia.algo.verif.torch.siamese">wbia.algo.verif.torch.siamese module</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.verif.torch.html#module-wbia.algo.verif.torch.train_main">wbia.algo.verif.torch.train_main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.verif.torch.html#module-wbia.algo.verif.torch">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-wbia.algo.verif.clf_helpers">
<span id="wbia-algo-verif-clf-helpers-module"></span><h2>wbia.algo.verif.clf_helpers module<a class="headerlink" href="#module-wbia.algo.verif.clf_helpers" title="Permalink to this headline">¶</a></h2>
<p>This module is a work in progress, as such concepts are subject to change.</p>
<dl class="simple">
<dt>MAIN IDEA:</dt><dd><p><cite>MultiTaskSamples</cite> serves as a structure to contain and manipulate a set of
samples with potentially many different types of labels and features.</p>
</dd>
</dl>
<dl class="py class">
<dt id="wbia.algo.verif.clf_helpers.ClfProblem">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.clf_helpers.</code><code class="sig-name descname">ClfProblem</code><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfProblem.learn_deploy_classifiers">
<code class="sig-name descname">learn_deploy_classifiers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clf_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_key</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfProblem.learn_deploy_classifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfProblem.learn_deploy_classifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Learns on data without any train/validation split</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfProblem.learn_evaluation_classifiers">
<code class="sig-name descname">learn_evaluation_classifiers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clf_keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_keys</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfProblem.learn_evaluation_classifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfProblem.learn_evaluation_classifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates by learning classifiers using cross validation.
Do not use this to learn production classifiers.</p>
<p>python -m wbia.algo.verif.vsone evaluate_classifiers –db PZ_PB_RF_TRAIN –show</p>
<p>Example:</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m clf_helpers learn_evaluation_classifiers</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.clf_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">IrisProblem</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">eval_clf_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Logit&#39;</span><span class="p">,</span> <span class="s1">&#39;RF&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">eval_task_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;iris&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">eval_data_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;learn(all)&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">learn_evaluation_classifiers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">task_combo_res</span><span class="p">[</span><span class="s1">&#39;iris&#39;</span><span class="p">][</span><span class="s1">&#39;Logit&#39;</span><span class="p">][</span><span class="s1">&#39;learn(all)&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="o">.</span><span class="n">print_report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">task_combo_res</span><span class="p">[</span><span class="s1">&#39;iris&#39;</span><span class="p">][</span><span class="s1">&#39;RF&#39;</span><span class="p">][</span><span class="s1">&#39;learn(all)&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="o">.</span><span class="n">print_report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfProblem.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfProblem.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfProblem.set_pandas_options">
<code class="sig-name descname">set_pandas_options</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfProblem.set_pandas_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfProblem.set_pandas_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfProblem.set_pandas_options_low">
<code class="sig-name descname">set_pandas_options_low</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfProblem.set_pandas_options_low"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfProblem.set_pandas_options_low" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfProblem.set_pandas_options_normal">
<code class="sig-name descname">set_pandas_options_normal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfProblem.set_pandas_options_normal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfProblem.set_pandas_options_normal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.clf_helpers.ClfResult">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.clf_helpers.</code><code class="sig-name descname">ClfResult</code><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<p>Handles evaluation statistics for a multiclass classifier trained on a
specific dataset with specific labels.</p>
<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.augment_if_needed">
<code class="sig-name descname">augment_if_needed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.augment_if_needed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.augment_if_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds in dummy values for missing classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.combine_results">
<em class="property">classmethod </em><code class="sig-name descname">combine_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">res_list</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.combine_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.combine_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine results from cross validation runs into a single result
representing the performance of the entire dataset</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.compress">
<code class="sig-name descname">compress</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flags</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.compress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.compress" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.confusions">
<code class="sig-name descname">confusions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">class_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.confusions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.confusions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.confusions_ovr">
<code class="sig-name descname">confusions_ovr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.confusions_ovr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.confusions_ovr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.extended_clf_report">
<code class="sig-name descname">extended_clf_report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.extended_clf_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.extended_clf_report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.get_pos_threshes">
<code class="sig-name descname">get_pos_threshes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metric</span><span class="o">=</span><span class="default_value">'fpr'</span></em>, <em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">0.0001</span></em>, <em class="sig-param"><span class="n">maximize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">warmup</span><span class="o">=</span><span class="default_value">200</span></em>, <em class="sig-param"><span class="n">priors</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_thresh</span><span class="o">=</span><span class="default_value">0.5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.get_pos_threshes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.get_pos_threshes" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds a threshold that achieves the desired <cite>value</cite> for the desired
metric, while maximizing or minimizing the threshold.</p>
<p>For positive classification you want to minimize the threshold.
Priors can be passed in to augment probabilities depending on support.
By default a class prior is 1 for threshold minimization and 0 for
maximization.</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.get_thresholds">
<code class="sig-name descname">get_thresholds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metric</span><span class="o">=</span><span class="default_value">'mcc'</span></em>, <em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">'maximize'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.get_thresholds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.get_thresholds" title="Permalink to this definition">¶</a></dt>
<dd><p>get_metric = ‘thresholds’
at_metric = metric = ‘mcc’
at_value = value = ‘maximize’</p>
<p>a = []
b = []
for x in np.linspace(0, 1, 1000):</p>
<blockquote>
<div><p>a += [cfms.get_metric_at_metric(‘thresholds’, ‘fpr’, x, subindex=True)]
b += [cfms.get_thresh_at_metric(‘fpr’, x)]</p>
</div></blockquote>
<p>a = np.array(a)
b = np.array(b)
d = (a - b)
logger.info((d.min(), d.max()))</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.hardness_analysis">
<code class="sig-name descname">hardness_analysis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">samples</span></em>, <em class="sig-param"><span class="n">infr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'argmax'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.hardness_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.hardness_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>samples = pblm.samples</p>
<p># TODO MWE with sklearn data</p>
<blockquote>
<div><p># ClfResult.make_single(ClfResult, clf, X_df, test_idx, labels,
# data_key, feat_dims=None):</p>
<p>import sklearn.datasets
iris = sklearn.datasets.load_iris()</p>
<p># TODO: make this setup simpler
pblm = ClfProblem()
task_key, clf_key, data_key = ‘iris’, ‘RF’, ‘learn(all)’
X_df = pd.DataFrame(iris.data, columns=iris.feature_names)
samples = MultiTaskSamples(X_df.index)
samples.apply_indicators({‘iris’: {name: iris.target == idx</p>
<blockquote>
<div><p>for idx, name in enumerate(iris.target_names)}})</p>
</div></blockquote>
<p>samples.X_dict = {‘learn(all)’: X_df}</p>
<p>pblm.samples = samples
pblm.xval_kw[‘type’] = ‘StratifiedKFold’
clf_list, res_list = pblm._train_evaluation_clf(</p>
<blockquote>
<div><p>task_key, data_key, clf_key)</p>
</div></blockquote>
<p>labels = pblm.samples.subtasks[task_key]
res = ClfResult.combine_results(res_list, labels)</p>
</div></blockquote>
<p>res.get_thresholds(‘mcc’, ‘maximize’)</p>
<p>predict_method = ‘argmax’</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.index">
<em class="property">property </em><code class="sig-name descname">index</code><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.ishow_roc">
<code class="sig-name descname">ishow_roc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.ishow_roc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.ishow_roc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.make_single">
<em class="property">classmethod </em><code class="sig-name descname">make_single</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clf</span></em>, <em class="sig-param"><span class="n">X_df</span></em>, <em class="sig-param"><span class="n">test_idx</span></em>, <em class="sig-param"><span class="n">labels</span></em>, <em class="sig-param"><span class="n">data_key</span></em>, <em class="sig-param"><span class="n">feat_dims</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.make_single"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.make_single" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a result for a single cross validiation subset</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.missing_classes">
<code class="sig-name descname">missing_classes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.missing_classes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.missing_classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.print_report">
<code class="sig-name descname">print_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.print_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.print_report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.report_auto_thresholds">
<code class="sig-name descname">report_auto_thresholds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">threshes</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.report_auto_thresholds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.report_auto_thresholds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.report_thresholds">
<code class="sig-name descname">report_thresholds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">warmup</span><span class="o">=</span><span class="default_value">200</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.report_thresholds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.report_thresholds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.roc_score">
<code class="sig-name descname">roc_score</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.roc_score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.roc_score" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.roc_scores_ovr">
<code class="sig-name descname">roc_scores_ovr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.roc_scores_ovr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.roc_scores_ovr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.roc_scores_ovr_hat">
<code class="sig-name descname">roc_scores_ovr_hat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.roc_scores_ovr_hat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.roc_scores_ovr_hat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.ClfResult.show_roc">
<code class="sig-name descname">show_roc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">class_name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#ClfResult.show_roc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.ClfResult.show_roc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.clf_helpers.IrisProblem">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.clf_helpers.</code><code class="sig-name descname">IrisProblem</code><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#IrisProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.IrisProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.algo.verif.clf_helpers.ClfProblem" title="wbia.algo.verif.clf_helpers.ClfProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.algo.verif.clf_helpers.ClfProblem</span></code></a></p>
<p>Simple demo using the abstract clf problem to work on the iris dataset.</p>
<blockquote>
<div><dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.clf_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">IrisProblem</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">samples</span>
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.IrisProblem.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.clf_helpers.IrisProblem.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.IrisProblem.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#IrisProblem.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.IrisProblem.setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.clf_helpers.</code><code class="sig-name descname">MultiClassLabels</code><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiClassLabels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<p>Used by samples to encode a single set of mutually exclusive labels.  These
can either be binary or multiclass.</p>
<blockquote>
<div><p>import pandas as pd
pd.options.display.max_rows = 10
# pd.options.display.max_rows = 20
pd.options.display.max_columns = 40
pd.options.display.width = 160</p>
</div></blockquote>
<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.from_indicators">
<em class="property">classmethod </em><code class="sig-name descname">from_indicators</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indicator</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">task_name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiClassLabels.from_indicators"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.from_indicators" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.gen_one_vs_rest_labels">
<code class="sig-name descname">gen_one_vs_rest_labels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiClassLabels.gen_one_vs_rest_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.gen_one_vs_rest_labels" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.clf_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indicator</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">([</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;state1&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;state2&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;state3&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="n">MultiClassLabels</span><span class="o">.</span><span class="n">from_indicators</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">task_name</span><span class="o">=</span><span class="s1">&#39;task1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sublabels</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">labels</span><span class="o">.</span><span class="n">gen_one_vs_rest_labels</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sublabel</span> <span class="o">=</span> <span class="n">sublabels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.has_support">
<code class="sig-name descname">has_support</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiClassLabels.has_support"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.has_support" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.lookup_class_idx">
<code class="sig-name descname">lookup_class_idx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">class_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiClassLabels.lookup_class_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.lookup_class_idx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.make_histogram">
<code class="sig-name descname">make_histogram</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiClassLabels.make_histogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.make_histogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.one_vs_rest_task_names">
<code class="sig-name descname">one_vs_rest_task_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiClassLabels.one_vs_rest_task_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.one_vs_rest_task_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.print_info">
<code class="sig-name descname">print_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiClassLabels.print_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.print_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.target_type">
<em class="property">property </em><code class="sig-name descname">target_type</code><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.target_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.y_bin">
<em class="property">property </em><code class="sig-name descname">y_bin</code><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.y_bin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiClassLabels.y_enc">
<em class="property">property </em><code class="sig-name descname">y_enc</code><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiClassLabels.y_enc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.clf_helpers.</code><code class="sig-name descname">MultiTaskSamples</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<p>Handles samples (i.e. feature-label pairs) with a combination of
non-mutually exclusive subclassification labels</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.clf_helpers MultiTaskSamples</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.clf_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples</span> <span class="o">=</span> <span class="n">MultiTaskSamples</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tasks_to_indicators</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">([</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;task1&#39;</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">([</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;state1&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;state2&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;state3&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">])),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;task2&#39;</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">([</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;state4&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;state5&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples</span><span class="o">.</span><span class="n">apply_indicators</span><span class="p">(</span><span class="n">tasks_to_indicators</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.apply_encoded_labels">
<code class="sig-name descname">apply_encoded_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">y_enc</span></em>, <em class="sig-param"><span class="n">class_names</span></em>, <em class="sig-param"><span class="n">task_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.apply_encoded_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.apply_encoded_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds labels for a specific task. Alternative to <cite>apply_indicators</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_enc</strong> (<em>list</em>) – integer label indicating the class for each sample</p></li>
<li><p><strong>class_names</strong> (<em>list</em>) – list of strings indicating the class-domain</p></li>
<li><p><strong>task_name</strong> (<em>str</em>) – key for denoting this specific task</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.apply_indicators">
<code class="sig-name descname">apply_indicators</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tasks_to_indicators</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.apply_indicators"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.apply_indicators" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds labels for a specific task</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tasks_to_indicators</strong> (<em>dict</em>) – <dl>
<dt>takes the form:</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt><a href="#id1"><span class="problematic" id="id2">`</span></a>my_task_name1’ {</dt><dd><p>’class1’: [list of bools indicating class membership]
…
‘classN’: [list of bools indicating class membership]</p>
</dd>
</dl>
<p><a href="#id3"><span class="problematic" id="id4">`</span></a>my_task_nameN’: …</p>
</dd>
</dl>
</dd>
</dl>
<p>}</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.class_idx_basis_1d">
<code class="sig-name descname">class_idx_basis_1d</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.class_idx_basis_1d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.class_idx_basis_1d" title="Permalink to this definition">¶</a></dt>
<dd><p>1d-index version of class_name_basis</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.class_idx_basis_2d">
<code class="sig-name descname">class_idx_basis_2d</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.class_idx_basis_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.class_idx_basis_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>2d-index version of class_name_basis</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.class_name_basis">
<code class="sig-name descname">class_name_basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.class_name_basis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.class_name_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>corresponds with indexes returned from encoded1d</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.encoded_1d">
<code class="sig-name descname">encoded_1d</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.encoded_1d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.encoded_1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a unique label for each combination of samples</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.encoded_2d">
<code class="sig-name descname">encoded_2d</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.encoded_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.encoded_2d" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.group_ids">
<em class="property">property </em><code class="sig-name descname">group_ids</code><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.group_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.items">
<code class="sig-name descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.make_histogram">
<code class="sig-name descname">make_histogram</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.make_histogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.make_histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>label histogram</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.print_info">
<code class="sig-name descname">print_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.print_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.print_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.stratified_kfold_indices">
<code class="sig-name descname">stratified_kfold_indices</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">xval_kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.stratified_kfold_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.stratified_kfold_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: check xval label frequency</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.subsplit_indices">
<code class="sig-name descname">subsplit_indices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subset_idx</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">xval_kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.subsplit_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.subsplit_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>split an existing set</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.clf_helpers.MultiTaskSamples.supported_tasks">
<code class="sig-name descname">supported_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#MultiTaskSamples.supported_tasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples.supported_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.clf_helpers.XValConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.clf_helpers.</code><code class="sig-name descname">XValConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/clf_helpers.html#XValConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.clf_helpers.XValConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="wbia.dtool.html#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-wbia.algo.verif.deploy">
<span id="wbia-algo-verif-deploy-module"></span><h2>wbia.algo.verif.deploy module<a class="headerlink" href="#module-wbia.algo.verif.deploy" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="wbia.algo.verif.deploy.Deployer">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.deploy.</code><code class="sig-name descname">Deployer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dpath</span><span class="o">=</span><span class="default_value">'.'</span></em>, <em class="sig-param"><span class="n">pblm</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/deploy.html#Deployer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Transforms a OneVsOne problem into a deployable model.
Registers and loads published models.</p>
<dl class="py method">
<dt id="wbia.algo.verif.deploy.Deployer.deploy">
<code class="sig-name descname">deploy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/deploy.html#Deployer.deploy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.deploy" title="Permalink to this definition">¶</a></dt>
<dd><p>Trains and saves a classifier for deployment</p>
<p class="rubric">Notes</p>
<dl class="simple">
<dt>A deployment consists of the following information</dt><dd><ul class="simple">
<li><p>The classifier itself</p></li>
<li><dl class="simple">
<dt>Information needed to construct the input to the classifier</dt><dd><ul>
<li><p>TODO: can this be encoded as an sklearn pipeline?</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Metadata concerning what data the classifier was trained with</p></li>
<li><p>PUBLISH TO /media/hdd/PUBLIC/models/pairclf</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia_cnn)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">sample_method</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="s1">&#39;PZ_MTEST&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">with_simple</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">task_key</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">primary_task_key</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">Deployer</span><span class="p">(</span><span class="n">dpath</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">pblm</span><span class="o">=</span><span class="n">pblm</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deploy_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deploy</span><span class="p">()</span>
</pre></div>
</div>
<dl class="simple">
<dt>Ignore:</dt><dd><p>pblm.evaluate_classifiers(with_simple=False)
res = pblm.task_combo_res[pblm.primary_task_key][‘RF’][‘learn(sum,glob)’]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.deploy.Deployer.ensure">
<code class="sig-name descname">ensure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/deploy.html#Deployer.ensure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.ensure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.deploy.Deployer.find_latest_local">
<code class="sig-name descname">find_latest_local</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/deploy.html#Deployer.find_latest_local"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.find_latest_local" title="Permalink to this definition">¶</a></dt>
<dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">Deployer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">find_pretrained</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">find_latest_local</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.deploy.Deployer.find_latest_remote">
<code class="sig-name descname">find_latest_remote</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/deploy.html#Deployer.find_latest_remote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.find_latest_remote" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to update the published dict</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone find_latest_remote</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">Deployer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">task_clf_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_latest_remote</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.deploy.Deployer.find_pretrained">
<code class="sig-name descname">find_pretrained</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/deploy.html#Deployer.find_pretrained"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.find_pretrained" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="wbia.algo.verif.deploy.Deployer.fname_fmtstr">
<code class="sig-name descname">fname_fmtstr</code><em class="property"> = 'vsone.{species}.{task_key}.{clf_key}.{n_dims}.{hashid}'</em><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.fname_fmtstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="wbia.algo.verif.deploy.Deployer.fname_parts">
<code class="sig-name descname">fname_parts</code><em class="property"> = ['vsone', '{species}', '{task_key}', '{clf_key}', '{n_dims}', '{hashid}']</em><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.fname_parts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.deploy.Deployer.load_published">
<code class="sig-name descname">load_published</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ibs</span></em>, <em class="sig-param"><span class="n">species</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/deploy.html#Deployer.load_published"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.load_published" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="wbia.algo.verif.deploy.Deployer.meta_suffix">
<code class="sig-name descname">meta_suffix</code><em class="property"> = '.meta.json'</em><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.meta_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="wbia.algo.verif.deploy.Deployer.publish_info">
<code class="sig-name descname">publish_info</code><em class="property"> = {'path': '/data/public/models/pairclf', 'remote': 'cthulhu.dyn.wildme.io'}</em><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.publish_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="wbia.algo.verif.deploy.Deployer.published">
<code class="sig-name descname">published</code><em class="property"> = {'giraffe_reticulated': {'match_state': 'vsone.giraffe_reticulated.match_state.RF.131.kqbaqnrdyxpjrzjd.ggr2.cPkl'}, 'zebra_grevys': {'match_state': 'vsone.zebra_grevys.match_state.RF.131.qysrjnzuiziikxzp.kaia.cPkl'}, 'zebra_plains': {'match_state': 'vsone.zebra_plains.match_state.RF.131.eurizlstehqjvlsu.cPkl'}}</em><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.published" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.deploy.Deployer.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.deploy.Deployer.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-wbia.algo.verif.oldvsone">
<span id="wbia-algo-verif-oldvsone-module"></span><h2>wbia.algo.verif.oldvsone module<a class="headerlink" href="#module-wbia.algo.verif.oldvsone" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="wbia.algo.verif.oldvsone.demo_single_pairwise_feature_vector">
<code class="sig-prename descclassname">wbia.algo.verif.oldvsone.</code><code class="sig-name descname">demo_single_pairwise_feature_vector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/oldvsone.html#demo_single_pairwise_feature_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.oldvsone.demo_single_pairwise_feature_vector" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone demo_single_pairwise_feature_vector</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match</span> <span class="o">=</span> <span class="n">demo_single_pairwise_feature_vector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-wbia.algo.verif.pairfeat">
<span id="wbia-algo-verif-pairfeat-module"></span><h2>wbia.algo.verif.pairfeat module<a class="headerlink" href="#module-wbia.algo.verif.pairfeat" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="wbia.algo.verif.pairfeat.MatchConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.pairfeat.</code><code class="sig-name descname">MatchConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/pairfeat.html#MatchConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.pairfeat.MatchConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="wbia.dtool.html#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.pairfeat.PairFeatureConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.pairfeat.</code><code class="sig-name descname">PairFeatureConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/pairfeat.html#PairFeatureConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.pairfeat.PairFeatureConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="wbia.dtool.html#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
<p>Config for building pairwise feature dimensions</p>
<p>I.E. Config to distil unordered feature correspondences into a fixed length
vector.</p>
</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.pairfeat.PairwiseFeatureExtractor">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.pairfeat.</code><code class="sig-name descname">PairwiseFeatureExtractor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ibs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">config</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">use_cache</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">match_config</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pairfeat_cfg</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">global_keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">need_lnbnn</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">feat_dims</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/pairfeat.html#PairwiseFeatureExtractor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.pairfeat.PairwiseFeatureExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ibs</strong> (<em>wbia.IBEISController</em>) – image analysis api</p></li>
<li><p><strong>match_config</strong> (<em>dict</em>) – config for building feature correspondences</p></li>
<li><p><strong>pairfeat_cfg</strong> (<em>dict</em>) – config for making the pairwise feat vec</p></li>
<li><p><strong>global_keys</strong> (<em>list</em>) – global keys to use</p></li>
<li><p><strong>need_lnbnn</strong> (<em>bool</em>) – use LNBNN for enrichment</p></li>
<li><p><strong>feat_dims</strong> (<em>list</em>) – subset of feature dimensions (from pruning)
if None, then all dimensions are used</p></li>
<li><p><strong>use_cache</strong> (<em>bool</em>) – turns on disk based caching (default = True)</p></li>
<li><p><strong>verbose</strong> (<em>int</em>) – verbosity flag (default = 1)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.pairfeat PairwiseFeatureExtractor</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.pairfeat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extr</span> <span class="o">=</span> <span class="n">PairwiseFeatureExtractor</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">extr</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">featinfo</span> <span class="o">=</span> <span class="n">vt</span><span class="o">.</span><span class="n">AnnotPairFeatInfo</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">featinfo</span><span class="o">.</span><span class="n">get_infostr</span><span class="p">())</span>
</pre></div>
</div>
<dl class="py method">
<dt id="wbia.algo.verif.pairfeat.PairwiseFeatureExtractor.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/pairfeat.html#PairwiseFeatureExtractor.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.pairfeat.PairwiseFeatureExtractor.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an annotation edge into their corresponding feature.
By default this is a caching operation.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.pairfeat.VsOneFeatConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.pairfeat.</code><code class="sig-name descname">VsOneFeatConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/pairfeat.html#VsOneFeatConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.pairfeat.VsOneFeatConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="wbia.dtool.html#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
<p>keypoint params</p>
</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.pairfeat.VsOneMatchConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.pairfeat.</code><code class="sig-name descname">VsOneMatchConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/pairfeat.html#VsOneMatchConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.pairfeat.VsOneMatchConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="wbia.dtool.html#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-wbia.algo.verif.ranker">
<span id="wbia-algo-verif-ranker-module"></span><h2>wbia.algo.verif.ranker module<a class="headerlink" href="#module-wbia.algo.verif.ranker" title="Permalink to this headline">¶</a></h2>
<p>TODO: rewrite the hotspotter lnbnn algo to be a generator</p>
<p>Wrapper around LNBNN hotspotter algorithm</p>
<dl class="py class">
<dt id="wbia.algo.verif.ranker.Ranker">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.ranker.</code><code class="sig-name descname">Ranker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ibs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">config</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/ranker.html#Ranker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.ranker.Ranker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="wbia.algo.verif.ranker.Ranker.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">daids</span></em>, <em class="sig-param"><span class="n">dnids</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/ranker.html#Ranker.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.ranker.Ranker.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.ranker.Ranker.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qaids</span></em>, <em class="sig-param"><span class="n">qnids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prog_hook</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/ranker.html#Ranker.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.ranker.Ranker.predict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-wbia.algo.verif.sklearn_utils">
<span id="wbia-algo-verif-sklearn-utils-module"></span><h2>wbia.algo.verif.sklearn_utils module<a class="headerlink" href="#module-wbia.algo.verif.sklearn_utils" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="wbia.algo.verif.sklearn_utils.PrefitEstimatorEnsemble">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.sklearn_utils.</code><code class="sig-name descname">PrefitEstimatorEnsemble</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clf_list</span></em>, <em class="sig-param"><span class="n">voting</span><span class="o">=</span><span class="default_value">'soft'</span></em>, <em class="sig-param"><span class="n">weights</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#PrefitEstimatorEnsemble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.PrefitEstimatorEnsemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>hacks around limitations of sklearn.ensemble.VotingClassifier</p>
<dl class="py method">
<dt id="wbia.algo.verif.sklearn_utils.PrefitEstimatorEnsemble.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#PrefitEstimatorEnsemble.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.PrefitEstimatorEnsemble.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict class labels for X.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>{array-like</em><em>, </em><em>sparse matrix}</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples and
n_features is the number of features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>maj</strong> – Predicted class labels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like, shape = [n_samples]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.sklearn_utils.PrefitEstimatorEnsemble.predict_proba">
<code class="sig-name descname">predict_proba</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#PrefitEstimatorEnsemble.predict_proba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.PrefitEstimatorEnsemble.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict class probabilities for X in ‘soft’ voting</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.sklearn_utils.StratifiedGroupKFold">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.sklearn_utils.</code><code class="sig-name descname">StratifiedGroupKFold</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_splits</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">shuffle</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">random_state</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#StratifiedGroupKFold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.StratifiedGroupKFold" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.model_selection._split._BaseKFold</span></code></p>
<p>Stratified K-Folds cross-validator with Grouping</p>
<p>Provides train/test indices to split data in train/test sets.</p>
<p>This cross-validation object is a variation of GroupKFold that returns
stratified folds. The folds are made by preserving the percentage of
samples for each class.</p>
<p>Read more in the <span class="xref std std-ref">User Guide</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n_splits</strong> (<em>int</em><em>, </em><em>default=3</em>) – Number of folds. Must be at least 2.</p>
</dd>
</dl>
<dl class="py method">
<dt id="wbia.algo.verif.sklearn_utils.StratifiedGroupKFold.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">groups</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#StratifiedGroupKFold.split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.StratifiedGroupKFold.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate indices to split data into training and test set.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.sklearn_utils.classification_report2">
<code class="sig-prename descclassname">wbia.algo.verif.sklearn_utils.</code><code class="sig-name descname">classification_report2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">y_true</span></em>, <em class="sig-param"><span class="n">y_pred</span></em>, <em class="sig-param"><span class="n">target_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sample_weight</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#classification_report2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.classification_report2" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://csem.flinders.edu.au/research/techreps/SIE07001.pdf">https://csem.flinders.edu.au/research/techreps/SIE07001.pdf</a>
<a class="reference external" href="https://www.mathworks.com/matlabcentral/fileexchange/5648-bm-cm">https://www.mathworks.com/matlabcentral/fileexchange/5648-bm-cm</a>-?requestedDomain=www.mathworks.com
Jurman, Riccadonna, Furlanello, (2012). A Comparison of MCC and CEN</p>
<blockquote>
<div><p>Error Measures in MultiClass Prediction</p>
</div></blockquote>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.sklearn_utils</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y_true</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y_pred</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_names</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_weight</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">classification_report2</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_classes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">.</span><span class="mi">90</span><span class="p">,</span> <span class="o">.</span><span class="mi">05</span><span class="p">,</span> <span class="o">.</span><span class="mi">05</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_classes</span> <span class="o">=</span> <span class="n">p_classes</span> <span class="o">/</span> <span class="n">p_classes</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_wrong</span>   <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">.</span><span class="mi">03</span><span class="p">,</span> <span class="o">.</span><span class="mi">01</span><span class="p">,</span> <span class="o">.</span><span class="mi">02</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y_true</span> <span class="o">=</span> <span class="n">testdata_ytrue</span><span class="p">(</span><span class="n">p_classes</span><span class="p">,</span> <span class="n">p_wrong</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">rng</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">17</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">p_wrong</span> <span class="o">+=</span> <span class="o">.</span><span class="mi">05</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">testdata_ypred</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">p_wrong</span><span class="p">,</span> <span class="n">rng</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">report</span> <span class="o">=</span> <span class="n">classification_report2</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="s1">&#39;hack&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">rs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">qtensure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;raw&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqrd_error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">delta</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sqrd_error</span><span class="o">.</span><span class="n">sort_values</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ys</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">multi_plot</span><span class="p">(</span><span class="n">ydata_list</span><span class="o">=</span><span class="n">ys</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.sklearn_utils.predict_from_probs">
<code class="sig-prename descclassname">wbia.algo.verif.sklearn_utils.</code><code class="sig-name descname">predict_from_probs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probs</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'argmax'</span></em>, <em class="sig-param"><span class="n">target_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#predict_from_probs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.predict_from_probs" title="Permalink to this definition">¶</a></dt>
<dd><p>Predictions are returned as indices into columns or target_names</p>
<dl>
<dt>Doctest:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.sklearn_utils</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pred1</span> <span class="o">=</span> <span class="n">predict_from_probs</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span> <span class="s1">&#39;argmax&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pred2</span> <span class="o">=</span> <span class="n">predict_from_probs</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span> <span class="s1">&#39;argmax&#39;</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="n">probs</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">threshes</span> <span class="o">=</span> <span class="n">probs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pred3</span> <span class="o">=</span> <span class="n">predict_from_probs</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span> <span class="n">threshes</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">target_names</span><span class="o">=</span><span class="n">probs</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.sklearn_utils.predict_proba_df">
<code class="sig-prename descclassname">wbia.algo.verif.sklearn_utils.</code><code class="sig-name descname">predict_proba_df</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clf</span></em>, <em class="sig-param"><span class="n">X_df</span></em>, <em class="sig-param"><span class="n">class_names</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#predict_proba_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.predict_proba_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls sklearn classifier predict_proba but then puts results in a dataframe
using the same index as X_df and incorporating all possible class_names
given</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.sklearn_utils.predict_with_thresh">
<code class="sig-prename descclassname">wbia.algo.verif.sklearn_utils.</code><code class="sig-name descname">predict_with_thresh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probs</span></em>, <em class="sig-param"><span class="n">threshes</span></em>, <em class="sig-param"><span class="n">target_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">force</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">multi</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">return_flags</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#predict_with_thresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.predict_with_thresh" title="Permalink to this definition">¶</a></dt>
<dd><p>if force is true, everything will make a prediction, even if nothing passes
the thresholds. In that case it will use argmax.</p>
<p>if more than one thing passes the thresold we take the highest one if
multi=True, and return nan otherwise.</p>
<dl>
<dt>Doctest:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.sklearn_utils</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">threshes</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pred_enc</span> <span class="o">=</span> <span class="n">predict_with_thresh</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span> <span class="n">threshes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">predict_with_thresh</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">predict_with_thresh</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">],</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.sklearn_utils.temp">
<code class="sig-prename descclassname">wbia.algo.verif.sklearn_utils.</code><code class="sig-name descname">temp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">samples</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#temp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.temp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.sklearn_utils.testdata_ypred">
<code class="sig-prename descclassname">wbia.algo.verif.sklearn_utils.</code><code class="sig-name descname">testdata_ypred</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">y_true</span></em>, <em class="sig-param"><span class="n">p_wrong</span></em>, <em class="sig-param"><span class="n">rng</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#testdata_ypred"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.testdata_ypred" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.sklearn_utils.testdata_ytrue">
<code class="sig-prename descclassname">wbia.algo.verif.sklearn_utils.</code><code class="sig-name descname">testdata_ytrue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p_classes</span></em>, <em class="sig-param"><span class="n">p_wrong</span></em>, <em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">rng</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#testdata_ytrue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.testdata_ytrue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.sklearn_utils.voting_ensemble">
<code class="sig-prename descclassname">wbia.algo.verif.sklearn_utils.</code><code class="sig-name descname">voting_ensemble</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clf_list</span></em>, <em class="sig-param"><span class="n">voting</span><span class="o">=</span><span class="default_value">'hard'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/sklearn_utils.html#voting_ensemble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.sklearn_utils.voting_ensemble" title="Permalink to this definition">¶</a></dt>
<dd><p>hack to construct a VotingClassifier from pretrained classifiers
TODO: contribute similar functionality to sklearn</p>
</dd></dl>

</div>
<div class="section" id="module-wbia.algo.verif.verifier">
<span id="wbia-algo-verif-verifier-module"></span><h2>wbia.algo.verif.verifier module<a class="headerlink" href="#module-wbia.algo.verif.verifier" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="wbia.algo.verif.verifier.BaseVerifier">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.verifier.</code><code class="sig-name descname">BaseVerifier</code><a class="reference internal" href="_modules/wbia/algo/verif/verifier.html#BaseVerifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.verifier.BaseVerifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<dl class="py method">
<dt id="wbia.algo.verif.verifier.BaseVerifier.easiness">
<code class="sig-name descname">easiness</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em>, <em class="sig-param"><span class="n">real</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/verifier.html#BaseVerifier.easiness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.verifier.BaseVerifier.easiness" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the probability of the class each edge is labeled as.  Indicates
how easy it is to classify this example.</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.verifier.BaseVerifier.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/verifier.html#BaseVerifier.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.verifier.BaseVerifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>The vsone.OneVsOneProblem currently handles fitting a model based on
edges. The actual fit call is in clf_helpers.py</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.verifier.BaseVerifier.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'argmax'</span></em>, <em class="sig-param"><span class="n">encoded</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/verifier.html#BaseVerifier.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.verifier.BaseVerifier.predict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.verifier.BaseVerifier.predict_proba_df">
<code class="sig-name descname">predict_proba_df</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/verifier.html#BaseVerifier.predict_proba_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.verifier.BaseVerifier.predict_proba_df" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.verifier.BaseVerifier.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.verifier.BaseVerifier.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.verifier.IntraVerifier">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.verifier.</code><code class="sig-name descname">IntraVerifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pblm</span></em>, <em class="sig-param"><span class="n">task_key</span></em>, <em class="sig-param"><span class="n">clf_key</span></em>, <em class="sig-param"><span class="n">data_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/verifier.html#IntraVerifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.verifier.IntraVerifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.algo.verif.verifier.BaseVerifier" title="wbia.algo.verif.verifier.BaseVerifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.algo.verif.verifier.BaseVerifier</span></code></a></p>
<p>Predicts cross-validated intra-training sample probs.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Requires the original OneVsOneProblem object.
This classifier is for intra-dataset evaulation and is not meant to be
pushlished for use on external datasets.</p>
</div>
<dl class="py method">
<dt id="wbia.algo.verif.verifier.IntraVerifier.predict_proba_df">
<code class="sig-name descname">predict_proba_df</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">want_edges</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/verifier.html#IntraVerifier.predict_proba_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.verifier.IntraVerifier.predict_proba_df" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Predicts task probabilities in one of two ways:</dt><dd><ol class="arabic simple">
<li><p>if the edge was in the training set then its cross-validated
probability is returned.</p></li>
<li><p>if the edge was not in the training set, then the average
prediction over all cross validated classifiers are used.</p></li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.verifier.IntraVerifier.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.verifier.IntraVerifier.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.verifier.Verifier">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.verifier.</code><code class="sig-name descname">Verifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ibs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">deploy_info</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/verifier.html#Verifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.verifier.Verifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.algo.verif.verifier.BaseVerifier" title="wbia.algo.verif.verifier.BaseVerifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.algo.verif.verifier.BaseVerifier</span></code></a></p>
<p class="rubric">Notes</p>
<dl>
<dt>deploy_info should be a dict with the following keys:</dt><dd><p>clf: sklearn classifier
metadata: another dict with key:</p>
<blockquote>
<div><p>class_names - classes that clf predicts
task_key - str
clf_key - str
data_info - tuple of (feat_extract_config, feat_dims)  # TODO: make feat dims part of feat_extract_config defaulted to None
data_info - tuple of (feat_extract_config, feat_dims)</p>
</div></blockquote>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;PZ_MTEST&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">speceis</span> <span class="o">=</span> <span class="s1">&#39;zebra_plains&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">task_key</span> <span class="o">=</span> <span class="s1">&#39;match_state&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verif</span> <span class="o">=</span> <span class="n">Deployer</span><span class="p">()</span><span class="o">.</span><span class="n">_load_published</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">task_key</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="wbia.algo.verif.verifier.Verifier.predict_proba_df">
<code class="sig-name descname">predict_proba_df</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/verifier.html#Verifier.predict_proba_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.verifier.Verifier.predict_proba_df" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.verifier.Verifier.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.verifier.Verifier.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-wbia.algo.verif.vsone">
<span id="wbia-algo-verif-vsone-module"></span><h2>wbia.algo.verif.vsone module<a class="headerlink" href="#module-wbia.algo.verif.vsone" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>CommandLine:</dt><dd><p># Test how well out-of-the-box vsone classifiers to:
python -m wbia.algo.verif.vsone evaluate_classifiers –db DETECT_SEATURTLES</p>
<p># Train a classifier for deployment
# Will output to the current working directory
python -m wbia.algo.verif.vsone deploy –db GZ_Master1</p>
</dd>
</dl>
<dl class="py class">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.vsone.</code><code class="sig-name descname">AnnotPairSamples</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ibs</span></em>, <em class="sig-param"><span class="n">aid_pairs</span></em>, <em class="sig-param"><span class="n">infr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">apply</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.algo.verif.clf_helpers.MultiTaskSamples" title="wbia.algo.verif.clf_helpers.MultiTaskSamples"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.algo.verif.clf_helpers.MultiTaskSamples</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ubelt.util_mixins.NiceRepr</span></code></p>
<p>Manages the different ways to assign samples (i.e. feat-label pairs) to
1-v-1 classification</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone AnnotPairSamples</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">load_samples</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples</span> <span class="o">=</span> <span class="n">AnnotPairSamples</span><span class="p">(</span><span class="n">pblm</span><span class="o">.</span><span class="n">ibs</span><span class="p">,</span> <span class="n">pblm</span><span class="o">.</span><span class="n">raw_simple_scores</span><span class="p">,</span> <span class="p">{})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples</span><span class="o">.</span><span class="n">print_info</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">samples</span><span class="o">.</span><span class="n">sample_hashid</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encode_index</span> <span class="o">=</span> <span class="n">samples</span><span class="o">.</span><span class="n">subtasks</span><span class="p">[</span><span class="s1">&#39;match_state&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">encoded_df</span><span class="o">.</span><span class="n">index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indica_index</span> <span class="o">=</span> <span class="n">samples</span><span class="o">.</span><span class="n">subtasks</span><span class="p">[</span><span class="s1">&#39;match_state&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">indicator_df</span><span class="o">.</span><span class="n">index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">samples</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="n">encode_index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">samples</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="n">indica_index</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.apply_multi_task_binary_label">
<code class="sig-name descname">apply_multi_task_binary_label</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.apply_multi_task_binary_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.apply_multi_task_binary_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.apply_multi_task_multi_label">
<code class="sig-name descname">apply_multi_task_multi_label</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.apply_multi_task_multi_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.apply_multi_task_multi_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.apply_single_task_multi_label">
<code class="sig-name descname">apply_single_task_multi_label</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.apply_single_task_multi_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.apply_single_task_multi_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.compress">
<code class="sig-name descname">compress</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flags</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.compress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.compress" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.edge_set_hashid">
<code class="sig-name descname">edge_set_hashid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.edge_set_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.edge_set_hashid" title="Permalink to this definition">¶</a></dt>
<dd><p>Faster than using ut.combine_uuids, because we condense and don’t
bother casting back to UUIDS, and we just directly hash.</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.group_ids">
<em class="property">property </em><code class="sig-name descname">group_ids</code><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.group_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Prevents samples with the same group-id from appearing in the same
cross validation fold. For us this means any pair within the same
name or between the same names will have the same groupid.</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.is_comparable">
<code class="sig-name descname">is_comparable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.is_comparable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.is_comparable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.is_photobomb">
<code class="sig-name descname">is_photobomb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.is_photobomb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.is_photobomb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.is_same">
<code class="sig-name descname">is_same</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.is_same"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.is_same" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.print_featinfo">
<code class="sig-name descname">print_featinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.print_featinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.print_featinfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.sample_hashid">
<code class="sig-name descname">sample_hashid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.sample_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.sample_hashid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.set_feats">
<code class="sig-name descname">set_feats</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X_dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.set_feats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.set_feats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.set_simple_scores">
<code class="sig-name descname">set_simple_scores</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">simple_scores</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.set_simple_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.set_simple_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.task_label_hashid">
<code class="sig-name descname">task_label_hashid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.task_label_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.task_label_hashid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.AnnotPairSamples.task_sample_hashid">
<code class="sig-name descname">task_sample_hashid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#AnnotPairSamples.task_sample_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.AnnotPairSamples.task_sample_hashid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.vsone.</code><code class="sig-name descname">OneVsOneProblem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">infr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.algo.verif.clf_helpers.ClfProblem" title="wbia.algo.verif.clf_helpers.ClfProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.algo.verif.clf_helpers.ClfProblem</span></code></a></p>
<p>Keeps information about the one-vs-one pairwise classification problem</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone evaluate_classifiers
python -m wbia.algo.verif.vsone evaluate_classifiers –db PZ_PB_RF_TRAIN
python -m wbia.algo.verif.vsone evaluate_classifiers –db PZ_PB_RF_TRAIN –profile
python -m wbia.algo.verif.vsone evaluate_classifiers –db PZ_MTEST –show
python -m wbia.algo.verif.vsone evaluate_classifiers –db PZ_Master1 –show
python -m wbia.algo.verif.vsone evaluate_classifiers –db GZ_Master1 –show
python -m wbia.algo.verif.vsone evaluate_classifiers –db RotanTurtles –show</p>
<p>python -m wbia.algo.verif.vsone evaluate_classifiers –db testdb1 –show -a default</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia_cnn)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="s1">&#39;PZ_MTEST&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">hyper_params</span><span class="p">[</span><span class="s1">&#39;xval_kw&#39;</span><span class="p">][</span><span class="s1">&#39;n_splits&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">pblm</span><span class="o">.</span><span class="n">xval_kw</span><span class="o">.</span><span class="n">n_splits</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">xval_kw</span><span class="o">.</span><span class="n">n_splits</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">pblm</span><span class="o">.</span><span class="n">hyper_params</span><span class="p">[</span><span class="s1">&#39;xval_kw&#39;</span><span class="p">][</span><span class="s1">&#39;n_splits&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">load_samples</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">load_features</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.appname">
<code class="sig-name descname">appname</code><em class="property"> = 'vsone_rf_train'</em><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.appname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.auto_decisions_at_threshold">
<code class="sig-name descname">auto_decisions_at_threshold</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">primary_task</span></em>, <em class="sig-param"><span class="n">task_probs</span></em>, <em class="sig-param"><span class="n">task_thresh</span></em>, <em class="sig-param"><span class="n">task_keys</span></em>, <em class="sig-param"><span class="n">clf_key</span></em>, <em class="sig-param"><span class="n">data_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.auto_decisions_at_threshold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.auto_decisions_at_threshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.build_feature_subsets">
<code class="sig-name descname">build_feature_subsets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.build_feature_subsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.build_feature_subsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to identify a useful subset of features to reduce problem
dimensionality</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone build_feature_subsets –db GZ_Master1
python -m wbia.algo.verif.vsone build_feature_subsets –db PZ_PB_RF_TRAIN</p>
<p>python -m wbia Chap4._setup_pblm –db GZ_Master1 –eval
python -m wbia Chap4._setup_pblm –db PZ_Master1 –eval</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="s1">&#39;PZ_MTEST&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">load_samples</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">load_features</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">build_feature_subsets</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">print_featinfo</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.deploy">
<code class="sig-name descname">deploy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dpath</span><span class="o">=</span><span class="default_value">'.'</span></em>, <em class="sig-param"><span class="n">task_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.deploy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.deploy" title="Permalink to this definition">¶</a></dt>
<dd><p>Trains and saves a classifier for deployment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dpath</strong> (<em>str</em>) – where to save the deployable model</p></li>
<li><p><strong>task_key</strong> (<em>str</em>) – task to train for (default match_state)</p></li>
<li><p><strong>publish</strong> (<em>bool</em>) – if True will try to rsync the model and metadata to
the publication server.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;PZ_MTEST&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                  <span class="n">sample_method</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">task_key</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--task&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;match_state&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publish</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--publish&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">deploy</span><span class="p">(</span><span class="n">task_key</span><span class="o">=</span><span class="n">task_key</span><span class="p">,</span> <span class="n">publish</span><span class="o">=</span><span class="n">publish</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<dl class="simple">
<dt>A deployment consists of the following information</dt><dd><ul class="simple">
<li><p>The classifier itself</p></li>
<li><dl class="simple">
<dt>Information needed to construct the input to the classifier</dt><dd><ul>
<li><p>TODO: can this be encoded as an sklearn pipeline?</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Metadata concerning what data the classifier was trained with</p></li>
<li><p>PUBLISH TO /media/hdd/PUBLIC/models/pairclf</p></li>
</ul>
</dd>
<dt>Ignore:</dt><dd><p>pblm.evaluate_classifiers(with_simple=False)
res = pblm.task_combo_res[pblm.primary_task_key][‘RF’][‘learn(sum,glob)’]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.deploy_all">
<code class="sig-name descname">deploy_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dpath</span><span class="o">=</span><span class="default_value">'.'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.deploy_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.deploy_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.ensure_deploy_classifiers">
<code class="sig-name descname">ensure_deploy_classifiers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dpath</span><span class="o">=</span><span class="default_value">'.'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.ensure_deploy_classifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.ensure_deploy_classifiers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.evaluate_classifiers">
<code class="sig-name descname">evaluate_classifiers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">with_simple</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.evaluate_classifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.evaluate_classifiers" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone evaluate_classifiers
python -m wbia.algo.verif.vsone evaluate_classifiers –db PZ_MTEST
python -m wbia.algo.verif.vsone evaluate_classifiers –db GZ_Master1
python -m wbia.algo.verif.vsone evaluate_classifiers –db GIRM_Master1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;PZ_MTEST&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                  <span class="n">sample_method</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pblm.default_clf_key = &#39;Logit&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">default_clf_key</span> <span class="o">=</span> <span class="s1">&#39;RF&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">evaluate_classifiers</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.evaluate_simple_scores">
<code class="sig-name descname">evaluate_simple_scores</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_keys</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.evaluate_simple_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.evaluate_simple_scores" title="Permalink to this definition">¶</a></dt>
<dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">set_pandas_options</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">load_samples</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">load_features</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">evaluate_simple_scores</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.extra_report">
<code class="sig-name descname">extra_report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_probs</span></em>, <em class="sig-param"><span class="n">is_auto</span></em>, <em class="sig-param"><span class="n">want_samples</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.extra_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.extra_report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.feature_importance">
<code class="sig-name descname">feature_importance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clf_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_key</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.feature_importance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.feature_importance" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone report_importance –show
python -m wbia.algo.verif.vsone report_importance –show –db PZ_PB_RF_TRAIN</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="s1">&#39;GZ_Master1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_key</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">default_data_key</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clf_key</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">default_clf_key</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">task_key</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">primary_task_key</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">setup_evaluation</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">featinfo</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">feature_info</span><span class="p">(</span><span class="n">task_key</span><span class="p">,</span> <span class="n">clf_key</span><span class="p">,</span> <span class="n">data_key</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">importances</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">wordcloud</span><span class="p">(</span><span class="n">featinfo</span><span class="o">.</span><span class="n">importances</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.from_aids">
<em class="property">classmethod </em><code class="sig-name descname">from_aids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ibs</span></em>, <em class="sig-param"><span class="n">aids</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.from_aids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.from_aids" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a OneVsOneProblem from a subset of aids.
Use <cite>pblm.load_samples</cite> to sample a set of pairs</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.from_empty">
<em class="property">classmethod </em><code class="sig-name descname">from_empty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">defaultdb</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.from_empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.from_empty" title="Permalink to this definition">¶</a></dt>
<dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">defaultdb</span> <span class="o">=</span> <span class="s1">&#39;GIRM_Master1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="n">defaultdb</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.from_labeled_aidpairs">
<em class="property">classmethod </em><code class="sig-name descname">from_labeled_aidpairs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ibs</span></em>, <em class="sig-param"><span class="n">labeled_aid_pairs</span></em>, <em class="sig-param"><span class="n">class_names</span></em>, <em class="sig-param"><span class="n">task_name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.from_labeled_aidpairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.from_labeled_aidpairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a OneVsOneProblem directly from a set of aid pairs.
It is not necessary to call <cite>pblm.load_samples</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ibs</strong> (<a class="reference internal" href="wbia.control.html#wbia.control.IBEISControl.IBEISController" title="wbia.control.IBEISControl.IBEISController"><em>IBEISController</em></a>) – </p></li>
<li><p><strong>labeled_aid_pairs</strong> (<em>list</em>) – tuples of (aid1, aid2, int_label)</p></li>
<li><p><strong>class_names</strong> (<em>list</em>) – list of names corresponding to integer labels</p></li>
<li><p><strong>task_name</strong> (<em>str</em>) – identifier for the task (e.g. custom_match_state)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.load_features">
<code class="sig-name descname">load_features</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">use_cache</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">with_simple</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.load_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.load_features" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone load_features –profile</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pblm = OneVsOneProblem.from_empty(&#39;GZ_Master1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="s1">&#39;PZ_PB_RF_TRAIN&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">load_samples</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">load_features</span><span class="p">(</span><span class="n">with_simple</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.load_samples">
<code class="sig-name descname">load_samples</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.load_samples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.load_samples" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone load_samples –profile</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pblm = OneVsOneProblem.from_empty(&#39;PZ_MTEST&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pblm = OneVsOneProblem.from_empty(&#39;PZ_PB_RF_TRAIN&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="s1">&#39;PZ_Master1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">load_samples</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">samples</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples</span><span class="o">.</span><span class="n">print_info</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.load_simple_scores">
<code class="sig-name descname">load_simple_scores</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.load_simple_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.load_simple_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.make_graph_based_bootstrap_pairs">
<code class="sig-name descname">make_graph_based_bootstrap_pairs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.make_graph_based_bootstrap_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.make_graph_based_bootstrap_pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Sampling method for when you want to bootstrap VAMP after several
reviews.</p>
<p>Sample pairs for VAMP training using manually reviewed edges and mines
other (random) pairs as needed.</p>
<dl>
<dt>We first sample a base set via:</dt><dd><ol class="arabic simple">
<li><p>take all manually reviewed positive edges (not in an inconsistent PCC)</p></li>
<li><p>take all manually reviewed negative edges (not touching an inconsistent PCC)</p></li>
</ol>
<p>(3) take all manually reviewed incomparable edges.
Note: it is important to ignore any PCC currently in an
inconsistent state.</p>
</dd>
</dl>
<p>We can then generate additional positive samples by sampling
automatically reviewed positive edges within PCCs.</p>
<p>We can do the same for negatives.</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.make_lnbnn_training_pairs">
<code class="sig-name descname">make_lnbnn_training_pairs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.make_lnbnn_training_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.make_lnbnn_training_pairs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.make_randomized_training_pairs">
<code class="sig-name descname">make_randomized_training_pairs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.make_randomized_training_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.make_randomized_training_pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomized sample that does not require LNBNN</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.make_training_pairs">
<code class="sig-name descname">make_training_pairs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.make_training_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.make_training_pairs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone make_training_pairs –db PZ_Master1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="s1">&#39;PZ_MTEST&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">make_training_pairs</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.prune_features">
<code class="sig-name descname">prune_features</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.prune_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.prune_features" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://blog.datadive.net/selecting-good-features-part-iii-random-forests/">http://blog.datadive.net/selecting-good-features-part-iii-random-forests/</a>
<a class="reference external" href="http://alexperrier.github.io/jekyll/update/2015/08/27/feature-importance-random-forests-gini-accuracy.html">http://alexperrier.github.io/jekyll/update/2015/08/27/feature-importance-random-forests-gini-accuracy.html</a>
<a class="reference external" href="https://arxiv.org/abs/1407.7502">https://arxiv.org/abs/1407.7502</a>
<a class="reference external" href="https://github.com/glouppe/phd-thesis">https://github.com/glouppe/phd-thesis</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;PZ_MTEST&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;PZ_PB_RF_TRAIN&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;PZ_Master1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;GZ_Master1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">setup_evaluation</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.qt_review_hardcases">
<code class="sig-name descname">qt_review_hardcases</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.qt_review_hardcases"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.qt_review_hardcases" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="s1">&#39;PZ_Master1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pblm = OneVsOneProblem.from_empty(&#39;GIRM_Master1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pblm = OneVsOneProblem.from_empty(&#39;PZ_PB_RF_TRAIN&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">evaluate_classifiers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">win</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">qt_review_hardcases</span><span class="p">()</span>
</pre></div>
</div>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.scripts.postdoc</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">VerifierExpt</span><span class="p">(</span><span class="s1">&#39;RotanTurtles&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">VerifierExpt</span><span class="p">(</span><span class="s1">&#39;humpbacks_fb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">_precollect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ibs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aids_pool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">vsone</span><span class="o">.</span><span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span> <span class="o">=</span> <span class="n">pblm</span><span class="o">.</span><span class="n">infr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;algo.hardcase&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;autoreview.enabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;redun.enabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;ranking.enabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">win</span> <span class="o">=</span> <span class="n">infr</span><span class="o">.</span><span class="n">qt_review_loop</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">eval_data_keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">pblm</span><span class="o">.</span><span class="n">default_data_key</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">eval_clf_keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">pblm</span><span class="o">.</span><span class="n">default_clf_key</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">evaluate_classifiers</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># TEST to ensure we can priorizite reviewed edges without inference</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.graph</span> <span class="kn">import</span> <span class="n">demo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">num_pccs</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">p_incon</span><span class="o">=.</span><span class="mi">4</span><span class="p">,</span> <span class="n">size_std</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span> <span class="o">=</span> <span class="n">demo</span><span class="o">.</span><span class="n">demodata_infr</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;redun.pos&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;redun.neg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span><span class="o">.</span><span class="n">apply_nondynamic_update</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">infr</span><span class="o">.</span><span class="n">edges</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prob_match</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dzip</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">infr</span><span class="o">.</span><span class="n">dummy_matcher</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">edges</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span><span class="o">.</span><span class="n">set_edge_attrs</span><span class="p">(</span><span class="s1">&#39;prob_match&#39;</span><span class="p">,</span> <span class="n">prob_match</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;redun.enabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infr</span><span class="o">.</span><span class="n">prioritize</span><span class="p">(</span><span class="s1">&#39;prob_match&#39;</span><span class="p">,</span> <span class="n">edges</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">order</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">order</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">infr</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.report_classifier_importance2">
<code class="sig-name descname">report_classifier_importance2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clf</span></em>, <em class="sig-param"><span class="n">data_key</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.report_classifier_importance2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.report_classifier_importance2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.report_evaluation">
<code class="sig-name descname">report_evaluation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.report_evaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.report_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.verif.vsone report_evaluation –db PZ_MTEST</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.verif.vsone</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span> <span class="o">=</span> <span class="n">OneVsOneProblem</span><span class="o">.</span><span class="n">from_empty</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;PZ_MTEST&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                  <span class="n">sample_method</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">eval_clf_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MLP&#39;</span><span class="p">,</span> <span class="s1">&#39;Logit&#39;</span><span class="p">,</span> <span class="s1">&#39;RF&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">eval_data_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;learn(sum,glob)&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">setup_evaluation</span><span class="p">(</span><span class="n">with_simple</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pblm</span><span class="o">.</span><span class="n">report_evaluation</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.report_importance">
<code class="sig-name descname">report_importance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_key</span></em>, <em class="sig-param"><span class="n">clf_key</span></em>, <em class="sig-param"><span class="n">data_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.report_importance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.report_importance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.report_simple_scores">
<code class="sig-name descname">report_simple_scores</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_key</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.report_simple_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.report_simple_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">with_simple</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.setup_evaluation">
<code class="sig-name descname">setup_evaluation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">with_simple</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.setup_evaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.setup_evaluation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.algo.verif.vsone.OneVsOneProblem.task_evaluation_report">
<code class="sig-name descname">task_evaluation_report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#OneVsOneProblem.task_evaluation_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.OneVsOneProblem.task_evaluation_report" title="Permalink to this definition">¶</a></dt>
<dd><p>clf_keys = [pblm.default_clf_key]</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.algo.verif.vsone.PairSampleConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.algo.verif.vsone.</code><code class="sig-name descname">PairSampleConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif/vsone.html#PairSampleConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.vsone.PairSampleConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="wbia.dtool.html#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-wbia.algo.verif">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-wbia.algo.verif" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt id="wbia.algo.verif.IMPORT_TUPLES">
<code class="sig-prename descclassname">wbia.algo.verif.</code><code class="sig-name descname">IMPORT_TUPLES</code><em class="property"> = [('clf_helpers', None), ('sklearn_utils', None), ('vsone', None), ('deploy', None), ('verifier', None), ('pairfeat', None)]</em><a class="headerlink" href="#wbia.algo.verif.IMPORT_TUPLES" title="Permalink to this definition">¶</a></dt>
<dd><p>Regen Command:
cd /home/joncrall/code/wbia/wbia/algo/verif
makeinit.py –modname=wbia.algo.verif</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.reassign_submodule_attributes">
<code class="sig-prename descclassname">wbia.algo.verif.</code><code class="sig-name descname">reassign_submodule_attributes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif.html#reassign_submodule_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.reassign_submodule_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates attributes in the __init__ modules with updated attributes
in the submodules.</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.reload_subs">
<code class="sig-prename descclassname">wbia.algo.verif.</code><code class="sig-name descname">reload_subs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/algo/verif.html#reload_subs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.algo.verif.reload_subs" title="Permalink to this definition">¶</a></dt>
<dd><p>Reloads wbia.algo.verif and submodules</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.algo.verif.rrrr">
<code class="sig-prename descclassname">wbia.algo.verif.</code><code class="sig-name descname">rrrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.algo.verif.rrrr" title="Permalink to this definition">¶</a></dt>
<dd><p>Reloads wbia.algo.verif and submodules</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">wbia</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="wbia.html">wbia - Wildbook IA</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="wbia.algo.html">wbia.algo package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.control.html">wbia.control package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.dbio.html">wbia.dbio package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.detecttools.html">wbia.detecttools package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.dtool.html">wbia.dtool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.expt.html">wbia.expt package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.gui.html">wbia.gui package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.guitool.html">wbia.guitool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.init.html">wbia.init package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.other.html">wbia.other package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.plottool.html">wbia.plottool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.scripts.html">wbia.scripts package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.templates.html">wbia.templates package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.viz.html">wbia.viz package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.web.html">wbia.web package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#wbia-main">wbia.__main__</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia._devcmds_wbia">wbia._devcmds_wbia</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia._devscript">wbia._devscript</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia._wbia_object">wbia._wbia_object</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.annotmatch_funcs">wbia.annotmatch_funcs</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.annots">wbia.annots</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.constants">wbia.constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.core_annots">wbia.core_annots</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.core_images">wbia.core_images</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.core_parts">wbia.core_parts</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.demodata">wbia.demodata</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.dev">wbia.dev</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.filter_configs">wbia.filter_configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.images">wbia.images</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.params">wbia.params</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.tag_funcs">wbia.tag_funcs</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="wbia.html">wbia - Wildbook IA</a><ul>
  <li><a href="wbia.algo.html">wbia.algo package</a><ul>
      <li>Previous: <a href="wbia.algo.smk.html" title="previous chapter">wbia.algo.smk package</a></li>
      <li>Next: <a href="wbia.algo.verif.torch.html" title="next chapter">wbia.algo.verif.torch package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Wild Me.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/wbia.algo.verif.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>