<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>wbia.dtool package &mdash; wildbook-ia 4.0.1.dev11+dirty documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="wbia.expt package" href="wbia.expt.html" />
    <link rel="prev" title="wbia.detecttools.wbiadata package" href="wbia.detecttools.wbiadata.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> wildbook-ia
          </a>
              <div class="version">
                4.0.1.dev11+dirty
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.html">wbia.algo package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.control.html">wbia.control package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.dbio.html">wbia.dbio package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.detecttools.html">wbia.detecttools package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">wbia.dtool package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-wbia.dtool.base">wbia.dtool.base module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-wbia.dtool.depcache_control">wbia.dtool.depcache_control module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-wbia.dtool.depcache_table">wbia.dtool.depcache_table module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wbia-dtool-example-depcache-module">wbia.dtool.example_depcache module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wbia-dtool-example-depcache2-module">wbia.dtool.example_depcache2 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-wbia.dtool.input_helpers">wbia.dtool.input_helpers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-wbia.dtool.sql_control">wbia.dtool.sql_control module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-wbia.dtool">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wbia.expt.html">wbia.expt package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.gui.html">wbia.gui package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.guitool.html">wbia.guitool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.init.html">wbia.init package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.other.html">wbia.other package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.plottool.html">wbia.plottool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.scripts.html">wbia.scripts package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.templates.html">wbia.templates package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.viz.html">wbia.viz package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.web.html">wbia.web package</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#wbia-main">wbia.__main__</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#wbia-devcmds-wbia">wbia._devcmds_wbia</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#wbia-devscript">wbia._devscript</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia._wbia_object">wbia._wbia_object</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.annotmatch_funcs">wbia.annotmatch_funcs</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.annots">wbia.annots</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.constants">wbia.constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.core_annots">wbia.core_annots</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.core_images">wbia.core_images</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.core_parts">wbia.core_parts</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#wbia-demodata">wbia.demodata</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#wbia-dev">wbia.dev</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#wbia-filter-configs">wbia.filter_configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.images">wbia.images</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.params">wbia.params</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.tag_funcs">wbia.tag_funcs</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">wildbook-ia</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="api.html">API</a> &raquo;</li>
      <li>wbia.dtool package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/wbia.dtool.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="wbia-dtool-package">
<h1>wbia.dtool package<a class="headerlink" href="#wbia-dtool-package" title="Permalink to this headline"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-wbia.dtool.base">
<span id="wbia-dtool-base-module"></span><h2>wbia.dtool.base module<a class="headerlink" href="#module-wbia.dtool.base" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.base.AlgoResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">AlgoResult</span></span><a class="reference internal" href="_modules/wbia/dtool/base.html#AlgoResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.AlgoResult" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for algo result objects</p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.AlgoResult.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#AlgoResult.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.AlgoResult.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.AlgoResult.load_from_fpath">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_from_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#AlgoResult.load_from_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.AlgoResult.load_from_fpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.AlgoResult.save_to_fpath">
<span class="sig-name descname"><span class="pre">save_to_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#AlgoResult.save_to_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.AlgoResult.save_to_fpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.base.AnnotSimiliarity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">AnnotSimiliarity</span></span><a class="reference internal" href="_modules/wbia/dtool/base.html#AnnotSimiliarity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.AnnotSimiliarity" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.AnnotSimiliarity.get_data_hashid">
<span class="sig-name descname"><span class="pre">get_data_hashid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#AnnotSimiliarity.get_data_hashid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.AnnotSimiliarity.get_data_hashid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.AnnotSimiliarity.get_query_hashid">
<span class="sig-name descname"><span class="pre">get_query_hashid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#AnnotSimiliarity.get_query_hashid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.AnnotSimiliarity.get_query_hashid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.base.BaseRequest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">BaseRequest</span></span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.IBEISRequestHacks" title="wbia.dtool.base.IBEISRequestHacks"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.IBEISRequestHacks</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<p>Class that maintains both an algorithm, inputs, and a config.</p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.BaseRequest.ensure_dependencies">
<span class="sig-name descname"><span class="pre">ensure_dependencies</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.ensure_dependencies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.ensure_dependencies" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base –exec-BaseRequest.ensure_dependencies</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">new_request</span><span class="p">(</span><span class="s1">&#39;vsmany&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="o">.</span><span class="n">ensure_dependencies</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.BaseRequest.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_rowids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.execute" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.BaseRequest.get_cfgstr">
<span class="sig-name descname"><span class="pre">get_cfgstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_pipe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.get_cfgstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.get_cfgstr" title="Permalink to this definition"></a></dt>
<dd><p>main cfgstring used to identify the ‘querytype’</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.BaseRequest.get_input_hashid">
<span class="sig-name descname"><span class="pre">get_input_hashid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.get_input_hashid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.get_input_hashid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.BaseRequest.get_pipe_cfgstr">
<span class="sig-name descname"><span class="pre">get_pipe_cfgstr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.get_pipe_cfgstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.get_pipe_cfgstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.BaseRequest.get_pipe_hashid">
<span class="sig-name descname"><span class="pre">get_pipe_hashid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.get_pipe_hashid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.get_pipe_hashid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.BaseRequest.new">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.new" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.BaseRequest.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.base.BaseRequest.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.BaseRequest.static_new">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">static_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.static_new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.static_new" title="Permalink to this definition"></a></dt>
<dd><p>hack for autoreload</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.base.ClassVsClassSimilarityRequest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">ClassVsClassSimilarityRequest</span></span><a class="reference internal" href="_modules/wbia/dtool/base.html#ClassVsClassSimilarityRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.ClassVsClassSimilarityRequest" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.BaseRequest" title="wbia.dtool.base.BaseRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.BaseRequest</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.ClassVsClassSimilarityRequest.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.base.ClassVsClassSimilarityRequest.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.base.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">Config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.DictLike</span></code></p>
<p>Base class for heirarchical config
need to overwrite get_param_info_list</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base Config</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg1</span> <span class="o">=</span> <span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg2</span> <span class="o">=</span> <span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Must be hashable and orderable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hash</span><span class="p">(</span><span class="n">cfg1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg1</span> <span class="o">&gt;</span> <span class="n">cfg2</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.assert_self_types">
<span class="sig-name descname"><span class="pre">assert_self_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.assert_self_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.assert_self_types" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.class_from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">class_from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.class_from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.class_from_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.deepcopy">
<span class="sig-name descname"><span class="pre">deepcopy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.deepcopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.deepcopy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.from_argv_cfgs">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_argv_cfgs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.from_argv_cfgs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.from_argv_cfgs" title="Permalink to this definition"></a></dt>
<dd><p>handy command line tool</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.from_argv_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_argv_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.from_argv_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.from_argv_dict" title="Permalink to this definition"></a></dt>
<dd><p>handy command line tool
ut.parse_argv_cfg</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.from_dict" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict</strong> (<a href="#id2"><span class="problematic" id="id3">dict_</span></a>) – a dictionary</p></li>
<li><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>param_info_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base Config.from_dict –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">cls</span> <span class="o">=</span> <span class="n">Config</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Knorm&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;min_pername&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;max_pername&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(--show)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dlg</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">make_qt_dialog</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Confirm Merge Query&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Confirm&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dlg</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">700</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dlg</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">widget</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">guitool</span><span class="o">.</span><span class="n">qtapp_loop</span><span class="p">(</span><span class="n">qwin</span><span class="o">=</span><span class="n">dlg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">updated_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;updated_config = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">updated_config</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.get" title="Permalink to this definition"></a></dt>
<dd><p>get a paramater value by string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.get_cfgstr">
<span class="sig-name descname"><span class="pre">get_cfgstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_cfgstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_cfgstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.get_cfgstr_list">
<span class="sig-name descname"><span class="pre">get_cfgstr_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_cfgstr_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_cfgstr_list" title="Permalink to this definition"></a></dt>
<dd><p>default get_cfgstr_list, can be overrided by a config object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.get_config_name">
<span class="sig-name descname"><span class="pre">get_config_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_config_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_config_name" title="Permalink to this definition"></a></dt>
<dd><p>the user might want to overwrite this function</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.get_hashid">
<span class="sig-name descname"><span class="pre">get_hashid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_hashid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_hashid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.get_param_info_dict">
<span class="sig-name descname"><span class="pre">get_param_info_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_param_info_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_param_info_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.get_param_info_list">
<span class="sig-name descname"><span class="pre">get_param_info_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_param_info_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_param_info_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.get_sub_config_list">
<span class="sig-name descname"><span class="pre">get_sub_config_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_sub_config_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_sub_config_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.get_varnames">
<span class="sig-name descname"><span class="pre">get_varnames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_varnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_varnames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.getinfo">
<span class="sig-name descname"><span class="pre">getinfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.getinfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.getinfo" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.getitem">
<span class="sig-name descname"><span class="pre">getitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.getitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.getitem" title="Permalink to this definition"></a></dt>
<dd><p>Required for DictLike interface</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.getstate_todict_recursive">
<span class="sig-name descname"><span class="pre">getstate_todict_recursive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.getstate_todict_recursive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.getstate_todict_recursive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.initialize_params">
<span class="sig-name descname"><span class="pre">initialize_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.initialize_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.initialize_params" title="Permalink to this definition"></a></dt>
<dd><p>Initializes config class attributes based on params info list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.keys" title="Permalink to this definition"></a></dt>
<dd><p>Required for DictLike interface</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.make_qt_dialog">
<span class="sig-name descname"><span class="pre">make_qt_dialog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Edit</span> <span class="pre">Config'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Confim'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.make_qt_dialog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.make_qt_dialog" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.native_items">
<span class="sig-name descname"><span class="pre">native_items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.native_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.native_items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.nested_items">
<span class="sig-name descname"><span class="pre">nested_items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.nested_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.nested_items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.parse_items">
<span class="sig-name descname"><span class="pre">parse_items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.parse_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.parse_items" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>param_list</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base –exec-parse_items</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">DummyVsManyConfig</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">DummyVsManyConfig</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">param_list</span> <span class="o">=</span> <span class="n">cfg</span><span class="o">.</span><span class="n">parse_items</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;param_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">param_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.parse_namespace_config_items">
<span class="sig-name descname"><span class="pre">parse_namespace_config_items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.parse_namespace_config_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.parse_namespace_config_items" title="Permalink to this definition"></a></dt>
<dd><p>Recursively extracts key, val pairs from Config objects
into a flat list. (there must not be name conflicts)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.pop_update">
<span class="sig-name descname"><span class="pre">pop_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.pop_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.pop_update" title="Permalink to this definition"></a></dt>
<dd><p>Updates based on other, while popping off used arguments.
(useful for testing if a parameter was unused or misspelled)</p>
<dl>
<dt>Doctest:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia</span> <span class="kn">import</span> <span class="n">dtool</span> <span class="k">as</span> <span class="n">dt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">pop_update</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="s1">&#39;a&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">other</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.setitem">
<span class="sig-name descname"><span class="pre">setitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.setitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.setitem" title="Permalink to this definition"></a></dt>
<dd><p>Required for DictLike interface</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.update" title="Permalink to this definition"></a></dt>
<dd><p>Overwrites default DictLike update for only keys that exist.
Non-existing key are ignored.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>prefixed keys in the form &lt;classname&gt;_&lt;key&gt; will be just be
interpreted as &lt;key&gt;</p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base update –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">DummyVsManyConfig</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">DummyVsManyConfig</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">DummyAlgo_version</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.Config.update2">
<span class="sig-name descname"><span class="pre">update2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.update2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.Config.update2" title="Permalink to this definition"></a></dt>
<dd><p>Overwrites default DictLike update for only keys that exist.
Non-existing key are ignored.
Also updates nested configs.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>prefixed keys in the form &lt;classname&gt;_&lt;key&gt; will be just be
interpreted as &lt;key&gt;</p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base update –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia</span> <span class="kn">import</span> <span class="n">dtool</span> <span class="k">as</span> <span class="n">dt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;sub1&#39;</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">33</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">}),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;sub2&#39;</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;sub3&#39;</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">88</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">}),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">}),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">update2</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="o">.</span><span class="n">c</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="o">.</span><span class="n">sub1</span><span class="o">.</span><span class="n">c</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="o">.</span><span class="n">sub2</span><span class="o">.</span><span class="n">c</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="o">.</span><span class="n">sub2</span><span class="o">.</span><span class="n">sub3</span><span class="o">.</span><span class="n">c</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="o">.</span><span class="n">sub1</span><span class="o">.</span><span class="n">y</span> <span class="o">==</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.base.IBEISRequestHacks">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">IBEISRequestHacks</span></span><a class="reference internal" href="_modules/wbia/dtool/base.html#IBEISRequestHacks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.base.IBEISRequestHacks.dannots">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dannots</span></span><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.dannots" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.base.IBEISRequestHacks.extern_data_config2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extern_data_config2</span></span><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.extern_data_config2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.base.IBEISRequestHacks.extern_query_config2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extern_query_config2</span></span><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.extern_query_config2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.IBEISRequestHacks.get_qreq_annot_nids">
<span class="sig-name descname"><span class="pre">get_qreq_annot_nids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#IBEISRequestHacks.get_qreq_annot_nids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.get_qreq_annot_nids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.base.IBEISRequestHacks.ibs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ibs</span></span><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.ibs" title="Permalink to this definition"></a></dt>
<dd><p>HACK specific to wbia</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.base.IBEISRequestHacks.qannots">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qannots</span></span><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.qannots" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.base.MatchResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">MatchResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qaid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qnid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dnid_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annot_score_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_nids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_score_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#MatchResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.MatchResult" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.AlgoResult" title="wbia.dtool.base.AlgoResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.AlgoResult</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.base.MatchResult.daids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">daids</span></span><a class="headerlink" href="#wbia.dtool.base.MatchResult.daids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.base.MatchResult.num_daids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_daids</span></span><a class="headerlink" href="#wbia.dtool.base.MatchResult.num_daids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.base.MatchResult.qaids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qaids</span></span><a class="headerlink" href="#wbia.dtool.base.MatchResult.qaids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.base.StackedConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">StackedConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#StackedConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.StackedConfig" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.DictLike</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_class.HashComparable</span></code></p>
<p>Manages a list of configurations</p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.StackedConfig.get_cfgstr">
<span class="sig-name descname"><span class="pre">get_cfgstr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#StackedConfig.get_cfgstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.StackedConfig.get_cfgstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.StackedConfig.getitem">
<span class="sig-name descname"><span class="pre">getitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#StackedConfig.getitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.StackedConfig.getitem" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.StackedConfig.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#StackedConfig.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.StackedConfig.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.base.VsManySimilarityRequest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">VsManySimilarityRequest</span></span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsManySimilarityRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.VsManySimilarityRequest" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.BaseRequest" title="wbia.dtool.base.BaseRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.BaseRequest</span></code></a>, <a class="reference internal" href="#wbia.dtool.base.AnnotSimiliarity" title="wbia.dtool.base.AnnotSimiliarity"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.AnnotSimiliarity</span></code></a></p>
<p>Request for one-vs-many simlarity</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base –exec-VsManySimilarityRequest</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qaid_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daid_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">new_request</span><span class="p">(</span><span class="s1">&#39;vsmany&#39;</span><span class="p">,</span> <span class="n">qaid_list</span><span class="p">,</span> <span class="n">daid_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="o">.</span><span class="n">ensure_dependencies</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test dependence on data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">new_request</span><span class="p">(</span><span class="s1">&#39;vsmany&#39;</span><span class="p">,</span> <span class="n">qaid_list</span> <span class="o">+</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">daid_list</span> <span class="o">+</span> <span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results2</span> <span class="o">=</span> <span class="n">request2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;results = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">results</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;results2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">results2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;incorrect num output&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">results2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;incorrect num output&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.VsManySimilarityRequest.get_cfgstr">
<span class="sig-name descname"><span class="pre">get_cfgstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_pipe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_pipe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsManySimilarityRequest.get_cfgstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.VsManySimilarityRequest.get_cfgstr" title="Permalink to this definition"></a></dt>
<dd><p>Override default get_cfgstr to show reliance on data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.VsManySimilarityRequest.get_input_hashid">
<span class="sig-name descname"><span class="pre">get_input_hashid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsManySimilarityRequest.get_input_hashid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.VsManySimilarityRequest.get_input_hashid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.VsManySimilarityRequest.new">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qaid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsManySimilarityRequest.new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.VsManySimilarityRequest.new" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.VsManySimilarityRequest.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.base.VsManySimilarityRequest.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.base.VsOneSimilarityRequest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">VsOneSimilarityRequest</span></span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsOneSimilarityRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.BaseRequest" title="wbia.dtool.base.BaseRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.BaseRequest</span></code></a>, <a class="reference internal" href="#wbia.dtool.base.AnnotSimiliarity" title="wbia.dtool.base.AnnotSimiliarity"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.AnnotSimiliarity</span></code></a></p>
<p>Similarity request for pairwise scores</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://thingspython.wordpress.com/2010/09/27/">https://thingspython.wordpress.com/2010/09/27/</a>
another-super-wrinkle-raising-typeerror/</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base –exec-VsOneSimilarityRequest</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qaid_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daid_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">new_request</span><span class="p">(</span><span class="s1">&#39;vsone&#39;</span><span class="p">,</span> <span class="n">qaid_list</span><span class="p">,</span> <span class="n">daid_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test that adding a query / data id only recomputes necessary items</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">new_request</span><span class="p">(</span><span class="s1">&#39;vsone&#39;</span><span class="p">,</span> <span class="n">qaid_list</span> <span class="o">+</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">daid_list</span> <span class="o">+</span> <span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results2</span> <span class="o">=</span> <span class="n">request2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;results = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">results</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;results2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">results2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;incorrect num output&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">results2</span><span class="p">),</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;incorrect num output&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.VsOneSimilarityRequest.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_rowids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsOneSimilarityRequest.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.execute" title="Permalink to this definition"></a></dt>
<dd><p>HACKY REIMPLEMENTATION</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.VsOneSimilarityRequest.get_input_hashid">
<span class="sig-name descname"><span class="pre">get_input_hashid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsOneSimilarityRequest.get_input_hashid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.get_input_hashid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.VsOneSimilarityRequest.make_parent_rowids">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">make_parent_rowids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qaid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daid_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsOneSimilarityRequest.make_parent_rowids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.make_parent_rowids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.VsOneSimilarityRequest.new">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qaid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsOneSimilarityRequest.new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.new" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.base.VsOneSimilarityRequest.parent_rowids_T">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent_rowids_T</span></span><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.parent_rowids_T" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.base.VsOneSimilarityRequest.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.base.config_graph_subattrs">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">config_graph_subattrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#config_graph_subattrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.config_graph_subattrs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.base.from_param_info_list">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">from_param_info_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_info_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Unnamed'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#from_param_info_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.from_param_info_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.base.make_configclass">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">make_configclass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#make_configclass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.make_configclass" title="Permalink to this definition"></a></dt>
<dd><p>Creates a custom config class from a dict</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.base.safeop">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.base.</span></span><span class="sig-name descname"><span class="pre">safeop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#safeop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.base.safeop" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-wbia.dtool.depcache_control">
<span id="wbia-dtool-depcache-control-module"></span><h2>wbia.dtool.depcache_control module<a class="headerlink" href="#module-wbia.dtool.depcache_control" title="Permalink to this headline"></a></h2>
<p>implicit version of dependency cache from wbia/templates/template_generator</p>
<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.depcache_control.</span></span><span class="sig-name descname"><span class="pre">DependencyCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_root_uuid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_getters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_globals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.check_rowids">
<span class="sig-name descname"><span class="pre">check_rowids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.check_rowids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.check_rowids" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of flags where True means the row has been computed and
False means that it needs to be computed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.clear_all">
<span class="sig-name descname"><span class="pre">clear_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.clear_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.clear_all" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.close" title="Permalink to this definition"></a></dt>
<dd><p>Close all managed SQL databases</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.delete_property">
<span class="sig-name descname"><span class="pre">delete_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.delete_property"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.delete_property" title="Permalink to this definition"></a></dt>
<dd><p>Deletes the rowids of <cite>tablename</cite> that correspond to <cite>root_rowids</cite>
using <cite>config</cite>.</p>
<p>FIXME: make this work for all configs</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.delete_property_all">
<span class="sig-name descname"><span class="pre">delete_property_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.delete_property_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.delete_property_all" title="Permalink to this definition"></a></dt>
<dd><p>Deletes the rowids of <cite>tablename</cite> that correspond to <cite>root_rowids</cite>
using <cite>config</cite>.</p>
<p>FIXME: make this work for all configs</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.delete_root">
<span class="sig-name descname"><span class="pre">delete_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_extern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_config_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.delete_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.delete_root" title="Permalink to this definition"></a></dt>
<dd><p>Deletes all properties of a root object regardless of config</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>root_rowids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control delete_root –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">delete_root</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">delete_root</span><span class="p">(</span><span class="n">root_rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fgweight&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">delete_root</span><span class="p">(</span><span class="n">root_rowids</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.explicit_graph">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">explicit_graph</span></span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.explicit_graph" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recompute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recompute_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nInput</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_extern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onthefly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_delay_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_delay_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hack_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get" title="Permalink to this definition"></a></dt>
<dd><p>Access dependant properties the primary objects using primary ids.</p>
<p>Gets the data in <cite>colnames</cite> of <cite>tablename</cite> that correspond to
<cite>root_rowids</cite> using <cite>config</cite>.  if colnames is None, all columns are
returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – table name containing desired property</p></li>
<li><p><strong>root_rowids</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>]</em>) – ids of the root object</p></li>
<li><p><strong>colnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – desired property (default = None)</p></li>
<li><p><strong>config</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>read_extern</strong> – if False then only returns extern URI</p></li>
<li><p><strong>hack_paths</strong> – if False then does not compute extern info just returns
path that it will be located at</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>prop_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control –exec-get</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;labeler&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="n">aids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">colnames</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;prop_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">prop_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">prop_list = [(&#39;labeler([root(1)]:42)&#39;,), (&#39;labeler([root(2)]:42)&#39;,), (&#39;labeler([root(3)]:42)&#39;,)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;smk_match&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;vocab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="p">[</span><span class="n">aids</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;prop_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">prop_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">prop_list = [(&#39;vocab([root(1;2;3)]:42)&#39;,)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;chip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="n">aids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure chips are computed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list1</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get file paths and delete them</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">remove_file_list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">),</span> <span class="s1">&#39;files were not computed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list3</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">prop_list1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">prop_list3</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="s1">&#39;computed same info&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_allconfig_descendant_rowids">
<span class="sig-name descname"><span class="pre">get_allconfig_descendant_rowids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_config_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_allconfig_descendant_rowids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_allconfig_descendant_rowids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_ancestor_rowids">
<span class="sig-name descname"><span class="pre">get_ancestor_rowids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">native_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ancestor_tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_ancestor_rowids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_ancestor_rowids" title="Permalink to this definition"></a></dt>
<dd><p>ancestor_tablename = depc.root; native_rowids = cid_list; tablename = const.CHIP_TABLE</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_config_history">
<span class="sig-name descname"><span class="pre">get_config_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_config_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_config_history" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_config_trail">
<span class="sig-name descname"><span class="pre">get_config_trail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_config_trail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_config_trail" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_config_trail_str">
<span class="sig-name descname"><span class="pre">get_config_trail_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_config_trail_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_config_trail_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_db_by_name">
<span class="sig-name descname"><span class="pre">get_db_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_db_by_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_db_by_name" title="Permalink to this definition"></a></dt>
<dd><p>Get the database (i.e. SQLController) for the given database name</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_dependencies">
<span class="sig-name descname"><span class="pre">get_dependencies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_dependencies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_dependencies" title="Permalink to this definition"></a></dt>
<dd><p>gets level dependences from root to tablename</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control –exec-get_dependencies</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;fgweight&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get_dependencies</span><span class="p">(</span><span class="n">tablename</span><span class="p">),</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    [&#39;dummy_annot&#39;],</span>
<span class="go">    [&#39;chip&#39;, &#39;probchip&#39;],</span>
<span class="go">    [&#39;keypoint&#39;],</span>
<span class="go">    [&#39;fgweight&#39;],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_edges">
<span class="sig-name descname"><span class="pre">get_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_edges" title="Permalink to this definition"></a></dt>
<dd><p>edges for networkx structure</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_implicit_edges">
<span class="sig-name descname"><span class="pre">get_implicit_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_implicit_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_implicit_edges" title="Permalink to this definition"></a></dt>
<dd><p>Edges defined by subconfigurations</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_native">
<span class="sig-name descname"><span class="pre">get_native</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tbl_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_extern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_native"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_native" title="Permalink to this definition"></a></dt>
<dd><p>Gets data using internal ids, which is faster if you have them.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control get_native:0
python -m dtool.depcache_control get_native:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Simple test of get native</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_native</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">tbl_rowids</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;chip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="n">extern_colname</span> <span class="o">=</span> <span class="s1">&#39;chip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">delete_property</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure chip rowids exist then delete external data without</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># notifying the depcache. This forces the depcache to recover</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl_rowids</span> <span class="o">=</span> <span class="n">chip_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_fpaths</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">extern_colname</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">remove_file_list</span><span class="p">(</span><span class="n">data_fpaths</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chips</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_native</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">tbl_rowids</span><span class="p">,</span> <span class="n">extern_colname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;chips = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">chips</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_native_property">
<span class="sig-name descname"><span class="pre">get_native_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tbl_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_extern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_native_property" title="Permalink to this definition"></a></dt>
<dd><p>Gets data using internal ids, which is faster if you have them.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control get_native:0
python -m dtool.depcache_control get_native:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Simple test of get native</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_native</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">tbl_rowids</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;chip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="n">extern_colname</span> <span class="o">=</span> <span class="s1">&#39;chip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">delete_property</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure chip rowids exist then delete external data without</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># notifying the depcache. This forces the depcache to recover</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl_rowids</span> <span class="o">=</span> <span class="n">chip_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_fpaths</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">extern_colname</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">remove_file_list</span><span class="p">(</span><span class="n">data_fpaths</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chips</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_native</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">tbl_rowids</span><span class="p">,</span> <span class="n">extern_colname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;chips = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">chips</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_parent_rowids">
<span class="sig-name descname"><span class="pre">get_parent_rowids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_parent_rowids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_parent_rowids" title="Permalink to this definition"></a></dt>
<dd><p>Returns the parent rowids needed to get / compute a property of
tablename</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_tuple</strong> – <p>to be explicit send in as a tuple of lists.  Each list
corresponds to parent information needed by expanded rmis (root
most input).</p>
<p>Each item in the tuple correponds a root most node, and should
be specified as a list of inputs. For single items this is a
scalar, for multi-items it is a list.</p>
<p>For example if you have a property like a chip that depends on
only one parent, then to get the chips for the first N
annotations your list input tuple is:</p>
<blockquote>
<div><p>input_tuple = ([1, 2, 3, …, N],)</p>
</div></blockquote>
<p>For a single multi inputs:
If you want to get two vocabs for even and odd annots then you
have:</p>
<blockquote>
<div><p>([[0, 2, 4, …], [1, 3, 5, …]],)</p>
</div></blockquote>
<p>For a single comparasion version multi inputs:
If you want to query the first N annotats against two
vocabs then you have:</p>
<blockquote>
<div><p>([1, 2, 3, …, N], [[0, 2, 4, …], [1, 3, 5, …]],)</p>
</div></blockquote>
<p>(Note this only works if broadcasting is on)</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_property">
<span class="sig-name descname"><span class="pre">get_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recompute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recompute_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nInput</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_extern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onthefly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_delay_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_delay_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hack_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_property" title="Permalink to this definition"></a></dt>
<dd><p>Access dependant properties the primary objects using primary ids.</p>
<p>Gets the data in <cite>colnames</cite> of <cite>tablename</cite> that correspond to
<cite>root_rowids</cite> using <cite>config</cite>.  if colnames is None, all columns are
returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – table name containing desired property</p></li>
<li><p><strong>root_rowids</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>]</em>) – ids of the root object</p></li>
<li><p><strong>colnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – desired property (default = None)</p></li>
<li><p><strong>config</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>read_extern</strong> – if False then only returns extern URI</p></li>
<li><p><strong>hack_paths</strong> – if False then does not compute extern info just returns
path that it will be located at</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>prop_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control –exec-get</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;labeler&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="n">aids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">colnames</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;prop_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">prop_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">prop_list = [(&#39;labeler([root(1)]:42)&#39;,), (&#39;labeler([root(2)]:42)&#39;,), (&#39;labeler([root(3)]:42)&#39;,)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;smk_match&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;vocab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="p">[</span><span class="n">aids</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;prop_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">prop_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">prop_list = [(&#39;vocab([root(1;2;3)]:42)&#39;,)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;chip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="n">aids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure chips are computed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list1</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get file paths and delete them</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">remove_file_list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">),</span> <span class="s1">&#39;files were not computed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list3</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">prop_list1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">prop_list3</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="s1">&#39;computed same info&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_root_rowids">
<span class="sig-name descname"><span class="pre">get_root_rowids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">native_rowids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_root_rowids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_root_rowids" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>native_rowids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control get_root_rowids –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;adapt_shape&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;adapt_shape&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">native_rowids1</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">native_rowids2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ancestor_rowids1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get_root_rowids</span><span class="p">(</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="n">native_rowids1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ancestor_rowids2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get_root_rowids</span><span class="p">(</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="n">native_rowids2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">native_rowids1</span> <span class="o">!=</span> <span class="n">native_rowids2</span><span class="p">,</span> <span class="s1">&#39;should have different native rowids&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ancestor_rowids1</span> <span class="o">==</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="s1">&#39;should have same root&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ancestor_rowids2</span> <span class="o">==</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="s1">&#39;should have same root&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_rowids">
<span class="sig-name descname"><span class="pre">get_rowids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_tuple</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">rowid_kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_rowids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_rowids" title="Permalink to this definition"></a></dt>
<dd><p>Used to get tablename rowids. Ensures rows exist unless ensure=False.
rowids uniquely specify parent inputs and a configuration.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control get_rowids –show
python -m dtool.depcache_control get_rowids:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids2</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids3</span> <span class="o">=</span> <span class="n">root_rowids2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;smk_match&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="n">root_rowids</span><span class="p">,</span> <span class="n">root_rowids2</span><span class="p">,</span> <span class="n">root_rowids3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">target_table</span><span class="o">.</span><span class="n">rootmost_inputs</span><span class="o">.</span><span class="n">total_expand</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">input_tuple</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">print_all_tables</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test external / ensure getters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">delete_property</span><span class="p">(</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chip_fpaths</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">remove_file_list</span><span class="p">(</span><span class="n">chip_fpaths</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">ensure</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;rowids = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rowids</span><span class="p">,))</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Recompute the first few, make sure the rowids do not change</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">root_rowids</span> <span class="o">+</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">_</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">initial_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recomp_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">recompute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">recomp_rowids</span> <span class="o">==</span> <span class="n">initial_rowids</span><span class="p">,</span> <span class="s1">&#39;rowids should not change due to recompute&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_tablenames">
<span class="sig-name descname"><span class="pre">get_tablenames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_tablenames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_tablenames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.get_uuids">
<span class="sig-name descname"><span class="pre">get_uuids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_uuids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_uuids" title="Permalink to this definition"></a></dt>
<dd><p># TODO: Make uuids for dependant object based on root uuid and path of
# construction.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.graph">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">graph</span></span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.graph" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.initialize" title="Permalink to this definition"></a></dt>
<dd><p>Creates all registered tables</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.make_graph">
<span class="sig-name descname"><span class="pre">make_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.make_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.make_graph" title="Permalink to this definition"></a></dt>
<dd><p>Constructs a networkx representation of the dependency graph</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m dtool –tf DependencyCache.make_graph –show –reduced</p>
<p>python -m wbia.control.IBEISControl show_depc_annot_graph –show –reduced</p>
<p>python -m wbia.control.IBEISControl show_depc_annot_graph –show –reduced –testmode
python -m wbia.control.IBEISControl show_depc_annot_graph –show –testmode</p>
<p>python -m wbia.control.IBEISControl –test-show_depc_image_graph –show –reduced
python -m wbia.control.IBEISControl –test-show_depc_image_graph –show</p>
<p>python -m wbia.scripts.specialdraw double_depcache_graph –show –testmode</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">make_graph</span><span class="p">(</span><span class="n">reduced</span><span class="o">=</span><span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--reduced&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">ensureqt</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(nx.dag.transitive_closure(graph))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(ut.nx_transitive_reduction(graph))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;agraph&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">make_graph</span><span class="p">(</span><span class="n">reduced</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(--show)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">ensureqt</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(nx.dag.transitive_closure(graph))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(ut.nx_transitive_reduction(graph))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;agraph&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.make_root_info_uuid">
<span class="sig-name descname"><span class="pre">make_root_info_uuid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info_props</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.make_root_info_uuid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.make_root_info_uuid" title="Permalink to this definition"></a></dt>
<dd><p>Creates a uuid that depends on certain properties of the root object.
This is used for implicit cache invalidation because, if those
properties change then this uuid also changes.</p>
<p>The depcache needs to know about stateful properties of dynamic root
objects in order to correctly compute their hashes.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#ibs = wbia.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">_get_all_aids</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">depc_annot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info_props</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;image_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;verts&#39;</span><span class="p">,</span> <span class="s1">&#39;theta&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info_props</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;image_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;verts&#39;</span><span class="p">,</span> <span class="s1">&#39;theta&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;species&#39;</span><span class="p">,</span> <span class="s1">&#39;yaw&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.new_request">
<span class="sig-name descname"><span class="pre">new_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qaids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.new_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.new_request" title="Permalink to this definition"></a></dt>
<dd><p>creates a request for data that can be executed later</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.notify_root_changed">
<span class="sig-name descname"><span class="pre">notify_root_changed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.notify_root_changed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.notify_root_changed" title="Permalink to this definition"></a></dt>
<dd><p>this is where we are notified that a “registered” root property has
changed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.print_all_tables">
<span class="sig-name descname"><span class="pre">print_all_tables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.print_all_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.print_all_tables" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.print_config_tables">
<span class="sig-name descname"><span class="pre">print_config_tables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.print_config_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.print_config_tables" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.print_schemas">
<span class="sig-name descname"><span class="pre">print_schemas</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.print_schemas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.print_schemas" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.print_table">
<span class="sig-name descname"><span class="pre">print_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.print_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.print_table" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.rectify_input_tuple">
<span class="sig-name descname"><span class="pre">rectify_input_tuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exi_inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_tuple</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.rectify_input_tuple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.rectify_input_tuple" title="Permalink to this definition"></a></dt>
<dd><p>Standardizes inputs allowed for convinience into the expected input for
get_parent_rowids.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.reduced_graph">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reduced_graph</span></span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.reduced_graph" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.register_delete_table_exclusion">
<span class="sig-name descname"><span class="pre">register_delete_table_exclusion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.register_delete_table_exclusion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.register_delete_table_exclusion" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.register_preproc">
<span class="sig-name descname"><span class="pre">register_preproc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.register_preproc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.register_preproc" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Decorator for registration of cachables</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – name of the node (corrsponds to SQL table)</p></li>
<li><p><strong>parents</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – tables this node depends on</p></li>
<li><p><strong>colnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – data returned by this table</p></li>
<li><p><strong>coltypes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – types of data returned by this table</p></li>
<li><p><strong>chunksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = None)</p></li>
<li><p><strong>configclass</strong> (<em>dtool.TableConfig</em>) – derivative of dtool.TableConfig.
if None, a default class will be constructed for you. (default = None)</p></li>
<li><p><strong>docstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (default = None)</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file name(default = None)</p></li>
<li><p><strong>asobject</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – hacky dont use (default = False)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>depcache_table.DependencyCacheTable</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.root">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">root</span></span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.root" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.show_graph">
<span class="sig-name descname"><span class="pre">show_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduced</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.show_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.show_graph" title="Permalink to this definition"></a></dt>
<dd><p>Helper “fluff” function</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.stacked_config">
<span class="sig-name descname"><span class="pre">stacked_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.stacked_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.stacked_config" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control stacked_config –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">root</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dest</span> <span class="o">=</span> <span class="s1">&#39;fgweight&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stacked_config</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">stacked_config</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr</span> <span class="o">=</span> <span class="n">stacked_config</span><span class="o">.</span><span class="n">get_cfgstr</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfgstr = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfgstr</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.tablenames">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tablenames</span></span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.tablenames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.DependencyCache.tables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tables</span></span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.tables" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.check_register">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.depcache_control.</span></span><span class="sig-name descname"><span class="pre">check_register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#check_register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.check_register" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.depcache_control.make_depcache_decors">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.depcache_control.</span></span><span class="sig-name descname"><span class="pre">make_depcache_decors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#make_depcache_decors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_control.make_depcache_decors" title="Permalink to this definition"></a></dt>
<dd><p>Makes global decorators to register functions for a tablename.</p>
<p>A preproc function is meant to belong only to a single parent An algo
function belongs to the root node, and may depend on a set of root nodes
rather than just a single one.</p>
</dd></dl>

</section>
<section id="module-wbia.dtool.depcache_table">
<span id="wbia-dtool-depcache-table-module"></span><h2>wbia.dtool.depcache_table module<a class="headerlink" href="#module-wbia.dtool.depcache_table" title="Permalink to this headline"></a></h2>
<p>Module contining DependencyCacheTable</p>
<p>python -m dtool.depcache_control –exec-make_graph –show
python -m dtool.depcache_control –exec-make_graph –show –reduce</p>
<dl class="simple">
<dt>FIXME:</dt><dd><dl class="simple">
<dt>RECTIFY: ismulti / ismodel need to be rectified. This indicate that this</dt><dd><p>table recieves multiple inputs from at least one parent table.</p>
</dd>
<dt>RECTIFY: Need to standardize parent rowids -vs- parent args.</dt><dd><p>in one-to-one cases they are the same. In multi cases the rowids indicate
a uuid and the args are the saved set of rowids that exist in the manifest.</p>
</dd>
<dt>RECTIFY: is rowid_list row-major or column-major?</dt><dd><p>I think currently rowid_list is row-major and rowid_listT is column-major
but this may not be consistent.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.depcache_table.</span></span><span class="sig-name descname"><span class="pre">DependencyCacheTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_tablenames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_coltypes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preproc_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">docstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'no</span> <span class="pre">docstr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asobject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isinteractive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_to_unpack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_onthefly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rm_extern_on_delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vectorized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taggable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_table._TableGeneralHelper</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_table._TableInternalSetup</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_table._TableDebugHelper</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_table._TableComputeHelper</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_table._TableConfigHelper</span></code></p>
<p>An individual node in the dependency graph.</p>
<dl class="simple">
<dt>All SQL column information is stored in:</dt><dd><p>internal_col_attrs - keeps track of internal info</p>
</dd>
<dt>Additional metadata about specific columns is stored in</dt><dd><p>parent_col_attrs - keeps track of parent info
data_col_attrs - keeps track of computed data</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.db">
<span class="sig-name descname"><span class="pre">db</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.db" title="Permalink to this definition"></a></dt>
<dd><p>pointer to underlying database</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dtool.SQLDatabaseController</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.depc">
<span class="sig-name descname"><span class="pre">depc</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.depc" title="Permalink to this definition"></a></dt>
<dd><p>pointer to parent cache</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dtool.DependencyCache</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.tablename">
<span class="sig-name descname"><span class="pre">tablename</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.tablename" title="Permalink to this definition"></a></dt>
<dd><p>name of the table</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.docstr">
<span class="sig-name descname"><span class="pre">docstr</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.docstr" title="Permalink to this definition"></a></dt>
<dd><p>documentation for table</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.parent_tablenames">
<span class="sig-name descname"><span class="pre">parent_tablenames</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.parent_tablenames" title="Permalink to this definition"></a></dt>
<dd><p>parent tables in depcache</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.data_colnames">
<span class="sig-name descname"><span class="pre">data_colnames</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.data_colnames" title="Permalink to this definition"></a></dt>
<dd><p>columns produced by preproc_func</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.data_coltypes">
<span class="sig-name descname"><span class="pre">data_coltypes</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.data_coltypes" title="Permalink to this definition"></a></dt>
<dd><p>column SQL types produced by preproc_func</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.preproc_func">
<span class="sig-name descname"><span class="pre">preproc_func</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.preproc_func" title="Permalink to this definition"></a></dt>
<dd><p>worker function</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>func</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.vectorized">
<span class="sig-name descname"><span class="pre">vectorized</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.vectorized" title="Permalink to this definition"></a></dt>
<dd><p>by defaults it is assumed registered functions can
process multiple inputs at once.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.taggable">
<span class="sig-name descname"><span class="pre">taggable</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.taggable" title="Permalink to this definition"></a></dt>
<dd><p>specifies if a computed object can be disconected from
its ancestors and accessed via a tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_table –exec-DependencyCacheTable</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_table</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vsmany&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vsone&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;nnindexer&#39;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.clear_table">
<span class="sig-name descname"><span class="pre">clear_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.clear_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.clear_table" title="Permalink to this definition"></a></dt>
<dd><p>Deletes all data in this table</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.delete_rows">
<span class="sig-name descname"><span class="pre">delete_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rowid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_extern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.delete_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.delete_rows" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_table –exec-delete_rows</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_table</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#table = depc[&#39;keypoint&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">delete_rows</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">tablename</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">explicit_graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config1</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config2</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">(</span><span class="n">version</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config3</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">(</span><span class="n">version</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="s1">&#39;.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config4</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s1">&#39;.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create several configs of rowid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Delete the png configs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_list1</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="n">config</span><span class="o">=</span><span class="n">config2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_list2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="n">config</span><span class="o">=</span><span class="n">config1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_list</span> <span class="o">=</span> <span class="n">rowid_list1</span> <span class="o">+</span> <span class="n">rowid_list2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">setintersect_ordered</span><span class="p">(</span><span class="n">rowid_list1</span><span class="p">,</span> <span class="n">rowid_list2</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">delete_rows</span><span class="p">(</span><span class="n">rowid_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.ensure_rows">
<span class="sig-name descname"><span class="pre">ensure_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_ids_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preproc_args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_delay_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_delay_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.ensure_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.ensure_rows" title="Permalink to this definition"></a></dt>
<dd><p>Lazy addition</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_table</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="n">testdata_depc3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vsone&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">get_rowid</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># test duplicate inputs are detected and accounted for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent_rowids</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">))]</span> <span class="o">*</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rectify_tup</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">_rectify_ids</span><span class="p">(</span><span class="n">parent_rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">parent_ids_</span><span class="p">,</span> <span class="n">preproc_args</span><span class="p">,</span> <span class="n">idxs1</span><span class="p">,</span> <span class="n">idxs2</span><span class="p">)</span> <span class="o">=</span> <span class="n">rectify_tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">ensure_rows</span><span class="p">(</span><span class="n">parent_ids_</span><span class="p">,</span> <span class="n">preproc_args</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;rowids = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rowids</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.export_rows">
<span class="sig-name descname"><span class="pre">export_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rowid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.export_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.export_rows" title="Permalink to this definition"></a></dt>
<dd><p>The goal of this is to export taggable data that can be used
independantly of its dependant features.</p>
<dl>
<dt>TODO List:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>Gather information about columns</dt><dd><ul>
<li><dl class="simple">
<dt>Native and (localized) external data</dt><dd><ul>
<li><p>&lt;table&gt;_rowid - non-transferable</p></li>
<li><p>Parent UUIDS - non-transferable</p></li>
<li><p>config rowid - non-transferable</p></li>
<li><p>model_uuid -</p></li>
<li><p>augment_bit - transferable - trivial</p></li>
<li><p>words_extern_uri - copy to destination</p></li>
<li><p>feat_setsize - transferable - trivial</p></li>
<li><p>model_tag</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Should also gather info from manifest:</dt><dd><ul>
<li><p>feat_setuuid_primary_ids - non-transferable</p></li>
<li><p>feat_setuuid_model_input - non-transferable</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Should gather exhaustive config history</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Save to disk</p></li>
<li><p>Add function to reload data in exported format</p></li>
<li><p>Getters should be able to specify a tag inplace of the root input</p></li>
</ul>
<p>for the tagged. Additionally native root-ids should also be
allowed.</p>
</dd>
</dl>
<p>rowid = 1</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.fname">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fname</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.fname" title="Permalink to this definition"></a></dt>
<dd><p>Backwards compatible name of the database this Table belongs to</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.from_name">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depcache_controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_tablenames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_coltypes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preproc_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">docstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'no</span> <span class="pre">docstr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asobject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_to_unpack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rm_extern_on_delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vectorized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taggable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.from_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.from_name" title="Permalink to this definition"></a></dt>
<dd><p>Build the instance based on a database and table name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.get_internal_columns">
<span class="sig-name descname"><span class="pre">get_internal_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tbl_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nInput</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack_scalars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepwrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showprog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.get_internal_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.get_internal_columns" title="Permalink to this definition"></a></dt>
<dd><p>Access data in this table using the table PRIMARY KEY rowids (not
depc PRIMARY ids)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.get_row_data">
<span class="sig-name descname"><span class="pre">get_row_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tbl_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_extern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nInput</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_on_fail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showprog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.get_row_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.get_row_data" title="Permalink to this definition"></a></dt>
<dd><p>FIXME: unpacking is confusing with sql controller
TODO: Clean up and allow for eager=False</p>
<p>colnames = (‘mask’, ‘size’)</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_table –test-get_row_data:0
python -m dtool.depcache_table –test-get_row_data:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_table</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">_debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recompute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;size_1&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span> <span class="o">+</span> <span class="n">EXTERN_SUFFIX</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">read_extern</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">num_retries</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">_debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">(</span><span class="n">tbl_rowids</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list0</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">prop_list</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="c1"># data subset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">prop_list0</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#_debug, num_retries, read_extern = True, 1, True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_gen</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">(</span><span class="n">tbl_rowids</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">prop_gen</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">prop_list</span><span class="p">),</span> <span class="s1">&#39;inconsistent lens&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">all</span><span class="p">([</span><span class="n">ut</span><span class="o">.</span><span class="n">lists_eq</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">prop_list</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">prop_list</span><span class="p">))]),</span> <span class="s1">&#39;inconsistent vals&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chips</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">(</span><span class="n">tbl_rowids</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>[</dt><dd><p>[2453, (1707, 2453), ‘chip_chip_id=1_pyrappzicqoskdjq.png’],
[250, (300, 250), ‘chip_chip_id=2_pyrappzicqoskdjq.png’],
[372, (545, 372), ‘chip_chip_id=3_pyrappzicqoskdjq.png’],</p>
</dd>
</dl>
<p>]</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test external / ensure getters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_extern</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_fpaths</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure data is recomputed if an external file is missing</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">remove_fpaths</span><span class="p">(</span><span class="n">data_fpaths</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">(</span><span class="n">tbl_rowids</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ensure</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">(</span><span class="n">tbl_rowids</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ensure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.get_rowid">
<span class="sig-name descname"><span class="pre">get_rowid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_rowids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nInput</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recompute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.get_rowid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.get_rowid" title="Permalink to this definition"></a></dt>
<dd><p>Returns the rowids of derived properties.  If they do not exist it
computes them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent_rowids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of tuples with the parent rowids as the
value of each tuple</p></li>
<li><p><strong>config</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>ensure</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – eager evaluation if True (default = True)</p></li>
<li><p><strong>eager</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>nInput</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = None)</p></li>
<li><p><strong>recompute</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>_debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None) deprecated; no-op</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rowid_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_table –exec-get_rowid</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_table</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="n">testdata_depc3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;labeler&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">get_rowid</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent_rowids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_rowid</span><span class="p">(</span><span class="n">parent_rowids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;rowids = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rowids</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">rowids = [1, None, None, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.initialize" title="Permalink to this definition"></a></dt>
<dd><p>Ensures the SQL schema for this cache table</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.number_of_rows">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_rows</span></span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.number_of_rows" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.DependencyCacheTable.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.ExternType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.depcache_table.</span></span><span class="sig-name descname"><span class="pre">ExternType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">read_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extern_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#ExternType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.ExternType" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ubelt.util_mixins.NiceRepr</span></code></p>
<p>Type to denote an external resource not saved in an SQL table</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.ExternalStorageException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.depcache_table.</span></span><span class="sig-name descname"><span class="pre">ExternalStorageException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#ExternalStorageException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.ExternalStorageException" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Indicates a missing external file</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.TableOutOfSyncError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.depcache_table.</span></span><span class="sig-name descname"><span class="pre">TableOutOfSyncError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extended_msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#TableOutOfSyncError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.TableOutOfSyncError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Raised when the code’s table definition doesn’t match the defition in the database</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.ensure_config_table">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.depcache_table.</span></span><span class="sig-name descname"><span class="pre">ensure_config_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#ensure_config_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.ensure_config_table" title="Permalink to this definition"></a></dt>
<dd><p>SQL definition of configuration table.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.make_extern_io_funcs">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.depcache_table.</span></span><span class="sig-name descname"><span class="pre">make_extern_io_funcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#make_extern_io_funcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.make_extern_io_funcs" title="Permalink to this definition"></a></dt>
<dd><p>Hack in read/write defaults for pickleable classes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.depcache_table.predrop_grace_period">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.depcache_table.</span></span><span class="sig-name descname"><span class="pre">predrop_grace_period</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#predrop_grace_period"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.depcache_table.predrop_grace_period" title="Permalink to this definition"></a></dt>
<dd><p>Hack that gives the user some time to abort deleting everything</p>
</dd></dl>

</section>
<section id="wbia-dtool-example-depcache-module">
<h2>wbia.dtool.example_depcache module<a class="headerlink" href="#wbia-dtool-example-depcache-module" title="Permalink to this headline"></a></h2>
</section>
<section id="wbia-dtool-example-depcache2-module">
<h2>wbia.dtool.example_depcache2 module<a class="headerlink" href="#wbia-dtool-example-depcache2-module" title="Permalink to this headline"></a></h2>
</section>
<section id="module-wbia.dtool.input_helpers">
<span id="wbia-dtool-input-helpers-module"></span><h2>wbia.dtool.input_helpers module<a class="headerlink" href="#module-wbia.dtool.input_helpers" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.BranchId">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.input_helpers.</span></span><span class="sig-name descname"><span class="pre">BranchId</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accum_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_colx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#BranchId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.BranchId" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_class.HashComparable</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.ExiNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.input_helpers.</span></span><span class="sig-name descname"><span class="pre">ExiNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">branch_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#ExiNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.ExiNode" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_class.HashComparable</span></code></p>
<p>Expanded Input Node</p>
<p>helps distinguish nodes and branch_ids</p>
<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.ExiNode.branch_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">branch_id</span></span><a class="headerlink" href="#wbia.dtool.input_helpers.ExiNode.branch_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.ExiNode.node_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">node_id</span></span><a class="headerlink" href="#wbia.dtool.input_helpers.ExiNode.node_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.RootMostInput">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.input_helpers.</span></span><span class="sig-name descname"><span class="pre">RootMostInput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sink</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exi_graph</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#RootMostInput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.RootMostInput" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_class.HashComparable</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.RootMostInput.compute_order">
<span class="sig-name descname"><span class="pre">compute_order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#RootMostInput.compute_order"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.RootMostInput.compute_order" title="Permalink to this definition"></a></dt>
<dd><p>Returns order of computation from this input node to the sink</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.RootMostInput.ismulti">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ismulti</span></span><a class="headerlink" href="#wbia.dtool.input_helpers.RootMostInput.ismulti" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.RootMostInput.parent_level">
<span class="sig-name descname"><span class="pre">parent_level</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#RootMostInput.parent_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.RootMostInput.parent_level" title="Permalink to this definition"></a></dt>
<dd><p>Returns rootmost inputs above this node</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;smk_match&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmi</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">rmi_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">rmi</span><span class="o">.</span><span class="n">parent_level</span><span class="p">())</span> <span class="o">==</span> <span class="mi">2</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.TableInput">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.input_helpers.</span></span><span class="sig-name descname"><span class="pre">TableInput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rmi_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exi_graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reorder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<p>Specifies a set of inputs that can validly compute the output of a table in
the dependency graph</p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.TableInput.exi_nodes">
<span class="sig-name descname"><span class="pre">exi_nodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.exi_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.exi_nodes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.TableInput.expand_input">
<span class="sig-name descname"><span class="pre">expand_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.expand_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.expand_input" title="Permalink to this definition"></a></dt>
<dd><p>Pushes the rootmost inputs all the way up to the sources of the graph</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers expand_input</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;smk_match&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;neighbs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(pre-expand)  inputs  = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;indexer&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs2</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">expand_input</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(post-expand) inputs2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;indexer&#39;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">inputs</span><span class="p">),</span> <span class="s1">&#39;missing indexer1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;indexer&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">inputs2</span><span class="p">),</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;(2) unexpected indexer in </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs2</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.TableInput.expected_input_depth">
<span class="sig-name descname"><span class="pre">expected_input_depth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.expected_input_depth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.expected_input_depth" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;neighbs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;indexer&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">expand_input</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">expected_input_depth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;size = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">size</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;feat&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">expected_input_depth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;size = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">size</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.TableInput.flat_compute_order">
<span class="sig-name descname"><span class="pre">flat_compute_order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.flat_compute_order"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.flat_compute_order" title="Permalink to this definition"></a></dt>
<dd><p>This is basically the scheduler</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>We need to verify the correctness of this logic. It seems to
not be deterministic between versions of python.</p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers flat_compute_order</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(--fixme)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;feat&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span><span class="o">.</span><span class="n">total_expand</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_compute_order</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">flat_compute_order</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">flat_compute_order</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[chip[t, t:1, 1:1], probchip[t, t:1, 1:1], feat[t, t:1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.TableInput.flat_compute_rmi_edges">
<span class="sig-name descname"><span class="pre">flat_compute_rmi_edges</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.flat_compute_rmi_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.flat_compute_rmi_edges" title="Permalink to this definition"></a></dt>
<dd><p>Defines order of computation that maps input_ids to target_ids.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers flat_compute_rmi_edges</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl>
<dt>compute_edges</dt><dd><dl class="simple">
<dt>Each item is a tuple of input/output RootMostInputs</dt><dd><p>([parent_1, …, parent_n], node_i)</p>
</dd>
</dl>
<p>All parents should be known before you reach the i-th item in
the list.
Results of the the i-th item may be used in subsequent item
computations.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span><span class="n">testdata_custom_annot_depc</span><span class="p">([</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;chips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;annot&#39;</span><span class="p">]),</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;Notch_Tips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;annot&#39;</span><span class="p">]),</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;Cropped_Chips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;chips&#39;</span><span class="p">,</span> <span class="s1">&#39;Notch_Tips&#39;</span><span class="p">]),</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;Cropped_Chips&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">exi_inputs</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">rootmost_inputs</span><span class="o">.</span><span class="n">total_expand</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compute_rmi_edges</span> <span class="o">=</span> <span class="n">exi_inputs</span><span class="o">.</span><span class="n">flat_compute_rmi_edges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_rmis</span> <span class="o">=</span> <span class="n">compute_rmi_edges</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">input_rmis</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[chips[t, t:1, 1:1], Notch_Tips[t, t:1, 1:1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.TableInput.is_single_inputs">
<span class="sig-name descname"><span class="pre">is_single_inputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.is_single_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.is_single_inputs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.TableInput.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.TableInput.show_exi_graph">
<span class="sig-name descname"><span class="pre">show_exi_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.show_exi_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.show_exi_graph" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers TableInput.show_exi_graph –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># table = depc[&#39;smk_match&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;neighbs&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;inputs = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.plottool.interactions</span> <span class="kn">import</span> <span class="n">ExpandableInteraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inter</span> <span class="o">=</span> <span class="n">ExpandableInteraction</span><span class="p">(</span><span class="n">nCols</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span><span class="o">.</span><span class="n">show_exi_graph</span><span class="p">(</span><span class="n">inter</span><span class="o">=</span><span class="n">inter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># FIXME; Expanding inputs can overspecify inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;inputs = %r&#39; % (inputs,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs.show_exi_graph(inter=inter)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;inputs = %r&#39; % (inputs,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs.show_exi_graph(inter=inter)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inter</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.TableInput.total_expand">
<span class="sig-name descname"><span class="pre">total_expand</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.total_expand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.total_expand" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.get_rootmost_inputs">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.input_helpers.</span></span><span class="sig-name descname"><span class="pre">get_rootmost_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exi_graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#get_rootmost_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.get_rootmost_inputs" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers get_rootmost_inputs –show</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exi_graph</strong> (<em>nx.Graph</em>) – made from make_expanded_input_graph(graph, target)</p></li>
<li><p><strong>table</strong> (<em>dtool.Table</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers get_rootmost_inputs</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;smk_match&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exi_graph</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">expanded_input_graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs_</span> <span class="o">=</span> <span class="n">get_rootmost_inputs</span><span class="p">(</span><span class="n">exi_graph</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;inputs_ = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs_</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">inputs_</span><span class="o">.</span><span class="n">expand_input</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmi</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">rmi_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;inputs = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs</span><span class="p">,))</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;compute_edges = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">inputs</span><span class="o">.</span><span class="n">flat_compute_rmi_edges</span><span class="p">(),</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.make_expanded_input_graph">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.input_helpers.</span></span><span class="sig-name descname"><span class="pre">make_expanded_input_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#make_expanded_input_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.make_expanded_input_graph" title="Permalink to this definition"></a></dt>
<dd><p>Starting from the <cite>target</cite> property we trace all possible paths in the
<cite>graph</cite> back to all sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<em>nx.DiMultiGraph</em>) – the dependency graph with a single source.</p></li>
<li><p><strong>target</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – a single target node in graph</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Each edge in the graph must have a <cite>local_input_id</cite> that defines the
type of edge it is: (eg one-to-many, one-to-one, nwise/multi).</p>
<p># Step 1: Extracting the Relevant Subgraph
We start by searching for all sources of the graph (we assume there is
only one). Then we extract the subgraph defined by all edges between
the sources and the target.  We augment this graph with a dummy super
source <cite>s</cite> and super sink <cite>t</cite>. This allows us to associate an edge with
the real source and sink.</p>
<p># Step 2: Trace all paths from <cite>s</cite> to <cite>t</cite>.
Create a set of all paths from the source to the sink and accumulate
the <cite>local_input_id</cite> of each edge along the path. This will uniquely
identify each path. We use a hack to condense the accumualated ids in
order to display them nicely.</p>
<p># Step 3: Create the new <cite>exi_graph</cite>
Using the traced paths with ids we construct a new graph representing
expanded inputs. The nodes in the original graph will be copied for each
unique path that passes through the node. We identify these nodes using
the accumulated ids built along the edges in our path set.  For each
path starting from the target we add each node augmented with the
accumulated ids on its output(?) edge. We also add the edges along
these paths which results in the final <cite>exi_graph</cite>.</p>
<p># Step 4: Identify valid inputs candidates
The purpose of this graph is to identify which inputs are needed
to compute dependant properties. One valid set of inputs is all
sources of the graph. However, sometimes it is preferable to specify
a model that may have been trained from many inputs. Therefore any
node with a one-to-many input edge may also be specified as an input.</p>
<p># Step 5: Identify root-most inputs
The user will only specify one possible set of the inputs. We refer  to
this set as the “root-most” inputs. This is a set of candiate nodes
such that all paths from the sink to the super source are blocked.  We
default to the set of inputs which results in the fewest dependency
computations. However this is arbitary.</p>
<p>The last step that is not represented here is to compute the order that
the branches must be specified in when given to the depcache for a
computation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>exi_graph: the expanded input graph</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>nx.DiGraph</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>All * nodes are defined to be distinct.
TODO: To make a * node non-distinct it must be suffixed with an
identifier.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers make_expanded_input_graph –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span> <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;smk_match&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vsone&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">depc</span><span class="o">.</span><span class="n">explicit_graph</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">tablename</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exi_graph</span> <span class="o">=</span> <span class="n">make_expanded_input_graph</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">exi_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(--show)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">exi_graph</span><span class="p">,</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.recolor_exi_graph">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.input_helpers.</span></span><span class="sig-name descname"><span class="pre">recolor_exi_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exi_graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rootmost_nodes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#recolor_exi_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.recolor_exi_graph" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.input_helpers.sort_rmi_list">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.input_helpers.</span></span><span class="sig-name descname"><span class="pre">sort_rmi_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rmi_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#sort_rmi_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.input_helpers.sort_rmi_list" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers sort_rmi_list</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span><span class="n">testdata_custom_annot_depc</span><span class="p">([</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;Notch_Tips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;annot&#39;</span><span class="p">]),</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;chips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;annot&#39;</span><span class="p">]),</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;Cropped_Chips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;chips&#39;</span><span class="p">,</span> <span class="s1">&#39;Notch_Tips&#39;</span><span class="p">]),</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;Cropped_Chips&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">exi_inputs</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compute_rmi_edges</span> <span class="o">=</span> <span class="n">exi_inputs</span><span class="o">.</span><span class="n">flat_compute_rmi_edges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_rmis</span> <span class="o">=</span> <span class="n">compute_rmi_edges</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmi_list</span> <span class="o">=</span> <span class="n">input_rmis</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmi_list</span> <span class="o">=</span> <span class="n">sort_rmi_list</span><span class="p">(</span><span class="n">rmi_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">rmi_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;chips&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-wbia.dtool.sql_control">
<span id="wbia-dtool-sql-control-module"></span><h2>wbia.dtool.sql_control module<a class="headerlink" href="#module-wbia.dtool.sql_control" title="Permalink to this headline"></a></h2>
<p>Interface into SQL for the IBEIS Controller</p>
<p>TODO; need to use some sort of sticky bit so
sql files are created with reasonable permissions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLColumnRichInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.sql_control.</span></span><span class="sig-name descname"><span class="pre">SQLColumnRichInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notnull</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dflt_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLColumnRichInfo.column_id">
<span class="sig-name descname"><span class="pre">column_id</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.column_id" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLColumnRichInfo.dflt_value">
<span class="sig-name descname"><span class="pre">dflt_value</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.dflt_value" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLColumnRichInfo.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.name" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLColumnRichInfo.notnull">
<span class="sig-name descname"><span class="pre">notnull</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.notnull" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLColumnRichInfo.pk">
<span class="sig-name descname"><span class="pre">pk</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.pk" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLColumnRichInfo.type_">
<span class="sig-name descname"><span class="pre">type_</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.type_" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.sql_control.</span></span><span class="sig-name descname"><span class="pre">SQLDatabaseController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uri</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readonly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Interface to an SQL database</p>
<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.Metadata">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctrlr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.Metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></a></p>
<p>Metadata is an attribute of the <code class="docutils literal notranslate"><span class="pre">SQLDatabaseController</span></code> that
facilitates easy usages by internal and exteral users.
Each metadata attributes represents a table (i.e. an instance of <code class="docutils literal notranslate"><span class="pre">TableMetadata</span></code>).
Each <code class="docutils literal notranslate"><span class="pre">TableMetadata</span></code> instance has metadata names as attributes.
The <code class="docutils literal notranslate"><span class="pre">TableMetadata</span></code> can also be adapated to a dictionary for compatability.</p>
<p>The the <code class="docutils literal notranslate"><span class="pre">database</span></code> attribute is a special case that results
in a <code class="docutils literal notranslate"><span class="pre">DatabaseMetadata</span></code> instance rather than <code class="docutils literal notranslate"><span class="pre">TableMetadata</span></code>.
This primarily give access to the version and initial UUID,
respectively as <code class="docutils literal notranslate"><span class="pre">database.version</span></code> and <code class="docutils literal notranslate"><span class="pre">database.init_uuid</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ctrlr</strong> (<a class="reference internal" href="#wbia.dtool.sql_control.SQLDatabaseController" title="wbia.dtool.sql_control.SQLDatabaseController"><em>SQLDatabaseController</em></a>) – parent controller object</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DatabaseMetadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctrlr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.Metadata.DatabaseMetadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></a></p>
<p>Special metadata for database information</p>
<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata.init_uuid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init_uuid</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata.init_uuid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata.version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.Metadata.TableMetadata">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TableMetadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctrlr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.Metadata.TableMetadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata.TableMetadata" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></a></p>
<p>Metadata on a particular SQL table</p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.Metadata.TableMetadata.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.Metadata.TableMetadata.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata.TableMetadata.update" title="Permalink to this definition"></a></dt>
<dd><p>Update or insert the value into the metadata table with the given keyword arguments of metadata field names</p>
</dd></dl>

</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.add_cleanly">
<span class="sig-name descname"><span class="pre">add_cleanly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_rowid_from_superkey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">superkey_paramx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,)</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.add_cleanly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.add_cleanly" title="Permalink to this definition"></a></dt>
<dd><p>ADDER Extra input:
the first item of params_iter must be a superkey (like a uuid),</p>
<p>Does not add None values. Does not add duplicate values.
For each None input returns None ouptut.
For each duplicate input returns existing rowid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tblname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – table name to add into</p></li>
<li><p><strong>colnames</strong> (<em>tuple of strs</em>) – columns whos values are specified in params_iter</p></li>
<li><p><strong>params_iter</strong> (<em>iterable</em>) – an iterable of tuples where each tuple corresonds to a row</p></li>
<li><p><strong>get_rowid_from_superkey</strong> (<em>func</em>) – function that tests if a row needs
to be added. It should return None for any new rows to be inserted.
It should return the existing rowid if one exists</p></li>
<li><p><strong>superkey_paramx</strong> (<em>tuple of ints</em>) – indices of tuples in params_iter which
correspond to superkeys. defaults to (0,)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a href="#id4"><span class="problematic" id="id5">rowid_list_</span></a> – list of newly added or previously added rowids</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>iterable</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="p">(</span><span class="s1">&#39;sqlite:///&#39;</span><span class="p">,</span> <span class="s1">&#39;testing&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span><span class="s1">&#39;dummy_table&#39;</span><span class="p">,</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;rowid&#39;</span><span class="p">,</span>               <span class="s1">&#39;INTEGER PRIMARY KEY&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span>                 <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;superkey1&#39;</span><span class="p">,</span>           <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;superkey2&#39;</span><span class="p">,</span>           <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;val&#39;</span><span class="p">,</span>                 <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">superkeys</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;key&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;superkey1&#39;</span><span class="p">,</span> <span class="s1">&#39;superkey2&#39;</span><span class="p">)],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">docstr</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">print_schema</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tblname</span> <span class="o">=</span> <span class="s1">&#39;dummy_table&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params_iter</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Find a useable superkey</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">superkey_colnames</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_superkey_colnames</span><span class="p">(</span><span class="n">tblname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">superkey_paramx</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">superkey</span> <span class="ow">in</span> <span class="n">superkey_colnames</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">k</span> <span class="ow">in</span> <span class="n">colnames</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">superkey</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">superkey_paramx</span> <span class="o">=</span> <span class="p">[</span><span class="n">colnames</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">superkey</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">superkey_colnames</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">colnames</span><span class="p">,</span> <span class="n">superkey_paramx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="k">break</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">get_rowid_from_superkey</span><span class="p">(</span><span class="n">superkeys_list</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">get_where_eq</span><span class="p">(</span><span class="n">tblname</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;rowid&#39;</span><span class="p">,),</span> <span class="nb">zip</span><span class="p">(</span><span class="n">superkeys_list</span><span class="p">),</span> <span class="n">superkey_colnames</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_list_</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">add_cleanly</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tblname</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">params_iter</span><span class="p">,</span> <span class="n">get_rowid_from_superkey</span><span class="p">,</span> <span class="n">superkey_paramx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">rowid_list_</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.add_column">
<span class="sig-name descname"><span class="pre">add_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coltype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.add_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.add_column" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.add_table">
<span class="sig-name descname"><span class="pre">add_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coldef_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">metadata_keyval</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.add_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.add_table" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>coldef_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>constraint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>docstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>superkeys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – list of tuples of column names which
uniquely identifies a rowid</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.backup">
<span class="sig-name descname"><span class="pre">backup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backup_filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.backup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.backup" title="Permalink to this definition"></a></dt>
<dd><p>backup_filepath = dst_fpath</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.check_rowid_exists">
<span class="sig-name descname"><span class="pre">check_rowid_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowid_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.check_rowid_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.check_rowid_exists" title="Permalink to this definition"></a></dt>
<dd><p>Check for the existence of rows (<code class="docutils literal notranslate"><span class="pre">rowid_iter</span></code>) in a table (<code class="docutils literal notranslate"><span class="pre">tablename</span></code>).
Returns as sequence of rowids that exist in the given sequence.</p>
<p>The ‘rowid’ term is an alias for the primary key. When calling this method,
you should know that the primary key may be more than one column.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.connect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.connect" title="Permalink to this definition"></a></dt>
<dd><p>Create a connection instance to wrap a SQL execution block as a context manager</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_colname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rowid'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.delete" title="Permalink to this definition"></a></dt>
<dd><p>Deletes rows from a SQL table (<code class="docutils literal notranslate"><span class="pre">tblname</span></code>) by ID,
given a sequence of IDs (<code class="docutils literal notranslate"><span class="pre">id_list</span></code>).
Optionally a different ID column can be specified via <code class="docutils literal notranslate"><span class="pre">id_colname</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.delete_rowids">
<span class="sig-name descname"><span class="pre">delete_rowids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowid_list</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.delete_rowids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.delete_rowids" title="Permalink to this definition"></a></dt>
<dd><p>deletes the the rows in rowid_list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.drop_all_tables">
<span class="sig-name descname"><span class="pre">drop_all_tables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.drop_all_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.drop_all_tables" title="Permalink to this definition"></a></dt>
<dd><p>DELETES ALL INFO IN TABLE</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.drop_table">
<span class="sig-name descname"><span class="pre">drop_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invalidate_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.drop_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.drop_table" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.dump_schema">
<span class="sig-name descname"><span class="pre">dump_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.dump_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.dump_schema" title="Permalink to this definition"></a></dt>
<dd><p>Convenience: Dumps all csv database files to disk NOTE: This function
is semi-obsolete because of the auto-generated current schema file.
Use dump_schema_current_autogeneration instead for all purposes except
for parsing out the database schema or for consice visual
representation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.dump_tables_to_csv">
<span class="sig-name descname"><span class="pre">dump_tables_to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dump_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.dump_tables_to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.dump_tables_to_csv" title="Permalink to this definition"></a></dt>
<dd><p>Convenience: Dumps all csv database files to disk</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.ensure_postgresql_types">
<span class="sig-name descname"><span class="pre">ensure_postgresql_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.ensure_postgresql_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.ensure_postgresql_types" title="Permalink to this definition"></a></dt>
<dd><p>Create a connection instance to wrap a SQL execution block as a context manager</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.executemany">
<span class="sig-name descname"><span class="pre">executemany</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack_scalars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepwrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.executemany"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.executemany" title="Permalink to this definition"></a></dt>
<dd><p>Executes the given <code class="docutils literal notranslate"><span class="pre">operation</span></code> once for each item in <code class="docutils literal notranslate"><span class="pre">params_iter</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – SQL operation</p></li>
<li><p><strong>params_iter</strong> (<em>sequence</em>) – a sequence of sequences
containing parameters in the sql operation</p></li>
<li><p><strong>unpack_scalars</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – [deprecated] use to unpack a single result from each query
only use with operations that return a single result for each query
(default: True)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.executeone">
<span class="sig-name descname"><span class="pre">executeone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_fetchone_behavior</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepwrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.executeone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.executeone" title="Permalink to this definition"></a></dt>
<dd><p>Executes the given <code class="docutils literal notranslate"><span class="pre">operation</span></code> once with the given set of <code class="docutils literal notranslate"><span class="pre">params</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>|</em><em>TextClause</em>) – SQL statement</p></li>
<li><p><strong>params</strong> (<em>sequence</em><em>|</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – parameters to pass in with SQL execution</p></li>
<li><p><strong>eager</strong> – [deprecated] no-op</p></li>
<li><p><strong>verbose</strong> – [deprecated] no-op</p></li>
<li><p><strong>use_fetchone_behavior</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Use DBAPI <code class="docutils literal notranslate"><span class="pre">fetchone</span></code> behavior when outputing no rows (i.e. None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.exists_where_eq">
<span class="sig-name descname"><span class="pre">exists_where_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AND'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack_scalars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.exists_where_eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.exists_where_eq" title="Permalink to this definition"></a></dt>
<dd><p>hacked in function for nicer templates</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_colname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rowid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assume_unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get" title="Permalink to this definition"></a></dt>
<dd><p>Get rows of data by ID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tblname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – table name to get from</p></li>
<li><p><strong>colnames</strong> (<em>tuple of str</em>) – column names to grab from</p></li>
<li><p><strong>id_iter</strong> (<em>iterable</em>) – iterable of search keys</p></li>
<li><p><strong>id_colname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – column to be used as the search key (default: rowid)</p></li>
<li><p><strong>eager</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – use eager evaluation</p></li>
<li><p><strong>assume_unique</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – default False. Experimental feature that could result in a 10x speedup</p></li>
<li><p><strong>unpack_scalars</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – default True</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;notch&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">print_csv</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Break things to test set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;dummy_annot_rowid&#39;</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">got_data</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">id_iter</span><span class="o">=</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">got_data</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_all_col_rows">
<span class="sig-name descname"><span class="pre">get_all_col_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_all_col_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_all_col_rows" title="Permalink to this definition"></a></dt>
<dd><p>returns a list of all rowids from a table in ascending order</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_all_rowids">
<span class="sig-name descname"><span class="pre">get_all_rowids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_all_rowids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_all_rowids" title="Permalink to this definition"></a></dt>
<dd><p>returns a list of all rowids from a table in ascending order</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_all_rowids_where">
<span class="sig-name descname"><span class="pre">get_all_rowids_where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_clause</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_all_rowids_where"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_all_rowids_where" title="Permalink to this definition"></a></dt>
<dd><p>returns a list of rowids from a table in ascending order satisfying a
condition</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_coldef_list">
<span class="sig-name descname"><span class="pre">get_coldef_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_coldef_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_coldef_list" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>each tuple is (col_name, col_type)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_column">
<span class="sig-name descname"><span class="pre">get_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_column" title="Permalink to this definition"></a></dt>
<dd><p>Get all the values for the specified column (<code class="docutils literal notranslate"><span class="pre">name</span></code>) of the table (<code class="docutils literal notranslate"><span class="pre">tablename</span></code>)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_column_names">
<span class="sig-name descname"><span class="pre">get_column_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_column_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_column_names" title="Permalink to this definition"></a></dt>
<dd><p>Conveinience: Returns the sql tablename columns</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_columns">
<span class="sig-name descname"><span class="pre">get_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_columns" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – table name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl>
<dt>list of tuples with format:</dt><dd><dl class="simple">
<dt>(</dt><dd><p>column_id  : id of the column
name       : the name of the column
<a href="#id6"><span class="problematic" id="id7">type_</span></a>      : the type of the column
notnull    : 0 or 1 if the column can contains null values
dflt_value : the default value
pk         : 0 or 1 if the column partecipate to the primary key</p>
</dd>
</dl>
<p>)</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>column_list</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/17717829/how-to-get-column-names-from-a-table-in-sqlite-via-pragma-net-c">http://stackoverflow.com/questions/17717829/how-to-get-column-names-from-a-table-in-sqlite-via-pragma-net-c</a>
<a class="reference external" href="http://stackoverflow.com/questions/1601151/how-do-i-check-in-sqlite-whether-a-table-exists">http://stackoverflow.com/questions/1601151/how-do-i-check-in-sqlite-whether-a-table-exists</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –exec-get_columns
python -m dtool.sql_control –exec-get_columns –tablename=contributors
python -m dtool.sql_control –exec-get_columns –tablename=nonexist</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colrichinfo_list</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_columns</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;colrichinfo_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">colrichinfo_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">colrichinfo_list = [</span>
<span class="go">    (0, &#39;keypoint_rowid&#39;, &#39;INTEGER&#39;, 0, None, 1),</span>
<span class="go">    (1, &#39;chip_rowid&#39;, &#39;INTEGER&#39;, 1, None, 0),</span>
<span class="go">    (2, &#39;config_rowid&#39;, &#39;INTEGER&#39;, 0, &#39;0&#39;, 0),</span>
<span class="go">    (3, &#39;kpts&#39;, &#39;NDARRAY&#39;, 0, None, 0),</span>
<span class="go">    (4, &#39;num&#39;, &#39;INTEGER&#39;, 0, None, 0),</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_db_init_uuid">
<span class="sig-name descname"><span class="pre">get_db_init_uuid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_db_init_uuid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_db_init_uuid" title="Permalink to this definition"></a></dt>
<dd><p>Get the database initialization (creation) UUID</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control get_db_init_uuid</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">uuid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check random database gets new UUID on init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="p">(</span><span class="s1">&#39;sqlite:///&#39;</span><span class="p">,</span> <span class="s1">&#39;testing&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuid_</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_db_init_uuid</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;New Database: </span><span class="si">%r</span><span class="s1"> is valid&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">uuid_</span><span class="p">,</span> <span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">uuid_</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check existing database keeps UUID</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqldb_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;dtool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqldb_fname</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;test_database.sqlite3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sqldb_dpath</span><span class="p">,</span> <span class="n">sqldb_fname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_uri</span> <span class="o">=</span> <span class="s1">&#39;sqlite:///</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db1</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="p">(</span><span class="n">db_uri</span><span class="p">,</span> <span class="s1">&#39;db1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuid_1</span> <span class="o">=</span> <span class="n">db1</span><span class="o">.</span><span class="n">get_db_init_uuid</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db2</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="p">(</span><span class="n">db_uri</span><span class="p">,</span> <span class="s1">&#39;db2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuid_2</span> <span class="o">=</span> <span class="n">db2</span><span class="o">.</span><span class="n">get_db_init_uuid</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Existing Database: </span><span class="si">%r</span><span class="s1"> == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">uuid_1</span><span class="p">,</span> <span class="n">uuid_2</span><span class="p">,</span> <span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">uuid_1</span> <span class="o">==</span> <span class="n">uuid_2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_db_version">
<span class="sig-name descname"><span class="pre">get_db_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_db_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_db_version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_metadata_items">
<span class="sig-name descname"><span class="pre">get_metadata_items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_metadata_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_metadata_items" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>metadata_items</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –exec-get_metadata_items</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()[</span><span class="s1">&#39;notch&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">metadata_items</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_metadata_items</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;metadata_items = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">metadata_items</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_metadata_val">
<span class="sig-name descname"><span class="pre">get_metadata_val</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_metadata_val"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_metadata_val" title="Permalink to this definition"></a></dt>
<dd><p>val is the repr string unless <a href="#id8"><span class="problematic" id="id9">eval_</span></a> is true</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_row_count">
<span class="sig-name descname"><span class="pre">get_row_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_row_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_row_count" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_rowid_from_superkey">
<span class="sig-name descname"><span class="pre">get_rowid_from_superkey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">superkey_colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_rowid_from_superkey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_rowid_from_superkey" title="Permalink to this definition"></a></dt>
<dd><p>getter which uses the constrained superkeys instead of rowids</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_schema_current_autogeneration_str">
<span class="sig-name descname"><span class="pre">get_schema_current_autogeneration_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autogen_cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_schema_current_autogeneration_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_schema_current_autogeneration_str" title="Permalink to this definition"></a></dt>
<dd><p>Convenience: Autogenerates the most up-to-date database schema</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –exec-get_schema_current_autogeneration_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_schema_current_autogeneration_str</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_sql_version">
<span class="sig-name descname"><span class="pre">get_sql_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_sql_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_sql_version" title="Permalink to this definition"></a></dt>
<dd><p>Conveinience</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_as_pandas">
<span class="sig-name descname"><span class="pre">get_table_as_pandas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_as_pandas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_as_pandas" title="Permalink to this definition"></a></dt>
<dd><p>aid = 30
db = ibs.staging
rowids = ut.flatten(ibs.get_review_rowids_from_single([aid]))
tablename = ‘reviews’
exclude_columns = ‘review_user_confidence review_user_identity’.split(’ ‘)
logger.info(db.get_table_as_pandas(tablename, rowids, exclude_columns=exclude_columns))</p>
<p>db = ibs.db
rowids = ut.flatten(ibs.get_annotmatch_rowids_from_aid([aid]))
tablename = ‘annotmatch’
exclude_columns = ‘annotmatch_confidence annotmatch_posixtime_modified annotmatch_reviewer’.split(’ ‘)
logger.info(db.get_table_as_pandas(tablename, rowids, exclude_columns=exclude_columns))</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_autogen_dict">
<span class="sig-name descname"><span class="pre">get_table_autogen_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_autogen_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_autogen_dict" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>autogen_dict</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control get_table_autogen_dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="p">(</span><span class="s1">&#39;sqlite:///&#39;</span><span class="p">,</span> <span class="s1">&#39;testing&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;dummy_table&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;INTEGER PRIMARY KEY&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;value2&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT NOT NULL&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;value3&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT DEFAULT 1&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;time_added&#39;</span><span class="p">,</span> <span class="s2">&quot;INTEGER DEFAULT (CAST(STRFTIME(&#39;</span><span class="si">%s</span><span class="s2">&#39;, &#39;NOW&#39;, &#39;UTC&#39;) AS INTEGER))&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autogen_dict</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_autogen_dict</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">autogen_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_autogen_str">
<span class="sig-name descname"><span class="pre">get_table_autogen_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_autogen_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_autogen_str" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>quoted_docstr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control get_table_autogen_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="p">(</span><span class="s1">&#39;sqlite:///&#39;</span><span class="p">,</span> <span class="s1">&#39;testing&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;dummy_table&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;INTEGER PRIMARY KEY&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;time_added&#39;</span><span class="p">,</span> <span class="s2">&quot;INTEGER DEFAULT (CAST(STRFTIME(&#39;</span><span class="si">%s</span><span class="s2">&#39;, &#39;NOW&#39;, &#39;UTC&#39;) AS INTEGER))&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_table_autogen_str</span><span class="p">(</span><span class="n">tablename</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_column_data">
<span class="sig-name descname"><span class="pre">get_table_column_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_column_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_column_data" title="Permalink to this definition"></a></dt>
<dd><p>Grabs a table of information</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span><span class="p">,</span> <span class="n">column_names</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_column_data</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span>
<span class="go">[[], [], [], [], []]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span>
<span class="go">[&#39;keypoint_rowid&#39;, &#39;chip_rowid&#39;, &#39;config_rowid&#39;, &#39;kpts&#39;, &#39;num&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_constraints">
<span class="sig-name descname"><span class="pre">get_table_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_constraints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_constraints" title="Permalink to this definition"></a></dt>
<dd><p>TODO: use coldef_list with table_autogen_dict instead</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_csv">
<span class="sig-name descname"><span class="pre">get_table_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_csv" title="Permalink to this definition"></a></dt>
<dd><p>Converts a tablename to csv format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>exclude_columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>csv_table</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –test-get_table_csv
python -m dtool.sql_control –exec-get_table_csv –tablename=contributors</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;notch&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">exec_funckw</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_table_csv</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;notch&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csv_table</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_csv</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">exclude_columns</span><span class="p">,</span> <span class="n">truncate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">csv_table</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_csv_header">
<span class="sig-name descname"><span class="pre">get_table_csv_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_csv_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_csv_header" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_docstr">
<span class="sig-name descname"><span class="pre">get_table_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_docstr" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –exec-get_table_docstr</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_docstr</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">Used to store individual chip features (ellipses)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_names">
<span class="sig-name descname"><span class="pre">get_table_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lazy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_names" title="Permalink to this definition"></a></dt>
<dd><p>Conveinience:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_new_transferdata">
<span class="sig-name descname"><span class="pre">get_table_new_transferdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_new_transferdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_new_transferdata" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –test-get_table_column_data
python -m dtool.sql_control –test-get_table_new_transferdata
python -m dtool.sql_control –test-get_table_new_transferdata:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename_list</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colrichinfo_list</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_columns</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">tablename</span> <span class="ow">in</span> <span class="n">tablename_list</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">new_transferdata</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_new_transferdata</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">column_list</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">extern_colx_list</span><span class="p">,</span> <span class="n">extern_superkey_colname_list</span><span class="p">,</span> <span class="n">extern_superkey_colval_list</span><span class="p">,</span> <span class="n">extern_tablename_list</span><span class="p">,</span> <span class="n">extern_primarycolnames_list</span> <span class="o">=</span> <span class="n">new_transferdata</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tablename = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tablename</span><span class="p">,))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;colnames = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">column_names</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_colx_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_colx_list</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_superkey_colname_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_superkey_colname_list</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L___&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_columns</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename_list</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">tablename</span> <span class="ow">in</span> <span class="n">tablename_list</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">new_transferdata</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_new_transferdata</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">column_list</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">extern_colx_list</span><span class="p">,</span> <span class="n">extern_superkey_colname_list</span><span class="p">,</span> <span class="n">extern_superkey_colval_list</span><span class="p">,</span> <span class="n">extern_tablename_list</span><span class="p">,</span> <span class="n">extern_primarycolnames_list</span> <span class="o">=</span> <span class="n">new_transferdata</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tablename = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tablename</span><span class="p">,))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;colnames = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">column_names</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_colx_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_colx_list</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_superkey_colname_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_superkey_colname_list</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L___&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_columns</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">IMAGE_TABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_transferdata</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_new_transferdata</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">extern_colx_list</span><span class="p">,</span> <span class="n">extern_superkey_colname_list</span><span class="p">,</span> <span class="n">extern_superkey_colval_list</span><span class="p">,</span> <span class="n">extern_tablename_list</span><span class="p">,</span> <span class="n">extern_primarycolnames_list</span> <span class="o">=</span> <span class="n">new_transferdata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dependsmap</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">dependsmap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tablename = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tablename</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;colnames = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">column_names</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_colx_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_colx_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_superkey_colname_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_superkey_colname_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dependsmap = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dependsmap</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L___&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">ANNOTATION_TABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_transferdata</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_new_transferdata</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">extern_colx_list</span><span class="p">,</span> <span class="n">extern_superkey_colname_list</span><span class="p">,</span> <span class="n">extern_superkey_colval_list</span><span class="p">,</span> <span class="n">extern_tablename_list</span><span class="p">,</span> <span class="n">extern_primarycolnames_list</span> <span class="o">=</span> <span class="n">new_transferdata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dependsmap</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">dependsmap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tablename = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tablename</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;colnames = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">column_names</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_colx_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_colx_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_superkey_colname_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_superkey_colname_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dependsmap = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dependsmap</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L___&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_primarykey_colnames">
<span class="sig-name descname"><span class="pre">get_table_primarykey_colnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_primarykey_colnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_primarykey_colnames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_table_superkey_colnames">
<span class="sig-name descname"><span class="pre">get_table_superkey_colnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_superkey_colnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_superkey_colnames" title="Permalink to this definition"></a></dt>
<dd><p>Actually resturns a list of tuples. need to change the name to
get_table_superkey_colnames_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>superkeys</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –test-get_table_superkey_colnames
python -m wbia –tf get_table_superkey_colnames –tablename=contributors
python -m wbia –tf get_table_superkey_colnames –db PZ_Master0 –tablename=annotations
python -m wbia –tf get_table_superkey_colnames –db PZ_Master0 –tablename=contributors  # NOQA</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">superkeys</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_superkey_colnames</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">superkeys</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(&#39;dummy_annot_rowid&#39;, &#39;config_rowid&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_where">
<span class="sig-name descname"><span class="pre">get_where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_clause</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack_scalars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_where"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_where" title="Permalink to this definition"></a></dt>
<dd><p>Interface to do a SQL select with a where clause</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tblname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – table name</p></li>
<li><p><strong>colnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>]</em>) – sequence of column names</p></li>
<li><p><strong>params_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>]</em>) – a sequence of dicts with parameters,
where each item in the sequence is used in a SQL execution</p></li>
<li><p><strong>where_clause</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>|</em><em>Operation</em>) – conditional statement used in the where clause</p></li>
<li><p><strong>unpack_scalars</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – [deprecated] use to unpack a single result from each query
only use with operations that return a single result for each query
(default: True)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_where_eq">
<span class="sig-name descname"><span class="pre">get_where_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack_scalars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AND'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_where_eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_where_eq" title="Permalink to this definition"></a></dt>
<dd><p>Executes a SQL select where the given parameters match/equal
the specified where columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tblname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – table name</p></li>
<li><p><strong>colnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>]</em>) – sequence of column names</p></li>
<li><p><strong>params_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>]</em>) – a sequence of a sequence with parameters,
where each item in the sequence is used in a SQL execution</p></li>
<li><p><strong>where_colnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>]</em>) – column names to match for equality against the same index
of the param_iter values</p></li>
<li><p><strong>op</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – SQL boolean operator (e.g. AND, OR)</p></li>
<li><p><strong>unpack_scalars</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – [deprecated] use to unpack a single result from each query
only use with operations that return a single result for each query
(default: True)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.get_where_eq_set">
<span class="sig-name descname"><span class="pre">get_where_eq_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack_scalars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AND'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_where_eq_set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_where_eq_set" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.has_table">
<span class="sig-name descname"><span class="pre">has_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lazy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.has_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.has_table" title="Permalink to this definition"></a></dt>
<dd><p>checks if a table exists</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.integrity">
<span class="sig-name descname"><span class="pre">integrity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.integrity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.integrity" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.invalidate_tables_cache">
<span class="sig-name descname"><span class="pre">invalidate_tables_cache</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.invalidate_tables_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.invalidate_tables_cache" title="Permalink to this definition"></a></dt>
<dd><p>Invalidates the controller’s cache of table names and objects
Resets the caches and/or repopulates them.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.is_using_postgres">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_using_postgres</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.is_using_postgres" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.is_using_sqlite">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_using_sqlite</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.is_using_sqlite" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.make_json_table_definition">
<span class="sig-name descname"><span class="pre">make_json_table_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.make_json_table_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.make_json_table_definition" title="Permalink to this definition"></a></dt>
<dd><p>VERY HACKY FUNC RIGHT NOW. NEED TO FIX LATER</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_transferdata</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia –tf sql_control.make_json_table_definition</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool –tf iter_module_doctestable –modname=dtool.sql_control
–include_inherited=True
python -m dtool.sql_control –exec-make_json_table_definition</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table_def</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">make_json_table_definition</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;table_def = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">table_def</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">table_def = {</span>
<span class="go">    &#39;keypoint_rowid&#39;: &#39;INTEGER&#39;,</span>
<span class="go">    &#39;chip_rowid&#39;: &#39;INTEGER&#39;,</span>
<span class="go">    &#39;config_rowid&#39;: &#39;INTEGER&#39;,</span>
<span class="go">    &#39;kpts&#39;: &#39;NDARRAY&#39;,</span>
<span class="go">    &#39;num&#39;: &#39;INTEGER&#39;,</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.merge_databases_new">
<span class="sig-name descname"><span class="pre">merge_databases_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_tables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowid_subsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.merge_databases_new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.merge_databases_new" title="Permalink to this definition"></a></dt>
<dd><p>Copies over all non-rowid properties into another sql table. handles
annotated dependenceis.
Does not handle external files
Could handle dependency tree order, but not yet implemented.</p>
<p>FINISHME</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>db_src</strong> (<em>SQLController</em>) – merge data from db_src into db</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –test-merge_databases_new:0
python -m dtool.sql_control –test-merge_databases_new:2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ibs_dst = wbia.opendb(dbdir=&#39;testdb_dst&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># OPEN A CLEAN DATABASE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_dst</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">dbdir</span><span class="o">=</span><span class="s1">&#39;test_sql_merge_dst1&#39;</span><span class="p">,</span> <span class="n">allow_newdir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_ibsdir</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span><span class="o">.</span><span class="n">ensure_contributor_rowids</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs_dst</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_src</span> <span class="o">=</span> <span class="n">ibs_src</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_subsets</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">merge_databases_new</span><span class="p">(</span><span class="n">db_src</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;testdb2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># OPEN A CLEAN DATABASE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_dst</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">dbdir</span><span class="o">=</span><span class="s1">&#39;test_sql_merge_dst2&#39;</span><span class="p">,</span> <span class="n">allow_newdir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_ibsdir</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span><span class="o">.</span><span class="n">ensure_contributor_rowids</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs_dst</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_src</span> <span class="o">=</span> <span class="n">ibs_src</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_tables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lblannot&#39;</span><span class="p">,</span> <span class="s1">&#39;lblimage&#39;</span><span class="p">,</span> <span class="s1">&#39;image_lblimage_relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;annotation_lblannot_relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;keys&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_subsets</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">merge_databases_new</span><span class="p">(</span><span class="n">db_src</span><span class="p">,</span> <span class="n">ignore_tables</span><span class="o">=</span><span class="n">ignore_tables</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;testdb2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># OPEN A CLEAN DATABASE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span><span class="o">.</span><span class="n">fix_invalid_annotmatches</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_dst</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">dbdir</span><span class="o">=</span><span class="s1">&#39;test_sql_subexport_dst2&#39;</span><span class="p">,</span> <span class="n">allow_newdir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_ibsdir</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span><span class="o">.</span><span class="n">ensure_contributor_rowids</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs_dst</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_src</span> <span class="o">=</span> <span class="n">ibs_src</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_tables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lblannot&#39;</span><span class="p">,</span> <span class="s1">&#39;lblimage&#39;</span><span class="p">,</span> <span class="s1">&#39;image_lblimage_relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;annotation_lblannot_relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;keys&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aid_subset</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_subsets</span> <span class="o">=</span> <span class="p">{</span><span class="n">ANNOTATION_TABLE</span><span class="p">:</span> <span class="n">aid_subset</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="n">NAME_TABLE</span><span class="p">:</span> <span class="n">ibs_src</span><span class="o">.</span><span class="n">get_annot_nids</span><span class="p">(</span><span class="n">aid_subset</span><span class="p">),</span>
<span class="gp">... </span>                 <span class="n">IMAGE_TABLE</span><span class="p">:</span> <span class="n">ibs_src</span><span class="o">.</span><span class="n">get_annot_gids</span><span class="p">(</span><span class="n">aid_subset</span><span class="p">),</span>
<span class="gp">... </span>                 <span class="n">ANNOTMATCH_TABLE</span><span class="p">:</span> <span class="p">[],</span>
<span class="gp">... </span>                 <span class="n">GSG_RELATION_TABLE</span><span class="p">:</span> <span class="p">[],</span>
<span class="gp">... </span>                 <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">merge_databases_new</span><span class="p">(</span><span class="n">db_src</span><span class="p">,</span> <span class="n">ignore_tables</span><span class="o">=</span><span class="n">ignore_tables</span><span class="p">,</span> <span class="n">rowid_subsets</span><span class="o">=</span><span class="n">rowid_subsets</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.modify_table">
<span class="sig-name descname"><span class="pre">modify_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colmap_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">metadata_keyval</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.modify_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.modify_table" title="Permalink to this definition"></a></dt>
<dd><p>function to modify the schema - only columns that are being added,
removed or changed need to be enumerated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – tablename</p></li>
<li><p><strong>colmap_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – of tuples (orig_colname, new_colname, new_coltype, convert_func)
orig_colname - the original name of the column, None to append, int for index
new_colname - the new column name (’’ for same, None to delete)
new_coltype - New Column Type. None to use data unmodified
convert_func - Function to convert data from old to new</p></li>
<li><p><strong>constraint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>superkeys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>docstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>tablename_new</strong> – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">loc_zip_map</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">modify_table</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">CONTRIBUTOR_TABLE</span><span class="p">,</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># orig_colname,             new_colname,      new_coltype, convert_func</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># a non-needed, but correct mapping (identity function)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;contrib_rowid&#39;</span><span class="p">,</span>      <span class="s1">&#39;&#39;</span><span class="p">,</span>                    <span class="s1">&#39;&#39;</span><span class="p">,</span>               <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># for new columns, function is ignored (TYPE CANNOT BE EMPTY IF ADDING)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="kc">None</span><span class="p">,</span>                 <span class="s1">&#39;contrib_loc_address&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT&#39;</span><span class="p">,</span>           <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># adding a new column at index 4 (if index is invalid, None is used)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="mi">4</span><span class="p">,</span>                    <span class="s1">&#39;contrib_loc_address&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT&#39;</span><span class="p">,</span>           <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># for deleted columns, type and function are ignored</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;contrib_loc_city&#39;</span><span class="p">,</span>    <span class="kc">None</span><span class="p">,</span>                 <span class="s1">&#39;&#39;</span><span class="p">,</span>               <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># for renamed columns, type and function are ignored</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;contrib_loc_city&#39;</span><span class="p">,</span>   <span class="s1">&#39;contrib_loc_town&#39;</span><span class="p">,</span>    <span class="s1">&#39;&#39;</span><span class="p">,</span>       <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;contrib_loc_zip&#39;</span><span class="p">,</span>    <span class="s1">&#39;contrib_loc_zip&#39;</span><span class="p">,</span>     <span class="s1">&#39;TEXT&#39;</span><span class="p">,</span>   <span class="n">loc_zip_map</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># type not changing, only NOT NULL provision</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;contrib_loc_country&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>                   <span class="s1">&#39;TEXT NOT NULL&#39;</span><span class="p">,</span>  <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">superkeys</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;contributor_rowid&#39;</span><span class="p">,)],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">constraint</span><span class="o">=</span><span class="p">[],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">docstr</span><span class="o">=</span><span class="s1">&#39;Used to store the contributors to the project&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.optimize">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.optimize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.optimize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.print_dbg_schema">
<span class="sig-name descname"><span class="pre">print_dbg_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.print_dbg_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.print_dbg_schema" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.print_schema">
<span class="sig-name descname"><span class="pre">print_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.print_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.print_schema" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.print_table_csv">
<span class="sig-name descname"><span class="pre">print_table_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.print_table_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.print_table_csv" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.reboot">
<span class="sig-name descname"><span class="pre">reboot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.reboot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.reboot" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.rename_table">
<span class="sig-name descname"><span class="pre">rename_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename_old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename_new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invalidate_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.rename_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.rename_table" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.rows_exist">
<span class="sig-name descname"><span class="pre">rows_exist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.rows_exist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.rows_exist" title="Permalink to this definition"></a></dt>
<dd><p>Checks if rowids exist. Yields True if they do</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.schema_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">schema_name</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.schema_name" title="Permalink to this definition"></a></dt>
<dd><p>The name of the namespace schema (using with Postgres).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tblname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_colname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rowid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duplicate_behavior</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'error'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duplcate_auto_resolve</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.set" title="Permalink to this definition"></a></dt>
<dd><p>setter</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control set</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;notch&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">print_csv</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Break things to test set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;dummy_annot_rowid&#39;</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_iter</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">9003</span><span class="p">,),</span> <span class="p">(</span><span class="mi">9001</span><span class="p">,),</span> <span class="p">(</span><span class="mi">9002</span><span class="p">,)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_data</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">id_iter</span><span class="o">=</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">val_iter</span><span class="p">,</span> <span class="n">id_iter</span><span class="o">=</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_data</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">id_iter</span><span class="o">=</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">new_data</span> <span class="o">==</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">val_iter</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">new_data</span> <span class="o">!=</span> <span class="n">orig_data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">print_csv</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.set_db_version">
<span class="sig-name descname"><span class="pre">set_db_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.set_db_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.set_db_version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.set_metadata_val">
<span class="sig-name descname"><span class="pre">set_metadata_val</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.set_metadata_val"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.set_metadata_val" title="Permalink to this definition"></a></dt>
<dd><p>key must be given as a repr-ed string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.shrink_memory">
<span class="sig-name descname"><span class="pre">shrink_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.shrink_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.shrink_memory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.squeeze">
<span class="sig-name descname"><span class="pre">squeeze</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.squeeze"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.squeeze" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.tablenames">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tablenames</span></span><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.tablenames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.vacuum">
<span class="sig-name descname"><span class="pre">vacuum</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.vacuum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.vacuum" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLDatabaseController.view_db_in_external_reader">
<span class="sig-name descname"><span class="pre">view_db_in_external_reader</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.view_db_in_external_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.view_db_in_external_reader" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLTable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">wbia.dtool.sql_control.</span></span><span class="sig-name descname"><span class="pre">SQLTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<p>convinience object for dealing with a specific table</p>
<p>table = db
table = SQLTable(db, ‘annotmatch’)</p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLTable.as_pandas">
<span class="sig-name descname"><span class="pre">as_pandas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rowids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.as_pandas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.as_pandas" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLTable.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.clear" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLTable.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rowids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.delete" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLTable.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_colname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rowid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.get" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLTable.number_of_rows">
<span class="sig-name descname"><span class="pre">number_of_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.number_of_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.number_of_rows" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLTable.rowids">
<span class="sig-name descname"><span class="pre">rowids</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.rowids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.rowids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.SQLTable.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.compare_coldef_lists">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.sql_control.</span></span><span class="sig-name descname"><span class="pre">compare_coldef_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coldef_list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coldef_list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#compare_coldef_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.compare_coldef_lists" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.create_engine">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.sql_control.</span></span><span class="sig-name descname"><span class="pre">create_engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uri</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">POSTGRESQL_POOL_SIZE</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ENGINES</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#create_engine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.create_engine" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.sanitize_sql">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.sql_control.</span></span><span class="sig-name descname"><span class="pre">sanitize_sql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#sanitize_sql"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.sanitize_sql" title="Permalink to this definition"></a></dt>
<dd><p>Sanatizes an sql tablename and column. Use sparingly</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dtool.sql_control.tuplize">
<span class="sig-prename descclassname"><span class="pre">wbia.dtool.sql_control.</span></span><span class="sig-name descname"><span class="pre">tuplize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#tuplize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dtool.sql_control.tuplize" title="Permalink to this definition"></a></dt>
<dd><p>Converts each scalar item in a list to a dimension-1 tuple</p>
</dd></dl>

</section>
<section id="module-wbia.dtool">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-wbia.dtool" title="Permalink to this headline"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="wbia.detecttools.wbiadata.html" class="btn btn-neutral float-left" title="wbia.detecttools.wbiadata package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wbia.expt.html" class="btn btn-neutral float-right" title="wbia.expt package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024 Conservation X Labs.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>