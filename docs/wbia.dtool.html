
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>wbia.dtool package &#8212; wbia 3.3.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="wbia.expt package" href="wbia.expt.html" />
    <link rel="prev" title="wbia.detecttools.wbiadata package" href="wbia.detecttools.wbiadata.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="wbia-dtool-package">
<h1>wbia.dtool package<a class="headerlink" href="#wbia-dtool-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wbia-dtool-sqlite-module">
<h2>wbia.dtool.__SQLITE__ module<a class="headerlink" href="#wbia-dtool-sqlite-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wbia-dtool-main-module">
<h2>wbia.dtool.__main__ module<a class="headerlink" href="#wbia-dtool-main-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wbia-dtool-grave-depcache-module">
<h2>wbia.dtool._grave_depcache module<a class="headerlink" href="#wbia-dtool-grave-depcache-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-wbia.dtool.base">
<span id="wbia-dtool-base-module"></span><h2>wbia.dtool.base module<a class="headerlink" href="#module-wbia.dtool.base" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="wbia.dtool.base.AlgoResult">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">AlgoResult</code><a class="reference internal" href="_modules/wbia/dtool/base.html#AlgoResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.AlgoResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for algo result objects</p>
<dl class="py method">
<dt id="wbia.dtool.base.AlgoResult.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#AlgoResult.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.AlgoResult.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.AlgoResult.load_from_fpath">
<em class="property">classmethod </em><code class="sig-name descname">load_from_fpath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#AlgoResult.load_from_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.AlgoResult.load_from_fpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.AlgoResult.save_to_fpath">
<code class="sig-name descname">save_to_fpath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#AlgoResult.save_to_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.AlgoResult.save_to_fpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.base.AnnotSimiliarity">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">AnnotSimiliarity</code><a class="reference internal" href="_modules/wbia/dtool/base.html#AnnotSimiliarity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.AnnotSimiliarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="wbia.dtool.base.AnnotSimiliarity.get_data_hashid">
<code class="sig-name descname">get_data_hashid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#AnnotSimiliarity.get_data_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.AnnotSimiliarity.get_data_hashid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.AnnotSimiliarity.get_query_hashid">
<code class="sig-name descname">get_query_hashid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#AnnotSimiliarity.get_query_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.AnnotSimiliarity.get_query_hashid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.base.BaseRequest">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">BaseRequest</code><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.IBEISRequestHacks" title="wbia.dtool.base.IBEISRequestHacks"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.IBEISRequestHacks</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<p>Class that maintains both an algorithm, inputs, and a config.</p>
<dl class="py method">
<dt id="wbia.dtool.base.BaseRequest.ensure_dependencies">
<code class="sig-name descname">ensure_dependencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.ensure_dependencies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.ensure_dependencies" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base –exec-BaseRequest.ensure_dependencies</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">new_request</span><span class="p">(</span><span class="s1">&#39;vsmany&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="o">.</span><span class="n">ensure_dependencies</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.BaseRequest.execute">
<code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent_rowids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_cache</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">postprocess</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.execute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.BaseRequest.get_cfgstr">
<code class="sig-name descname">get_cfgstr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">with_input</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">with_pipe</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.get_cfgstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.get_cfgstr" title="Permalink to this definition">¶</a></dt>
<dd><p>main cfgstring used to identify the ‘querytype’</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.BaseRequest.get_input_hashid">
<code class="sig-name descname">get_input_hashid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.get_input_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.get_input_hashid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.BaseRequest.get_pipe_cfgstr">
<code class="sig-name descname">get_pipe_cfgstr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.get_pipe_cfgstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.get_pipe_cfgstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.BaseRequest.get_pipe_hashid">
<code class="sig-name descname">get_pipe_hashid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.get_pipe_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.get_pipe_hashid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.BaseRequest.new">
<em class="property">classmethod </em><code class="sig-name descname">new</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depc</span></em>, <em class="sig-param"><span class="n">parent_rowids</span></em>, <em class="sig-param"><span class="n">cfgdict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.new" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.BaseRequest.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.base.BaseRequest.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.BaseRequest.static_new">
<em class="property">static </em><code class="sig-name descname">static_new</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">depc</span></em>, <em class="sig-param"><span class="n">parent_rowids</span></em>, <em class="sig-param"><span class="n">cfgdict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#BaseRequest.static_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.BaseRequest.static_new" title="Permalink to this definition">¶</a></dt>
<dd><p>hack for autoreload</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.base.ClassVsClassSimilarityRequest">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">ClassVsClassSimilarityRequest</code><a class="reference internal" href="_modules/wbia/dtool/base.html#ClassVsClassSimilarityRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.ClassVsClassSimilarityRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.BaseRequest" title="wbia.dtool.base.BaseRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.BaseRequest</span></code></a></p>
<dl class="py method">
<dt id="wbia.dtool.base.ClassVsClassSimilarityRequest.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.base.ClassVsClassSimilarityRequest.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.base.Config">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">Config</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.DictLike</span></code></p>
<p>Base class for heirarchical config
need to overwrite get_param_info_list</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base Config</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg1</span> <span class="o">=</span> <span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg2</span> <span class="o">=</span> <span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Must be hashable and orderable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hash</span><span class="p">(</span><span class="n">cfg1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg1</span> <span class="o">&gt;</span> <span class="n">cfg2</span>
</pre></div>
</div>
<dl class="py method">
<dt id="wbia.dtool.base.Config.assert_self_types">
<code class="sig-name descname">assert_self_types</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.assert_self_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.assert_self_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.class_from_dict">
<em class="property">classmethod </em><code class="sig-name descname">class_from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dict_</span></em>, <em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.class_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.class_from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.deepcopy">
<code class="sig-name descname">deepcopy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.deepcopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.from_argv_cfgs">
<em class="property">classmethod </em><code class="sig-name descname">from_argv_cfgs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.from_argv_cfgs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.from_argv_cfgs" title="Permalink to this definition">¶</a></dt>
<dd><p>handy command line tool</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.from_argv_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_argv_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.from_argv_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.from_argv_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>handy command line tool
ut.parse_argv_cfg</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dict_</span></em>, <em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict</strong> (<a href="#id1"><span class="problematic" id="id2">dict_</span></a>) – a dictionary</p></li>
<li><p><strong>tablename</strong> (<em>None</em>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>param_info_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base Config.from_dict –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">cls</span> <span class="o">=</span> <span class="n">Config</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Knorm&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;min_pername&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;max_pername&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(--show)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dlg</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">make_qt_dialog</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Confirm Merge Query&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Confirm&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dlg</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">700</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dlg</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">widget</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">guitool</span><span class="o">.</span><span class="n">qtapp_loop</span><span class="p">(</span><span class="n">qwin</span><span class="o">=</span><span class="n">dlg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">updated_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;updated_config = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">updated_config</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.get" title="Permalink to this definition">¶</a></dt>
<dd><p>get a paramater value by string</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.get_cfgstr">
<code class="sig-name descname">get_cfgstr</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_cfgstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_cfgstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.get_cfgstr_list">
<code class="sig-name descname">get_cfgstr_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ignore_keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">with_name</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_cfgstr_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_cfgstr_list" title="Permalink to this definition">¶</a></dt>
<dd><p>default get_cfgstr_list, can be overrided by a config object</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.get_config_name">
<code class="sig-name descname">get_config_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_config_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_config_name" title="Permalink to this definition">¶</a></dt>
<dd><p>the user might want to overwrite this function</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.get_hashid">
<code class="sig-name descname">get_hashid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_hashid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.get_param_info_dict">
<code class="sig-name descname">get_param_info_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_param_info_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_param_info_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.get_param_info_list">
<code class="sig-name descname">get_param_info_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_param_info_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_param_info_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.get_sub_config_list">
<code class="sig-name descname">get_sub_config_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_sub_config_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_sub_config_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.get_varnames">
<code class="sig-name descname">get_varnames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.get_varnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.get_varnames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.getinfo">
<code class="sig-name descname">getinfo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.getinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.getinfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.getitem">
<code class="sig-name descname">getitem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.getitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Required for DictLike interface</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.getstate_todict_recursive">
<code class="sig-name descname">getstate_todict_recursive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.getstate_todict_recursive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.getstate_todict_recursive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.initialize_params">
<code class="sig-name descname">initialize_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.initialize_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.initialize_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes config class attributes based on params info list</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.keys">
<code class="sig-name descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Required for DictLike interface</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.make_qt_dialog">
<code class="sig-name descname">make_qt_dialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">'Edit Config'</span></em>, <em class="sig-param"><span class="n">msg</span><span class="o">=</span><span class="default_value">'Confim'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.make_qt_dialog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.make_qt_dialog" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.native_items">
<code class="sig-name descname">native_items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.native_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.native_items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.nested_items">
<code class="sig-name descname">nested_items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.nested_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.nested_items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.parse_items">
<code class="sig-name descname">parse_items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.parse_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.parse_items" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>param_list</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base –exec-parse_items</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">DummyVsManyConfig</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">DummyVsManyConfig</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">param_list</span> <span class="o">=</span> <span class="n">cfg</span><span class="o">.</span><span class="n">parse_items</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;param_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">param_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.parse_namespace_config_items">
<code class="sig-name descname">parse_namespace_config_items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.parse_namespace_config_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.parse_namespace_config_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively extracts key, val pairs from Config objects
into a flat list. (there must not be name conflicts)</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.pop_update">
<code class="sig-name descname">pop_update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.pop_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.pop_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates based on other, while popping off used arguments.
(useful for testing if a parameter was unused or misspelled)</p>
<dl>
<dt>Doctest:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia</span> <span class="kn">import</span> <span class="n">dtool</span> <span class="k">as</span> <span class="n">dt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">pop_update</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="s1">&#39;a&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">other</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.setitem">
<code class="sig-name descname">setitem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.setitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.setitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Required for DictLike interface</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrites default DictLike update for only keys that exist.
Non-existing key are ignored.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>prefixed keys in the form &lt;classname&gt;_&lt;key&gt; will be just be
interpreted as &lt;key&gt;</p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base update –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">DummyVsManyConfig</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">DummyVsManyConfig</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">DummyAlgo_version</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.Config.update2">
<code class="sig-name descname">update2</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#Config.update2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.Config.update2" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrites default DictLike update for only keys that exist.
Non-existing key are ignored.
Also updates nested configs.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>prefixed keys in the form &lt;classname&gt;_&lt;key&gt; will be just be
interpreted as &lt;key&gt;</p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base update –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia</span> <span class="kn">import</span> <span class="n">dtool</span> <span class="k">as</span> <span class="n">dt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;sub1&#39;</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">33</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">}),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;sub2&#39;</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;sub3&#39;</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">88</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">}),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">}),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">update2</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="o">.</span><span class="n">c</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="o">.</span><span class="n">sub1</span><span class="o">.</span><span class="n">c</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="o">.</span><span class="n">sub2</span><span class="o">.</span><span class="n">c</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="o">.</span><span class="n">sub2</span><span class="o">.</span><span class="n">sub3</span><span class="o">.</span><span class="n">c</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cfg</span><span class="o">.</span><span class="n">sub1</span><span class="o">.</span><span class="n">y</span> <span class="o">==</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.base.IBEISRequestHacks">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">IBEISRequestHacks</code><a class="reference internal" href="_modules/wbia/dtool/base.html#IBEISRequestHacks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="wbia.dtool.base.IBEISRequestHacks.dannots">
<em class="property">property </em><code class="sig-name descname">dannots</code><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.dannots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.IBEISRequestHacks.extern_data_config2">
<em class="property">property </em><code class="sig-name descname">extern_data_config2</code><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.extern_data_config2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.IBEISRequestHacks.extern_query_config2">
<em class="property">property </em><code class="sig-name descname">extern_query_config2</code><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.extern_query_config2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.IBEISRequestHacks.get_qreq_annot_nids">
<code class="sig-name descname">get_qreq_annot_nids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aids</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#IBEISRequestHacks.get_qreq_annot_nids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.get_qreq_annot_nids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.IBEISRequestHacks.ibs">
<em class="property">property </em><code class="sig-name descname">ibs</code><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.ibs" title="Permalink to this definition">¶</a></dt>
<dd><p>HACK specific to wbia</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.IBEISRequestHacks.qannots">
<em class="property">property </em><code class="sig-name descname">qannots</code><a class="headerlink" href="#wbia.dtool.base.IBEISRequestHacks.qannots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.base.MatchResult">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">MatchResult</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qaid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">daids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">qnid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dnid_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">annot_score_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unique_nids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name_score_list</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#MatchResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.MatchResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.AlgoResult" title="wbia.dtool.base.AlgoResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.AlgoResult</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<dl class="py method">
<dt id="wbia.dtool.base.MatchResult.daids">
<em class="property">property </em><code class="sig-name descname">daids</code><a class="headerlink" href="#wbia.dtool.base.MatchResult.daids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.MatchResult.num_daids">
<em class="property">property </em><code class="sig-name descname">num_daids</code><a class="headerlink" href="#wbia.dtool.base.MatchResult.num_daids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.MatchResult.qaids">
<em class="property">property </em><code class="sig-name descname">qaids</code><a class="headerlink" href="#wbia.dtool.base.MatchResult.qaids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.base.StackedConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">StackedConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#StackedConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.StackedConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.DictLike</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_class.HashComparable</span></code></p>
<p>Manages a list of configurations</p>
<dl class="py method">
<dt id="wbia.dtool.base.StackedConfig.get_cfgstr">
<code class="sig-name descname">get_cfgstr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#StackedConfig.get_cfgstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.StackedConfig.get_cfgstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.StackedConfig.getitem">
<code class="sig-name descname">getitem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#StackedConfig.getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.StackedConfig.getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.StackedConfig.keys">
<code class="sig-name descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#StackedConfig.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.StackedConfig.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.base.VsManySimilarityRequest">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">VsManySimilarityRequest</code><a class="reference internal" href="_modules/wbia/dtool/base.html#VsManySimilarityRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.VsManySimilarityRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.BaseRequest" title="wbia.dtool.base.BaseRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.BaseRequest</span></code></a>, <a class="reference internal" href="#wbia.dtool.base.AnnotSimiliarity" title="wbia.dtool.base.AnnotSimiliarity"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.AnnotSimiliarity</span></code></a></p>
<p>Request for one-vs-many simlarity</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base –exec-VsManySimilarityRequest</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qaid_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daid_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">new_request</span><span class="p">(</span><span class="s1">&#39;vsmany&#39;</span><span class="p">,</span> <span class="n">qaid_list</span><span class="p">,</span> <span class="n">daid_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="o">.</span><span class="n">ensure_dependencies</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test dependence on data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">new_request</span><span class="p">(</span><span class="s1">&#39;vsmany&#39;</span><span class="p">,</span> <span class="n">qaid_list</span> <span class="o">+</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">daid_list</span> <span class="o">+</span> <span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results2</span> <span class="o">=</span> <span class="n">request2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;results = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">results</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;results2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">results2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;incorrect num output&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">results2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;incorrect num output&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt id="wbia.dtool.base.VsManySimilarityRequest.get_cfgstr">
<code class="sig-name descname">get_cfgstr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">with_input</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">with_data</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">with_pipe</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">hash_pipe</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsManySimilarityRequest.get_cfgstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.VsManySimilarityRequest.get_cfgstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Override default get_cfgstr to show reliance on data</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.VsManySimilarityRequest.get_input_hashid">
<code class="sig-name descname">get_input_hashid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsManySimilarityRequest.get_input_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.VsManySimilarityRequest.get_input_hashid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.VsManySimilarityRequest.new">
<em class="property">classmethod </em><code class="sig-name descname">new</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depc</span></em>, <em class="sig-param"><span class="n">qaid_list</span></em>, <em class="sig-param"><span class="n">daid_list</span></em>, <em class="sig-param"><span class="n">cfgdict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsManySimilarityRequest.new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.VsManySimilarityRequest.new" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.VsManySimilarityRequest.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.base.VsManySimilarityRequest.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.base.VsOneSimilarityRequest">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">VsOneSimilarityRequest</code><a class="reference internal" href="_modules/wbia/dtool/base.html#VsOneSimilarityRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.BaseRequest" title="wbia.dtool.base.BaseRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.BaseRequest</span></code></a>, <a class="reference internal" href="#wbia.dtool.base.AnnotSimiliarity" title="wbia.dtool.base.AnnotSimiliarity"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.AnnotSimiliarity</span></code></a></p>
<p>Similarity request for pairwise scores</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://thingspython.wordpress.com/2010/09/27/">https://thingspython.wordpress.com/2010/09/27/</a>
another-super-wrinkle-raising-typeerror/</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.base –exec-VsOneSimilarityRequest</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.base</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qaid_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daid_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">new_request</span><span class="p">(</span><span class="s1">&#39;vsone&#39;</span><span class="p">,</span> <span class="n">qaid_list</span><span class="p">,</span> <span class="n">daid_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test that adding a query / data id only recomputes necessary items</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">new_request</span><span class="p">(</span><span class="s1">&#39;vsone&#39;</span><span class="p">,</span> <span class="n">qaid_list</span> <span class="o">+</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">daid_list</span> <span class="o">+</span> <span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results2</span> <span class="o">=</span> <span class="n">request2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;results = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">results</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;results2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">results2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;incorrect num output&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">results2</span><span class="p">),</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;incorrect num output&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="wbia.dtool.base.VsOneSimilarityRequest.execute">
<code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent_rowids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_cache</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">postprocess</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsOneSimilarityRequest.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>HACKY REIMPLEMENTATION</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.VsOneSimilarityRequest.get_input_hashid">
<code class="sig-name descname">get_input_hashid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsOneSimilarityRequest.get_input_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.get_input_hashid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.VsOneSimilarityRequest.make_parent_rowids">
<em class="property">static </em><code class="sig-name descname">make_parent_rowids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qaid_list</span></em>, <em class="sig-param"><span class="n">daid_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsOneSimilarityRequest.make_parent_rowids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.make_parent_rowids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.VsOneSimilarityRequest.new">
<em class="property">classmethod </em><code class="sig-name descname">new</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depc</span></em>, <em class="sig-param"><span class="n">qaid_list</span></em>, <em class="sig-param"><span class="n">daid_list</span></em>, <em class="sig-param"><span class="n">cfgdict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#VsOneSimilarityRequest.new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.new" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.VsOneSimilarityRequest.parent_rowids_T">
<em class="property">property </em><code class="sig-name descname">parent_rowids_T</code><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.parent_rowids_T" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.base.VsOneSimilarityRequest.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.base.VsOneSimilarityRequest.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.base.config_graph_subattrs">
<code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">config_graph_subattrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cfg</span></em>, <em class="sig-param"><span class="n">depc</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#config_graph_subattrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.config_graph_subattrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="wbia.dtool.base.from_param_info_list">
<code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">from_param_info_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">param_info_list</span></em>, <em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">'Unnamed'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#from_param_info_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.from_param_info_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="wbia.dtool.base.make_configclass">
<code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">make_configclass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dict_</span></em>, <em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#make_configclass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.make_configclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a custom config class from a dict</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.base.safeop">
<code class="sig-prename descclassname">wbia.dtool.base.</code><code class="sig-name descname">safeop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op_</span></em>, <em class="sig-param"><span class="n">xs</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/base.html#safeop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.base.safeop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-wbia.dtool.depcache_control">
<span id="wbia-dtool-depcache-control-module"></span><h2>wbia.dtool.depcache_control module<a class="headerlink" href="#module-wbia.dtool.depcache_control" title="Permalink to this headline">¶</a></h2>
<p>implicit version of dependency cache from wbia/templates/template_generator</p>
<dl class="py class">
<dt id="wbia.dtool.depcache_control.DependencyCache">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.depcache_control.</code><code class="sig-name descname">DependencyCache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root_tablename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cache_dpath</span><span class="o">=</span><span class="default_value">'./DEPCACHE'</span></em>, <em class="sig-param"><span class="n">controller</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default_fname</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">get_root_uuid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">root_getters</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_globals</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_control._CoreDependencyCache</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<dl class="simple">
<dt>Currently, to use this class a user must:</dt><dd><ul class="simple">
<li><p>on root modification, call depc.on_root_modified</p></li>
<li><p>use decorators to register relevant functions</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.clear_all">
<code class="sig-name descname">clear_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.clear_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.clear_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.delete_root">
<code class="sig-name descname">delete_root</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root_rowids</span></em>, <em class="sig-param"><span class="n">delete_extern</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">_debug</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">table_config_filter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prop</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.delete_root"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.delete_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all properties of a root object regardless of config</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>root_rowids</strong> (<em>list</em>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control delete_root –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">delete_root</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">delete_root</span><span class="p">(</span><span class="n">root_rowids</span><span class="p">,</span> <span class="n">_debug</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fgweight&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">delete_root</span><span class="p">(</span><span class="n">root_rowids</span><span class="p">,</span> <span class="n">_debug</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.explicit_graph">
<em class="property">property </em><code class="sig-name descname">explicit_graph</code><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.explicit_graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.get_allconfig_descendant_rowids">
<code class="sig-name descname">get_allconfig_descendant_rowids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root_rowids</span></em>, <em class="sig-param"><span class="n">table_config_filter</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_allconfig_descendant_rowids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_allconfig_descendant_rowids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.get_edges">
<code class="sig-name descname">get_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>edges for networkx structure</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.get_implicit_edges">
<code class="sig-name descname">get_implicit_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_implicit_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_implicit_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Edges defined by subconfigurations</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.get_native_property">
<code class="sig-name descname">get_native_property</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">tbl_rowids</span></em>, <em class="sig-param"><span class="n">colnames</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">_debug</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">read_extern</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_native_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets data using internal ids, which is faster if you have them.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control get_native:0
python -m dtool.depcache_control get_native:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Simple test of get native</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_native</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">tbl_rowids</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;chip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="n">extern_colname</span> <span class="o">=</span> <span class="s1">&#39;chip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">delete_property</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure chip rowids exist then delete external data without</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># notifying the depcache. This forces the depcache to recover</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl_rowids</span> <span class="o">=</span> <span class="n">chip_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_fpaths</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">extern_colname</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">remove_file_list</span><span class="p">(</span><span class="n">data_fpaths</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chips</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_native</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">tbl_rowids</span><span class="p">,</span> <span class="n">extern_colname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;chips = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">chips</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.get_property">
<code class="sig-name descname">get_property</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">root_rowids</span></em>, <em class="sig-param"><span class="n">colnames</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">config</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ensure</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">_debug</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">recompute</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">recompute_all</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">nInput</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">read_extern</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">onthefly</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">num_retries</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">hack_paths</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Access dependant properties the primary objects using primary ids.</p>
<p>Gets the data in <cite>colnames</cite> of <cite>tablename</cite> that correspond to
<cite>root_rowids</cite> using <cite>config</cite>.  if colnames is None, all columns are
returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<em>str</em>) – table name containing desired property</p></li>
<li><p><strong>root_rowids</strong> (<em>List</em><em>[</em><em>int</em><em>]</em>) – ids of the root object</p></li>
<li><p><strong>colnames</strong> (<em>None</em>) – desired property (default = None)</p></li>
<li><p><strong>config</strong> (<em>None</em>) – (default = None)</p></li>
<li><p><strong>read_extern</strong> – if False then only returns extern URI</p></li>
<li><p><strong>hack_paths</strong> – if False then does not compute extern info just returns
path that it will be located at</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>prop_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control –exec-get</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_debug</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;labeler&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="n">aids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">colnames</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;prop_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">prop_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">prop_list = [(&#39;labeler([root(1)]:42)&#39;,), (&#39;labeler([root(2)]:42)&#39;,), (&#39;labeler([root(3)]:42)&#39;,)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_debug</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;smk_match&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;vocab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="p">[</span><span class="n">aids</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;prop_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">prop_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">prop_list = [(&#39;vocab([root(1;2;3)]:42)&#39;,)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_debug</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;chip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="n">aids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure chips are computed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list1</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get file paths and delete them</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">remove_file_list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">),</span> <span class="s1">&#39;files were not computed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list3</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">prop_list1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">prop_list3</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="s1">&#39;computed same info&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.get_tablenames">
<code class="sig-name descname">get_tablenames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_tablenames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_tablenames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.get_uuids">
<code class="sig-name descname">get_uuids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">root_rowids</span></em>, <em class="sig-param"><span class="n">config</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.get_uuids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.get_uuids" title="Permalink to this definition">¶</a></dt>
<dd><p># TODO: Make uuids for dependant object based on root uuid and path of
# construction.</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.graph">
<em class="property">property </em><code class="sig-name descname">graph</code><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.make_graph">
<code class="sig-name descname">make_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.make_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.make_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a networkx representation of the dependency graph</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m dtool –tf DependencyCache.make_graph –show –reduced</p>
<p>python -m wbia.control.IBEISControl show_depc_annot_graph –show –reduced</p>
<p>python -m wbia.control.IBEISControl show_depc_annot_graph –show –reduced –testmode
python -m wbia.control.IBEISControl show_depc_annot_graph –show –testmode</p>
<p>python -m wbia.control.IBEISControl –test-show_depc_image_graph –show –reduced
python -m wbia.control.IBEISControl –test-show_depc_image_graph –show</p>
<p>python -m wbia.scripts.specialdraw double_depcache_graph –show –testmode</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">make_graph</span><span class="p">(</span><span class="n">reduced</span><span class="o">=</span><span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--reduced&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">ensureqt</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(nx.dag.transitive_closure(graph))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(ut.nx_transitive_reduction(graph))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;agraph&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">make_graph</span><span class="p">(</span><span class="n">reduced</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(--show)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">ensureqt</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(nx.dag.transitive_closure(graph))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(ut.nx_transitive_reduction(graph))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;agraph&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.make_root_info_uuid">
<code class="sig-name descname">make_root_info_uuid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root_rowids</span></em>, <em class="sig-param"><span class="n">info_props</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.make_root_info_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.make_root_info_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a uuid that depends on certain properties of the root object.
This is used for implicit cache invalidation because, if those
properties change then this uuid also changes.</p>
<p>The depcache needs to know about stateful properties of dynamic root
objects in order to correctly compute their hashes.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#ibs = wbia.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">_get_all_aids</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">depc_annot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info_props</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;image_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;verts&#39;</span><span class="p">,</span> <span class="s1">&#39;theta&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info_props</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;image_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;verts&#39;</span><span class="p">,</span> <span class="s1">&#39;theta&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;species&#39;</span><span class="p">,</span> <span class="s1">&#39;yaw&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.notify_root_changed">
<code class="sig-name descname">notify_root_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root_rowids</span></em>, <em class="sig-param"><span class="n">prop</span></em>, <em class="sig-param"><span class="n">force_delete</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.notify_root_changed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.notify_root_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>this is where we are notified that a “registered” root property has
changed.</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.print_all_tables">
<code class="sig-name descname">print_all_tables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.print_all_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.print_all_tables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.print_config_tables">
<code class="sig-name descname">print_config_tables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.print_config_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.print_config_tables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.print_schemas">
<code class="sig-name descname">print_schemas</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.print_schemas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.print_schemas" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.print_table">
<code class="sig-name descname">print_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.print_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.print_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.reduced_graph">
<em class="property">property </em><code class="sig-name descname">reduced_graph</code><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.reduced_graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.register_delete_table_exclusion">
<code class="sig-name descname">register_delete_table_exclusion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">prop</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.register_delete_table_exclusion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.register_delete_table_exclusion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.root">
<em class="property">property </em><code class="sig-name descname">root</code><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.root" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.show_graph">
<code class="sig-name descname">show_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reduced</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.show_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.show_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper “fluff” function</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.stacked_config">
<code class="sig-name descname">stacked_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span></em>, <em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#DependencyCache.stacked_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.stacked_config" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_control stacked_config –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">root</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dest</span> <span class="o">=</span> <span class="s1">&#39;fgweight&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stacked_config</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">stacked_config</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr</span> <span class="o">=</span> <span class="n">stacked_config</span><span class="o">.</span><span class="n">get_cfgstr</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfgstr = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfgstr</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.tablenames">
<em class="property">property </em><code class="sig-name descname">tablenames</code><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.tablenames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_control.DependencyCache.tables">
<em class="property">property </em><code class="sig-name descname">tables</code><a class="headerlink" href="#wbia.dtool.depcache_control.DependencyCache.tables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.depcache_control.check_register">
<code class="sig-prename descclassname">wbia.dtool.depcache_control.</code><code class="sig-name descname">check_register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#check_register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.check_register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="wbia.dtool.depcache_control.make_depcache_decors">
<code class="sig-prename descclassname">wbia.dtool.depcache_control.</code><code class="sig-name descname">make_depcache_decors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root_tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_control.html#make_depcache_decors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_control.make_depcache_decors" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes global decorators to register functions for a tablename.</p>
<p>A preproc function is meant to belong only to a single parent An algo
function belongs to the root node, and may depend on a set of root nodes
rather than just a single one.</p>
</dd></dl>

</div>
<div class="section" id="wbia-dtool-depcache-object-module">
<h2>wbia.dtool.depcache_object module<a class="headerlink" href="#wbia-dtool-depcache-object-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-wbia.dtool.depcache_table">
<span id="wbia-dtool-depcache-table-module"></span><h2>wbia.dtool.depcache_table module<a class="headerlink" href="#module-wbia.dtool.depcache_table" title="Permalink to this headline">¶</a></h2>
<p>Module contining DependencyCacheTable</p>
<p>python -m dtool.depcache_control –exec-make_graph –show
python -m dtool.depcache_control –exec-make_graph –show –reduce</p>
<dl class="simple">
<dt>FIXME:</dt><dd><dl class="simple">
<dt>RECTIFY: ismulti / ismodel need to be rectified. This indicate that this</dt><dd><p>table recieves multiple inputs from at least one parent table.</p>
</dd>
<dt>RECTIFY: Need to standardize parent rowids -vs- parent args.</dt><dd><p>in one-to-one cases they are the same. In multi cases the rowids indicate
a uuid and the args are the saved set of rowids that exist in the manifest.</p>
</dd>
<dt>RECTIFY: is rowid_list row-major or column-major?</dt><dd><p>I think currently rowid_list is row-major and rowid_listT is column-major
but this may not be consistent.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.depcache_table.</code><code class="sig-name descname">DependencyCacheTable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depc</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parent_tablenames</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_colnames</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_coltypes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">preproc_func</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">docstr</span><span class="o">=</span><span class="default_value">'no docstr'</span></em>, <em class="sig-param"><span class="n">fname</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">asobject</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">chunksize</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">isinteractive</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">default_to_unpack</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">default_onthefly</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">rm_extern_on_delete</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">vectorized</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">taggable</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_table._TableGeneralHelper</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_table._TableInternalSetup</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_table._TableDebugHelper</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_table._TableComputeHelper</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.depcache_table._TableConfigHelper</span></code></p>
<p>An individual node in the dependency graph.</p>
<dl class="simple">
<dt>All SQL column information is stored in:</dt><dd><p>internal_col_attrs - keeps track of internal info</p>
</dd>
<dt>Additional metadata about specific columns is stored in</dt><dd><p>parent_col_attrs - keeps track of parent info
data_col_attrs - keeps track of computed data</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.db">
<code class="sig-name descname">db</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.db" title="Permalink to this definition">¶</a></dt>
<dd><p>pointer to underlying database</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dtool.SQLDatabaseController</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.depc">
<code class="sig-name descname">depc</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.depc" title="Permalink to this definition">¶</a></dt>
<dd><p>pointer to parent cache</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dtool.DependencyCache</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.tablename">
<code class="sig-name descname">tablename</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.tablename" title="Permalink to this definition">¶</a></dt>
<dd><p>name of the table</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.docstr">
<code class="sig-name descname">docstr</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.docstr" title="Permalink to this definition">¶</a></dt>
<dd><p>documentation for table</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.parent_tablenames">
<code class="sig-name descname">parent_tablenames</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.parent_tablenames" title="Permalink to this definition">¶</a></dt>
<dd><p>parent tables in depcache</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.data_colnames">
<code class="sig-name descname">data_colnames</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.data_colnames" title="Permalink to this definition">¶</a></dt>
<dd><p>columns produced by preproc_func</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.data_coltypes">
<code class="sig-name descname">data_coltypes</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.data_coltypes" title="Permalink to this definition">¶</a></dt>
<dd><p>column SQL types produced by preproc_func</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.preproc_func">
<code class="sig-name descname">preproc_func</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.preproc_func" title="Permalink to this definition">¶</a></dt>
<dd><p>worker function</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>func</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.vectorized">
<code class="sig-name descname">vectorized</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.vectorized" title="Permalink to this definition">¶</a></dt>
<dd><p>by defaults it is assumed registered functions can
process multiple inputs at once.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.taggable">
<code class="sig-name descname">taggable</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.taggable" title="Permalink to this definition">¶</a></dt>
<dd><p>specifies if a computed object can be disconected from
its ancestors and accessed via a tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_table –exec-DependencyCacheTable</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_table</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vsmany&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vsone&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;nnindexer&#39;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py method">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.clear_table">
<code class="sig-name descname">clear_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.clear_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.clear_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all data in this table</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.delete_rows">
<code class="sig-name descname">delete_rows</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rowid_list</span></em>, <em class="sig-param"><span class="n">delete_extern</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dry</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.delete_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.delete_rows" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_table –exec-delete_rows</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_table</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#table = depc[&#39;keypoint&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">delete_rows</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">tablename</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">explicit_graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config1</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config2</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">(</span><span class="n">version</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config3</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">(</span><span class="n">version</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="s1">&#39;.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config4</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s1">&#39;.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create several configs of rowid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Delete the png configs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_list1</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="n">config</span><span class="o">=</span><span class="n">config2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_list2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">tablename</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="n">config</span><span class="o">=</span><span class="n">config1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_list</span> <span class="o">=</span> <span class="n">rowid_list1</span> <span class="o">+</span> <span class="n">rowid_list2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">setintersect_ordered</span><span class="p">(</span><span class="n">rowid_list1</span><span class="p">,</span> <span class="n">rowid_list2</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">delete_rows</span><span class="p">(</span><span class="n">rowid_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.ensure_rows">
<code class="sig-name descname">ensure_rows</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent_ids_</span></em>, <em class="sig-param"><span class="n">preproc_args</span></em>, <em class="sig-param"><span class="n">config</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">_debug</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.ensure_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.ensure_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Lazy addition</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_table</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="n">testdata_depc3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vsone&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">get_rowid</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_debug</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># test duplicate inputs are detected and accounted for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent_rowids</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">))]</span> <span class="o">*</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rectify_tup</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">_rectify_ids</span><span class="p">(</span><span class="n">parent_rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">parent_ids_</span><span class="p">,</span> <span class="n">preproc_args</span><span class="p">,</span> <span class="n">idxs1</span><span class="p">,</span> <span class="n">idxs2</span><span class="p">)</span> <span class="o">=</span> <span class="n">rectify_tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">ensure_rows</span><span class="p">(</span><span class="n">parent_ids_</span><span class="p">,</span> <span class="n">preproc_args</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">_debug</span><span class="o">=</span><span class="n">_debug</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;rowids = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rowids</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.export_rows">
<code class="sig-name descname">export_rows</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rowid</span></em>, <em class="sig-param"><span class="n">target</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.export_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.export_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>The goal of this is to export taggable data that can be used
independantly of its dependant features.</p>
<dl>
<dt>TODO List:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>Gather information about columns</dt><dd><ul>
<li><dl class="simple">
<dt>Native and (localized) external data</dt><dd><ul>
<li><p>&lt;table&gt;_rowid - non-transferable</p></li>
<li><p>Parent UUIDS - non-transferable</p></li>
<li><p>config rowid - non-transferable</p></li>
<li><p>model_uuid -</p></li>
<li><p>augment_bit - transferable - trivial</p></li>
<li><p>words_extern_uri - copy to destination</p></li>
<li><p>feat_setsize - transferable - trivial</p></li>
<li><p>model_tag</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Should also gather info from manifest:</dt><dd><ul>
<li><p>feat_setuuid_primary_ids - non-transferable</p></li>
<li><p>feat_setuuid_model_input - non-transferable</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Should gather exhaustive config history</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Save to disk</p></li>
<li><p>Add function to reload data in exported format</p></li>
<li><p>Getters should be able to specify a tag inplace of the root input</p></li>
</ul>
<p>for the tagged. Additionally native root-ids should also be
allowed.</p>
</dd>
</dl>
<p>rowid = 1</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.get_internal_columns">
<code class="sig-name descname">get_internal_columns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tbl_rowids</span></em>, <em class="sig-param"><span class="n">colnames</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">nInput</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unpack_scalars</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">keepwrap</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">showprog</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.get_internal_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.get_internal_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Access data in this table using the table PRIMARY KEY rowids (not
depc PRIMARY ids)</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.get_row_data">
<code class="sig-name descname">get_row_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tbl_rowids</span></em>, <em class="sig-param"><span class="n">colnames</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">_debug</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">read_extern</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">num_retries</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">nInput</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ensure</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">delete_on_fail</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">showprog</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">unpack_columns</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.get_row_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.get_row_data" title="Permalink to this definition">¶</a></dt>
<dd><p>FIXME: unpacking is confusing with sql controller
TODO: Clean up and allow for eager=False</p>
<p>colnames = (‘mask’, ‘size’)</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_table –test-get_row_data:0
python -m dtool.depcache_table –test-get_row_data:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_table</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">_debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recompute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;size_1&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span> <span class="o">+</span> <span class="n">EXTERN_SUFFIX</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">read_extern</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">num_retries</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">_debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">(</span><span class="n">tbl_rowids</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list0</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">prop_list</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="c1"># data subset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">prop_list0</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#_debug, num_retries, read_extern = True, 1, True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_gen</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">(</span><span class="n">tbl_rowids</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">prop_gen</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">prop_list</span><span class="p">),</span> <span class="s1">&#39;inconsistent lens&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">all</span><span class="p">([</span><span class="n">ut</span><span class="o">.</span><span class="n">lists_eq</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">prop_list</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">prop_list</span><span class="p">))]),</span> <span class="s1">&#39;inconsistent vals&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chips</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">(</span><span class="n">tbl_rowids</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>[</dt><dd><p>[2453, (1707, 2453), ‘chip_chip_id=1_pyrappzicqoskdjq.png’],
[250, (300, 250), ‘chip_chip_id=2_pyrappzicqoskdjq.png’],
[372, (545, 372), ‘chip_chip_id=3_pyrappzicqoskdjq.png’],</p>
</dd>
</dl>
<p>]</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test external / ensure getters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_extern</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_fpaths</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure data is recomputed if an external file is missing</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">remove_fpaths</span><span class="p">(</span><span class="n">data_fpaths</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">(</span><span class="n">tbl_rowids</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ensure</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_row_data</span><span class="p">(</span><span class="n">tbl_rowids</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ensure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.get_rowid">
<code class="sig-name descname">get_rowid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent_rowids</span></em>, <em class="sig-param"><span class="n">config</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ensure</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">nInput</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">recompute</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">_debug</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_retries</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.get_rowid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.get_rowid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the rowids of derived properties.  If they do not exist it
computes them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent_rowids</strong> (<em>list</em>) – list of tuples with the parent rowids as the
value of each tuple</p></li>
<li><p><strong>config</strong> (<em>None</em>) – (default = None)</p></li>
<li><p><strong>ensure</strong> (<em>bool</em>) – eager evaluation if True (default = True)</p></li>
<li><p><strong>eager</strong> (<em>bool</em>) – (default = True)</p></li>
<li><p><strong>nInput</strong> (<em>int</em>) – (default = None)</p></li>
<li><p><strong>recompute</strong> (<em>bool</em>) – (default = False)</p></li>
<li><p><strong>_debug</strong> (<em>None</em>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rowid_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.depcache_table –exec-get_rowid</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_table</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="n">testdata_depc3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;labeler&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">get_rowid</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_debug</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent_rowids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_rowid</span><span class="p">(</span><span class="n">parent_rowids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">_debug</span><span class="o">=</span><span class="n">_debug</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;rowids = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rowids</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">rowids = [1, None, None, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">_debug</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#DependencyCacheTable.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures the SQL schema for this cache table</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.number_of_rows">
<em class="property">property </em><code class="sig-name descname">number_of_rows</code><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.number_of_rows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.depcache_table.DependencyCacheTable.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.depcache_table.DependencyCacheTable.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.depcache_table.ExternType">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.depcache_table.</code><code class="sig-name descname">ExternType</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">read_func</span></em>, <em class="sig-param"><span class="n">write_func</span></em>, <em class="sig-param"><span class="n">extern_ext</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">extkey</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#ExternType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.ExternType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ubelt.util_mixins.NiceRepr</span></code></p>
<p>Type to denote an external resource not saved in an SQL table</p>
</dd></dl>

<dl class="py exception">
<dt id="wbia.dtool.depcache_table.ExternalStorageException">
<em class="property">exception </em><code class="sig-prename descclassname">wbia.dtool.depcache_table.</code><code class="sig-name descname">ExternalStorageException</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#ExternalStorageException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.ExternalStorageException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Indicates a missing external file</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.depcache_table.ensure_config_table">
<code class="sig-prename descclassname">wbia.dtool.depcache_table.</code><code class="sig-name descname">ensure_config_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#ensure_config_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.ensure_config_table" title="Permalink to this definition">¶</a></dt>
<dd><p>SQL definition of configuration table.</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.depcache_table.make_extern_io_funcs">
<code class="sig-prename descclassname">wbia.dtool.depcache_table.</code><code class="sig-name descname">make_extern_io_funcs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table</span></em>, <em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#make_extern_io_funcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.make_extern_io_funcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Hack in read/write defaults for pickleable classes</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.depcache_table.predrop_grace_period">
<code class="sig-prename descclassname">wbia.dtool.depcache_table.</code><code class="sig-name descname">predrop_grace_period</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">seconds</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/depcache_table.html#predrop_grace_period"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.depcache_table.predrop_grace_period" title="Permalink to this definition">¶</a></dt>
<dd><p>Hack that gives the user some time to abort deleting everything</p>
</dd></dl>

</div>
<div class="section" id="module-wbia.dtool.example_depcache">
<span id="wbia-dtool-example-depcache-module"></span><h2>wbia.dtool.example_depcache module<a class="headerlink" href="#module-wbia.dtool.example_depcache" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.example_depcache –exec-dummy_example_depcacahe –show
python -m dtool.depcache_control –exec-make_graph –show</p>
</dd>
</dl>
<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummyAnnotMatch">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummyAnnotMatch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qaid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">daids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">qnid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dnid_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">annot_score_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unique_nids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name_score_list</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyAnnotMatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyAnnotMatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.MatchResult" title="wbia.dtool.base.MatchResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.MatchResult</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummyChipConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummyChipConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyChipConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyChipConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">DummyChipConfig</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">dim_size</span> <span class="o">=</span> <span class="mi">700</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">histeq</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">histeq</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummyIndexerConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummyIndexerConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyIndexerConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyIndexerConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummyKptsConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummyKptsConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyKptsConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyKptsConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
<dl class="py method">
<dt id="wbia.dtool.example_depcache.DummyKptsConfig.get_param_info_list">
<code class="sig-name descname">get_param_info_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyKptsConfig.get_param_info_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyKptsConfig.get_param_info_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummyNNConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummyNNConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyNNConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyNNConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
<dl class="py method">
<dt id="wbia.dtool.example_depcache.DummyNNConfig.get_param_info_list">
<code class="sig-name descname">get_param_info_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyNNConfig.get_param_info_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyNNConfig.get_param_info_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummySVERConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummySVERConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummySVERConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummySVERConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummyVsManyConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummyVsManyConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyVsManyConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyVsManyConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummyVsManyRequest">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummyVsManyRequest</code><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyVsManyRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyVsManyRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.VsManySimilarityRequest" title="wbia.dtool.base.VsManySimilarityRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.VsManySimilarityRequest</span></code></a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo_config</span> <span class="o">=</span> <span class="n">DummyVsManyConfig</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">algo_config</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="wbia.dtool.example_depcache.DummyVsManyRequest.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.example_depcache.DummyVsManyRequest.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummyVsOneConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummyVsOneConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyVsOneConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyVsOneConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
<dl class="py method">
<dt id="wbia.dtool.example_depcache.DummyVsOneConfig.get_param_info_list">
<code class="sig-name descname">get_param_info_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyVsOneConfig.get_param_info_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyVsOneConfig.get_param_info_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.example_depcache.DummyVsOneConfig.get_sub_config_list">
<code class="sig-name descname">get_sub_config_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyVsOneConfig.get_sub_config_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyVsOneConfig.get_sub_config_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummyVsOneMatch">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummyVsOneMatch</code><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyVsOneMatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyVsOneMatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.AlgoResult" title="wbia.dtool.base.AlgoResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.AlgoResult</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.DummyVsOneRequest">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">DummyVsOneRequest</code><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#DummyVsOneRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.DummyVsOneRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.VsOneSimilarityRequest" title="wbia.dtool.base.VsOneSimilarityRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.VsOneSimilarityRequest</span></code></a></p>
<dl class="py method">
<dt id="wbia.dtool.example_depcache.DummyVsOneRequest.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.example_depcache.DummyVsOneRequest.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.example_depcache.ProbchipConfig">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">ProbchipConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#ProbchipConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.ProbchipConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#wbia.dtool.base.Config" title="wbia.dtool.base.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">wbia.dtool.base.Config</span></code></a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.example_depcache –exec-ProbchipConfig –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;probchip&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">execstr_funckw</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">get_rowid</span><span class="p">),</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">(</span><span class="n">testerror</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent_rowids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">root_rowids</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">proptup_gen</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">preproc_func</span><span class="p">(</span><span class="n">depc</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;probchip&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;probchip&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#depc.new_request(&#39;probchip&#39;, [1, 2, 3])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fg_rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;fgweight&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fg</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fgweight&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#############</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">configclass</span><span class="p">(</span><span class="n">testerror</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_rowids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent_rowids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">root_rowids</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">proptup_gen</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">preproc_func</span><span class="p">(</span><span class="n">depc</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc_rowids2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;probchip&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;probchip&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">read_extern</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">prop_list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#depc.new_request(&#39;probchip&#39;, [1, 2, 3])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fg_rowids2</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;fgweight&#39;</span><span class="p">,</span> <span class="n">root_rowids</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.example_depcache.dummy_example_depcacahe">
<code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">dummy_example_depcacahe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#dummy_example_depcacahe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.dummy_example_depcacahe" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.example_depcache –exec-dummy_example_depcacahe</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">dummy_example_depcacahe</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.example_depcache.example_getter_methods">
<code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">example_getter_methods</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depc</span></em>, <em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">root_rowids</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#example_getter_methods"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.example_getter_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>example of different ways to get data</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.example_depcache.test_getters">
<code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">test_getters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depc</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#test_getters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.test_getters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="wbia.dtool.example_depcache.testdata_depc">
<code class="sig-prename descclassname">wbia.dtool.example_depcache.</code><code class="sig-name descname">testdata_depc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache.html#testdata_depc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache.testdata_depc" title="Permalink to this definition">¶</a></dt>
<dd><p>Example of local registration</p>
</dd></dl>

</div>
<div class="section" id="module-wbia.dtool.example_depcache2">
<span id="wbia-dtool-example-depcache2-module"></span><h2>wbia.dtool.example_depcache2 module<a class="headerlink" href="#module-wbia.dtool.example_depcache2" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="wbia.dtool.example_depcache2.depc_34_helper">
<code class="sig-prename descclassname">wbia.dtool.example_depcache2.</code><code class="sig-name descname">depc_34_helper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depc</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache2.html#depc_34_helper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache2.depc_34_helper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="wbia.dtool.example_depcache2.testdata_custom_annot_depc">
<code class="sig-prename descclassname">wbia.dtool.example_depcache2.</code><code class="sig-name descname">testdata_custom_annot_depc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dummy_dependencies</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache2.html#testdata_custom_annot_depc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache2.testdata_custom_annot_depc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="wbia.dtool.example_depcache2.testdata_depc3">
<code class="sig-prename descclassname">wbia.dtool.example_depcache2.</code><code class="sig-name descname">testdata_depc3</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache2.html#testdata_depc3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache2.testdata_depc3" title="Permalink to this definition">¶</a></dt>
<dd><p>Example of local registration</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.example_depcache2 testdata_depc3 –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;labeler&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">_debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;indexer&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]],</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">_debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">print_all_tables</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(--show)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">show_graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.plottool.interactions</span> <span class="kn">import</span> <span class="n">ExpandableInteraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inter</span> <span class="o">=</span> <span class="n">ExpandableInteraction</span><span class="p">(</span><span class="n">nCols</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;smk_match&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">show_input_graph</span><span class="p">(</span><span class="n">inter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vsone&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">show_input_graph</span><span class="p">(</span><span class="n">inter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#depc[&#39;vocab&#39;].show_input_graph(inter)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;neighbs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">show_input_graph</span><span class="p">(</span><span class="n">inter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inter</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#depc[&#39;viewpoint_classification&#39;].show_input_graph()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.example_depcache2.testdata_depc4">
<code class="sig-prename descclassname">wbia.dtool.example_depcache2.</code><code class="sig-name descname">testdata_depc4</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/example_depcache2.html#testdata_depc4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.example_depcache2.testdata_depc4" title="Permalink to this definition">¶</a></dt>
<dd><p>Example of local registration</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.example_depcache2 testdata_depc4 –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#data = depc.get(&#39;labeler&#39;, [1, 2, 3], &#39;data&#39;, _debug=True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#data = depc.get(&#39;indexer&#39;, [[1, 2, 3]], &#39;data&#39;, _debug=True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">print_all_tables</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(--show)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">show_graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.plottool.interactions</span> <span class="kn">import</span> <span class="n">ExpandableInteraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inter</span> <span class="o">=</span> <span class="n">ExpandableInteraction</span><span class="p">(</span><span class="n">nCols</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;smk_match&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">show_input_graph</span><span class="p">(</span><span class="n">inter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vsone&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">show_input_graph</span><span class="p">(</span><span class="n">inter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vocab&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">show_input_graph</span><span class="p">(</span><span class="n">inter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="p">[</span><span class="s1">&#39;neighbs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">show_input_graph</span><span class="p">(</span><span class="n">inter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inter</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#depc[&#39;viewpoint_classification&#39;].show_input_graph()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="wbia-dtool-experimental-features-module">
<h2>wbia.dtool.experimental_features module<a class="headerlink" href="#wbia-dtool-experimental-features-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-wbia.dtool.input_helpers">
<span id="wbia-dtool-input-helpers-module"></span><h2>wbia.dtool.input_helpers module<a class="headerlink" href="#module-wbia.dtool.input_helpers" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="wbia.dtool.input_helpers.BranchId">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.input_helpers.</code><code class="sig-name descname">BranchId</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">accum_ids</span></em>, <em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">parent_colx</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#BranchId"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.BranchId" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_class.HashComparable</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.input_helpers.ExiNode">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.input_helpers.</code><code class="sig-name descname">ExiNode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_id</span></em>, <em class="sig-param"><span class="n">branch_id</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#ExiNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.ExiNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_class.HashComparable</span></code></p>
<p>Expanded Input Node</p>
<p>helps distinguish nodes and branch_ids</p>
<dl class="py method">
<dt id="wbia.dtool.input_helpers.ExiNode.branch_id">
<em class="property">property </em><code class="sig-name descname">branch_id</code><a class="headerlink" href="#wbia.dtool.input_helpers.ExiNode.branch_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.ExiNode.node_id">
<em class="property">property </em><code class="sig-name descname">node_id</code><a class="headerlink" href="#wbia.dtool.input_helpers.ExiNode.node_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.input_helpers.RootMostInput">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.input_helpers.</code><code class="sig-name descname">RootMostInput</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">sink</span></em>, <em class="sig-param"><span class="n">exi_graph</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#RootMostInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.RootMostInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_class.HashComparable</span></code></p>
<dl class="py method">
<dt id="wbia.dtool.input_helpers.RootMostInput.compute_order">
<code class="sig-name descname">compute_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#RootMostInput.compute_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.RootMostInput.compute_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns order of computation from this input node to the sink</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.RootMostInput.ismulti">
<em class="property">property </em><code class="sig-name descname">ismulti</code><a class="headerlink" href="#wbia.dtool.input_helpers.RootMostInput.ismulti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.RootMostInput.parent_level">
<code class="sig-name descname">parent_level</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#RootMostInput.parent_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.RootMostInput.parent_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns rootmost inputs above this node</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;smk_match&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmi</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">rmi_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">rmi</span><span class="o">.</span><span class="n">parent_level</span><span class="p">())</span> <span class="o">==</span> <span class="mi">2</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.input_helpers.TableInput">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.input_helpers.</code><code class="sig-name descname">TableInput</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rmi_list</span></em>, <em class="sig-param"><span class="n">exi_graph</span></em>, <em class="sig-param"><span class="n">table</span></em>, <em class="sig-param"><span class="n">reorder</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<p>Specifies a set of inputs that can validly compute the output of a table in
the dependency graph</p>
<dl class="py method">
<dt id="wbia.dtool.input_helpers.TableInput.exi_nodes">
<code class="sig-name descname">exi_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.exi_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.exi_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.TableInput.expand_input">
<code class="sig-name descname">expand_input</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.expand_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.expand_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Pushes the rootmost inputs all the way up to the sources of the graph</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers expand_input</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;smk_match&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;neighbs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(pre-expand)  inputs  = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;indexer&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs2</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">expand_input</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(post-expand) inputs2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;indexer&#39;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">inputs</span><span class="p">),</span> <span class="s1">&#39;missing indexer1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;indexer&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">inputs2</span><span class="p">),</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;(2) unexpected indexer in </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs2</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.TableInput.expected_input_depth">
<code class="sig-name descname">expected_input_depth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.expected_input_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.expected_input_depth" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;neighbs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;indexer&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">expand_input</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">expected_input_depth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;size = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">size</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;feat&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">expected_input_depth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;size = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">size</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.TableInput.flat_compute_order">
<code class="sig-name descname">flat_compute_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.flat_compute_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.flat_compute_order" title="Permalink to this definition">¶</a></dt>
<dd><p>This is basically the scheduler</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers flat_compute_order</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(--fixme)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;feat&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rootmost_inputs</span><span class="o">.</span><span class="n">total_expand</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_compute_order</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">flat_compute_order</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">flat_compute_order</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[chip[t, t:1, 1:1], probchip[t, t:1, 1:1], feat[t, t:1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.TableInput.flat_compute_rmi_edges">
<code class="sig-name descname">flat_compute_rmi_edges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.flat_compute_rmi_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.flat_compute_rmi_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines order of computation that maps input_ids to target_ids.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers flat_compute_rmi_edges</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl>
<dt>compute_edges</dt><dd><dl class="simple">
<dt>Each item is a tuple of input/output RootMostInputs</dt><dd><p>([parent_1, …, parent_n], node_i)</p>
</dd>
</dl>
<p>All parents should be known before you reach the i-th item in
the list.
Results of the the i-th item may be used in subsequent item
computations.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span><span class="n">testdata_custom_annot_depc</span><span class="p">([</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;chips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;annot&#39;</span><span class="p">]),</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;Notch_Tips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;annot&#39;</span><span class="p">]),</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;Cropped_Chips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;chips&#39;</span><span class="p">,</span> <span class="s1">&#39;Notch_Tips&#39;</span><span class="p">]),</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;Cropped_Chips&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">exi_inputs</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">rootmost_inputs</span><span class="o">.</span><span class="n">total_expand</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compute_rmi_edges</span> <span class="o">=</span> <span class="n">exi_inputs</span><span class="o">.</span><span class="n">flat_compute_rmi_edges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_rmis</span> <span class="o">=</span> <span class="n">compute_rmi_edges</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">input_rmis</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[chips[t, t:1, 1:1], Notch_Tips[t, t:1, 1:1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.TableInput.is_single_inputs">
<code class="sig-name descname">is_single_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.is_single_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.is_single_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.TableInput.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.TableInput.show_exi_graph">
<code class="sig-name descname">show_exi_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inter</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.show_exi_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.show_exi_graph" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers TableInput.show_exi_graph –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># table = depc[&#39;smk_match&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;neighbs&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;inputs = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.plottool.interactions</span> <span class="kn">import</span> <span class="n">ExpandableInteraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inter</span> <span class="o">=</span> <span class="n">ExpandableInteraction</span><span class="p">(</span><span class="n">nCols</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span><span class="o">.</span><span class="n">show_exi_graph</span><span class="p">(</span><span class="n">inter</span><span class="o">=</span><span class="n">inter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># FIXME; Expanding inputs can overspecify inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;inputs = %r&#39; % (inputs,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs.show_exi_graph(inter=inter)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs = inputs.expand_input(1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;inputs = %r&#39; % (inputs,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#inputs.show_exi_graph(inter=inter)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inter</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.input_helpers.TableInput.total_expand">
<code class="sig-name descname">total_expand</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#TableInput.total_expand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.TableInput.total_expand" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.input_helpers.get_rootmost_inputs">
<code class="sig-prename descclassname">wbia.dtool.input_helpers.</code><code class="sig-name descname">get_rootmost_inputs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exi_graph</span></em>, <em class="sig-param"><span class="n">table</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#get_rootmost_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.get_rootmost_inputs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers get_rootmost_inputs –show</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exi_graph</strong> (<em>nx.Graph</em>) – made from make_expanded_input_graph(graph, target)</p></li>
<li><p><strong>table</strong> (<em>dtool.Table</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers get_rootmost_inputs</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;smk_match&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exi_graph</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">expanded_input_graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs_</span> <span class="o">=</span> <span class="n">get_rootmost_inputs</span><span class="p">(</span><span class="n">exi_graph</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;inputs_ = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs_</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">inputs_</span><span class="o">.</span><span class="n">expand_input</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmi</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">rmi_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;inputs = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inputs</span><span class="p">,))</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;compute_edges = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">inputs</span><span class="o">.</span><span class="n">flat_compute_rmi_edges</span><span class="p">(),</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.input_helpers.make_expanded_input_graph">
<code class="sig-prename descclassname">wbia.dtool.input_helpers.</code><code class="sig-name descname">make_expanded_input_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">graph</span></em>, <em class="sig-param"><span class="n">target</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#make_expanded_input_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.make_expanded_input_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Starting from the <cite>target</cite> property we trace all possible paths in the
<cite>graph</cite> back to all sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<em>nx.DiMultiGraph</em>) – the dependency graph with a single source.</p></li>
<li><p><strong>target</strong> (<em>str</em>) – a single target node in graph</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Each edge in the graph must have a <cite>local_input_id</cite> that defines the
type of edge it is: (eg one-to-many, one-to-one, nwise/multi).</p>
<p># Step 1: Extracting the Relevant Subgraph
We start by searching for all sources of the graph (we assume there is
only one). Then we extract the subgraph defined by all edges between
the sources and the target.  We augment this graph with a dummy super
source <cite>s</cite> and super sink <cite>t</cite>. This allows us to associate an edge with
the real source and sink.</p>
<p># Step 2: Trace all paths from <cite>s</cite> to <cite>t</cite>.
Create a set of all paths from the source to the sink and accumulate
the <cite>local_input_id</cite> of each edge along the path. This will uniquely
identify each path. We use a hack to condense the accumualated ids in
order to display them nicely.</p>
<p># Step 3: Create the new <cite>exi_graph</cite>
Using the traced paths with ids we construct a new graph representing
expanded inputs. The nodes in the original graph will be copied for each
unique path that passes through the node. We identify these nodes using
the accumulated ids built along the edges in our path set.  For each
path starting from the target we add each node augmented with the
accumulated ids on its output(?) edge. We also add the edges along
these paths which results in the final <cite>exi_graph</cite>.</p>
<p># Step 4: Identify valid inputs candidates
The purpose of this graph is to identify which inputs are needed
to compute dependant properties. One valid set of inputs is all
sources of the graph. However, sometimes it is preferable to specify
a model that may have been trained from many inputs. Therefore any
node with a one-to-many input edge may also be specified as an input.</p>
<p># Step 5: Identify root-most inputs
The user will only specify one possible set of the inputs. We refer  to
this set as the “root-most” inputs. This is a set of candiate nodes
such that all paths from the sink to the super source are blocked.  We
default to the set of inputs which results in the fewest dependency
computations. However this is arbitary.</p>
<p>The last step that is not represented here is to compute the order that
the branches must be specified in when given to the depcache for a
computation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>exi_graph: the expanded input graph</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>nx.DiGraph</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>All * nodes are defined to be distinct.
TODO: To make a * node non-distinct it must be suffixed with an
identifier.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers make_expanded_input_graph –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span> <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;smk_match&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;vsone&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">depc</span><span class="o">.</span><span class="n">explicit_graph</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">tablename</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exi_graph</span> <span class="o">=</span> <span class="n">make_expanded_input_graph</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">exi_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(--show)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">exi_graph</span><span class="p">,</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.input_helpers.recolor_exi_graph">
<code class="sig-prename descclassname">wbia.dtool.input_helpers.</code><code class="sig-name descname">recolor_exi_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exi_graph</span></em>, <em class="sig-param"><span class="n">rootmost_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#recolor_exi_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.recolor_exi_graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="wbia.dtool.input_helpers.sort_rmi_list">
<code class="sig-prename descclassname">wbia.dtool.input_helpers.</code><code class="sig-name descname">sort_rmi_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rmi_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/input_helpers.html#sort_rmi_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.input_helpers.sort_rmi_list" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.input_helpers sort_rmi_list</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.input_helpers</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache2</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span><span class="n">testdata_custom_annot_depc</span><span class="p">([</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;Notch_Tips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;annot&#39;</span><span class="p">]),</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;chips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;annot&#39;</span><span class="p">]),</span>
<span class="gp">... </span>   <span class="nb">dict</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s1">&#39;Cropped_Chips&#39;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;chips&#39;</span><span class="p">,</span> <span class="s1">&#39;Notch_Tips&#39;</span><span class="p">]),</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;Cropped_Chips&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">exi_inputs</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">rootmost_inputs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compute_rmi_edges</span> <span class="o">=</span> <span class="n">exi_inputs</span><span class="o">.</span><span class="n">flat_compute_rmi_edges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_rmis</span> <span class="o">=</span> <span class="n">compute_rmi_edges</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmi_list</span> <span class="o">=</span> <span class="n">input_rmis</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmi_list</span> <span class="o">=</span> <span class="n">sort_rmi_list</span><span class="p">(</span><span class="n">rmi_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">rmi_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;chips&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="wbia-dtool-old-stuff-module">
<h2>wbia.dtool.old_stuff module<a class="headerlink" href="#wbia-dtool-old-stuff-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-wbia.dtool.sql_control">
<span id="wbia-dtool-sql-control-module"></span><h2>wbia.dtool.sql_control module<a class="headerlink" href="#module-wbia.dtool.sql_control" title="Permalink to this headline">¶</a></h2>
<p>Interface into SQL for the IBEIS Controller</p>
<p>TODO; need to use some sort of sticky bit so
sql files are created with reasonable permissions.</p>
<dl class="py class">
<dt id="wbia.dtool.sql_control.SQLColumnRichInfo">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.sql_control.</code><code class="sig-name descname">SQLColumnRichInfo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">column_id</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">type_</span></em>, <em class="sig-param"><span class="n">notnull</span></em>, <em class="sig-param"><span class="n">dflt_value</span></em>, <em class="sig-param"><span class="n">pk</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLColumnRichInfo.column_id">
<em class="property">property </em><code class="sig-name descname">column_id</code><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.column_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLColumnRichInfo.dflt_value">
<em class="property">property </em><code class="sig-name descname">dflt_value</code><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.dflt_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLColumnRichInfo.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLColumnRichInfo.notnull">
<em class="property">property </em><code class="sig-name descname">notnull</code><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.notnull" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLColumnRichInfo.pk">
<em class="property">property </em><code class="sig-name descname">pk</code><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.pk" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLColumnRichInfo.type_">
<em class="property">property </em><code class="sig-name descname">type_</code><a class="headerlink" href="#wbia.dtool.sql_control.SQLColumnRichInfo.type_" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.sql_control.SQLDatabaseController">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.sql_control.</code><code class="sig-name descname">SQLDatabaseController</code><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interface to an SQL database</p>
<dl class="py class">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.Metadata">
<em class="property">class </em><code class="sig-name descname">Metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ctrlr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.Metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></p>
<p>Metadata is an attribute of the <code class="docutils literal notranslate"><span class="pre">SQLDatabaseController</span></code> that
facilitates easy usages by internal and exteral users.
Each metadata attributes represents a table (i.e. an instance of <code class="docutils literal notranslate"><span class="pre">TableMetadata</span></code>).
Each <code class="docutils literal notranslate"><span class="pre">TableMetadata</span></code> instance has metadata names as attributes.
The <code class="docutils literal notranslate"><span class="pre">TableMetadata</span></code> can also be adapated to a dictionary for compatability.</p>
<p>The the <code class="docutils literal notranslate"><span class="pre">database</span></code> attribute is a special case that results
in a <code class="docutils literal notranslate"><span class="pre">DatabaseMetadata</span></code> instance rather than <code class="docutils literal notranslate"><span class="pre">TableMetadata</span></code>.
This primarily give access to the version and initial UUID,
respectively as <code class="docutils literal notranslate"><span class="pre">database.version</span></code> and <code class="docutils literal notranslate"><span class="pre">database.init_uuid</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ctrlr</strong> (<a class="reference internal" href="#wbia.dtool.sql_control.SQLDatabaseController" title="wbia.dtool.sql_control.SQLDatabaseController"><em>SQLDatabaseController</em></a>) – parent controller object</p>
</dd>
</dl>
<dl class="py class">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata">
<em class="property">class </em><code class="sig-name descname">DatabaseMetadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ctrlr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.Metadata.DatabaseMetadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></p>
<p>Special metadata for database information</p>
<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata.init_uuid">
<em class="property">property </em><code class="sig-name descname">init_uuid</code><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata.init_uuid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata.version">
<em class="property">property </em><code class="sig-name descname">version</code><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata.DatabaseMetadata.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.Metadata.TableMetadata">
<em class="property">class </em><code class="sig-name descname">TableMetadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ctrlr</span></em>, <em class="sig-param"><span class="n">table_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.Metadata.TableMetadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata.TableMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></p>
<p>Metadata on a particular SQL table</p>
<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.Metadata.TableMetadata.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.Metadata.TableMetadata.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.Metadata.TableMetadata.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update or insert the value into the metadata table with the given keyword arguments of metadata field names</p>
</dd></dl>

</dd></dl>

</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.add_cleanly">
<code class="sig-name descname">add_cleanly</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">colnames</span></em>, <em class="sig-param"><span class="n">params_iter</span></em>, <em class="sig-param"><span class="n">get_rowid_from_superkey</span></em>, <em class="sig-param"><span class="n">superkey_paramx</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.add_cleanly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.add_cleanly" title="Permalink to this definition">¶</a></dt>
<dd><p>ADDER Extra input:
the first item of params_iter must be a superkey (like a uuid),</p>
<p>Does not add None values. Does not add duplicate values.
For each None input returns None ouptut.
For each duplicate input returns existing rowid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tblname</strong> (<em>str</em>) – table name to add into</p></li>
<li><p><strong>colnames</strong> (<em>tuple of strs</em>) – columns whos values are specified in params_iter</p></li>
<li><p><strong>params_iter</strong> (<em>iterable</em>) – an iterable of tuples where each tuple corresonds to a row</p></li>
<li><p><strong>get_rowid_from_superkey</strong> (<em>func</em>) – function that tests if a row needs
to be added. It should return None for any new rows to be inserted.
It should return the existing rowid if one exists</p></li>
<li><p><strong>superkey_paramx</strong> (<em>tuple of ints</em>) – indices of tuples in params_iter which
correspond to superkeys. defaults to (0,)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a href="#id3"><span class="problematic" id="id4">rowid_list_</span></a> – list of newly added or previously added rowids</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>iterable</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="s1">&#39;:memory:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span><span class="s1">&#39;dummy_table&#39;</span><span class="p">,</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;rowid&#39;</span><span class="p">,</span>               <span class="s1">&#39;INTEGER PRIMARY KEY&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span>                 <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;superkey1&#39;</span><span class="p">,</span>           <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;superkey2&#39;</span><span class="p">,</span>           <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;val&#39;</span><span class="p">,</span>                 <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">superkeys</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;key&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;superkey1&#39;</span><span class="p">,</span> <span class="s1">&#39;superkey2&#39;</span><span class="p">)],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">docstr</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">print_schema</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tblname</span> <span class="o">=</span> <span class="s1">&#39;dummy_table&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params_iter</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Find a useable superkey</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">superkey_colnames</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_superkey_colnames</span><span class="p">(</span><span class="n">tblname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">superkey_paramx</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">superkey</span> <span class="ow">in</span> <span class="n">superkey_colnames</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">k</span> <span class="ow">in</span> <span class="n">colnames</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">superkey</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">superkey_paramx</span> <span class="o">=</span> <span class="p">[</span><span class="n">colnames</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">superkey</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">superkey_colnames</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">colnames</span><span class="p">,</span> <span class="n">superkey_paramx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="k">break</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">get_rowid_from_superkey</span><span class="p">(</span><span class="n">superkeys_list</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">get_where_eq</span><span class="p">(</span><span class="n">tblname</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;rowid&#39;</span><span class="p">,),</span> <span class="nb">zip</span><span class="p">(</span><span class="n">superkeys_list</span><span class="p">),</span> <span class="n">superkey_colnames</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_list_</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">add_cleanly</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tblname</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">params_iter</span><span class="p">,</span> <span class="n">get_rowid_from_superkey</span><span class="p">,</span> <span class="n">superkey_paramx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">rowid_list_</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.add_column">
<code class="sig-name descname">add_column</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">colname</span></em>, <em class="sig-param"><span class="n">coltype</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.add_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.add_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.add_table">
<code class="sig-name descname">add_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">coldef_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">metadata_keyval</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.add_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.add_table" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<em>str</em>) – </p></li>
<li><p><strong>coldef_list</strong> (<em>list</em>) – </p></li>
<li><p><strong>constraint</strong> (<em>list</em><em> or </em><em>None</em>) – </p></li>
<li><p><strong>docstr</strong> (<em>str</em>) – </p></li>
<li><p><strong>superkeys</strong> (<em>list</em><em> or </em><em>None</em>) – list of tuples of column names which
uniquely identifies a rowid</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.backup">
<code class="sig-name descname">backup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backup_filepath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.backup" title="Permalink to this definition">¶</a></dt>
<dd><p>backup_filepath = dst_fpath</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.check_rowid_exists">
<code class="sig-name descname">check_rowid_exists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">rowid_iter</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.check_rowid_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.check_rowid_exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.connect">
<code class="sig-name descname">connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a connection for the instance or use the existing connection</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.connection">
<em class="property">property </em><code class="sig-name descname">connection</code><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a connection or reuse the existing connection</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">id_list</span></em>, <em class="sig-param"><span class="n">id_colname</span><span class="o">=</span><span class="default_value">'rowid'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>deleter. USE delete_rowids instead</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.delete_rowids">
<code class="sig-name descname">delete_rowids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">rowid_list</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.delete_rowids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.delete_rowids" title="Permalink to this definition">¶</a></dt>
<dd><p>deletes the the rows in rowid_list</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.drop_all_tables">
<code class="sig-name descname">drop_all_tables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.drop_all_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.drop_all_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>DELETES ALL INFO IN TABLE</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.drop_table">
<code class="sig-name descname">drop_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.drop_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.drop_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.dump_schema">
<code class="sig-name descname">dump_schema</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.dump_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.dump_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience: Dumps all csv database files to disk NOTE: This function
is semi-obsolete because of the auto-generated current schema file.
Use dump_schema_current_autogeneration instead for all purposes except
for parsing out the database schema or for consice visual
representation.</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.dump_tables_to_csv">
<code class="sig-name descname">dump_tables_to_csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dump_dir</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.dump_tables_to_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.dump_tables_to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience: Dumps all csv database files to disk</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.executemany">
<code class="sig-name descname">executemany</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">operation</span></em>, <em class="sig-param"><span class="n">params_iter</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">unpack_scalars</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">nInput</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">keepwrap</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">showprog</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.executemany"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.executemany" title="Permalink to this definition">¶</a></dt>
<dd><p>if unpack_scalars is True only a single result must be returned for each query.</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.executeone">
<code class="sig-name descname">executeone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">operation</span></em>, <em class="sig-param"><span class="n">params</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.executeone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.executeone" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.exists_where_eq">
<code class="sig-name descname">exists_where_eq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">params_iter</span></em>, <em class="sig-param"><span class="n">where_colnames</span></em>, <em class="sig-param"><span class="n">op</span><span class="o">=</span><span class="default_value">'AND'</span></em>, <em class="sig-param"><span class="n">unpack_scalars</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.exists_where_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.exists_where_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>hacked in function for nicer templates</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.from_uri">
<em class="property">classmethod </em><code class="sig-name descname">from_uri</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uri</span></em>, <em class="sig-param"><span class="n">readonly</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">600</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.from_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.from_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a controller instance from a connection URI</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uri</strong> (<em>str</em>) – connection string or uri</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – connection timeout in seconds</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqldb_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;dtool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqldb_fname</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;test_database.sqlite3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sqldb_dpath</span><span class="p">,</span> <span class="n">sqldb_fname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_uri</span> <span class="o">=</span> <span class="s1">&#39;file://</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="n">db_uri</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">print_schema</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db2</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="n">db_uri</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span><span class="s1">&#39;temptable&#39;</span><span class="p">,</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;rowid&#39;</span><span class="p">,</span>               <span class="s1">&#39;INTEGER PRIMARY KEY&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span>                 <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;val&#39;</span><span class="p">,</span>                 <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">superkeys</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;key&#39;</span><span class="p">,)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db2</span><span class="o">.</span><span class="n">print_schema</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">colnames</span></em>, <em class="sig-param"><span class="n">id_iter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">id_colname</span><span class="o">=</span><span class="default_value">'rowid'</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">assume_unique</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get" title="Permalink to this definition">¶</a></dt>
<dd><p>getter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tblname</strong> (<em>str</em>) – table name to get from</p></li>
<li><p><strong>colnames</strong> (<em>tuple of str</em>) – column names to grab from</p></li>
<li><p><strong>id_iter</strong> (<em>iterable</em>) – iterable of search keys</p></li>
<li><p><strong>id_colname</strong> (<em>bool</em>) – column to be used as the search key (default: rowid)</p></li>
<li><p><strong>eager</strong> (<em>bool</em>) – use eager evaluation</p></li>
<li><p><strong>unpack_scalars</strong> (<em>bool</em>) – default True</p></li>
<li><p><strong>id_colname</strong> – default False. Experimental feature that could result in a 10x speedup</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control get</p>
</dd>
<dt>Ignore:</dt><dd><p>tblname = ‘annotations’
colnames = (‘name_rowid’,)
id_iter = aid_list
#id_iter = id_iter[0:20]
id_colname = ‘rowid’
eager = True
db = ibs.db</p>
<p>x1 = db.get(tblname, colnames, id_iter, assume_unique=True)
x2 = db.get(tblname, colnames, id_iter, assume_unique=False)
x1 == x2
%timeit  db.get(tblname, colnames, id_iter, assume_unique=True)
%timeit  db.get(tblname, colnames, id_iter, assume_unique=False)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;notch&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">print_csv</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Break things to test set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;dummy_annot_rowid&#39;</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">got_data</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">id_iter</span><span class="o">=</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">got_data</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_all_col_rows">
<code class="sig-name descname">get_all_col_rows</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">colname</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_all_col_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_all_col_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of all rowids from a table in ascending order</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_all_rowids">
<code class="sig-name descname">get_all_rowids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_all_rowids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_all_rowids" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of all rowids from a table in ascending order</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_all_rowids_where">
<code class="sig-name descname">get_all_rowids_where</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">where_clause</span></em>, <em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_all_rowids_where"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_all_rowids_where" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of rowids from a table in ascending order satisfying a
condition</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_coldef_list">
<code class="sig-name descname">get_coldef_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_coldef_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_coldef_list" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>each tuple is (col_name, col_type)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of (str, str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_column">
<code class="sig-name descname">get_column</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Conveinience:</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_column_names">
<code class="sig-name descname">get_column_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_column_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_column_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Conveinience: Returns the sql tablename columns</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_columns">
<code class="sig-name descname">get_columns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_columns" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> (<em>str</em>) – table name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl>
<dt>list of tuples with format:</dt><dd><dl class="simple">
<dt>(</dt><dd><p>column_id  : id of the column
name       : the name of the column
<a href="#id5"><span class="problematic" id="id6">type_</span></a>      : the type of the column
notnull    : 0 or 1 if the column can contains null values
dflt_value : the default value
pk         : 0 or 1 if the column partecipate to the primary key</p>
</dd>
</dl>
<p>)</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>column_list</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/17717829/how-to-get-column-names-from-a-table-in-sqlite-via-pragma-net-c">http://stackoverflow.com/questions/17717829/how-to-get-column-names-from-a-table-in-sqlite-via-pragma-net-c</a>
<a class="reference external" href="http://stackoverflow.com/questions/1601151/how-do-i-check-in-sqlite-whether-a-table-exists">http://stackoverflow.com/questions/1601151/how-do-i-check-in-sqlite-whether-a-table-exists</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –exec-get_columns
python -m dtool.sql_control –exec-get_columns –tablename=contributors
python -m dtool.sql_control –exec-get_columns –tablename=nonexist</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colrichinfo_list</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_columns</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;colrichinfo_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">colrichinfo_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">colrichinfo_list = [</span>
<span class="go">    (0, &#39;keypoint_rowid&#39;, &#39;INTEGER&#39;, 0, None, 1),</span>
<span class="go">    (1, &#39;chip_rowid&#39;, &#39;INTEGER&#39;, 1, None, 0),</span>
<span class="go">    (2, &#39;config_rowid&#39;, &#39;INTEGER&#39;, 0, &#39;0&#39;, 0),</span>
<span class="go">    (3, &#39;kpts&#39;, &#39;NDARRAY&#39;, 0, None, 0),</span>
<span class="go">    (4, &#39;num&#39;, &#39;INTEGER&#39;, 0, None, 0),</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_db_init_uuid">
<code class="sig-name descname">get_db_init_uuid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ensure</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_db_init_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_db_init_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the database initialization (creation) UUID</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control get_db_init_uuid</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">uuid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check random database gets new UUID on init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="s1">&#39;:memory:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuid_</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_db_init_uuid</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;New Database: </span><span class="si">%r</span><span class="s1"> is valid&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">uuid_</span><span class="p">,</span> <span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">uuid_</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check existing database keeps UUID</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqldb_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;dtool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqldb_fname</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;test_database.sqlite3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sqldb_dpath</span><span class="p">,</span> <span class="n">sqldb_fname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_uri</span> <span class="o">=</span> <span class="s1">&#39;file://</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db1</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="n">db_uri</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuid_1</span> <span class="o">=</span> <span class="n">db1</span><span class="o">.</span><span class="n">get_db_init_uuid</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db2</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="n">db_uri</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuid_2</span> <span class="o">=</span> <span class="n">db2</span><span class="o">.</span><span class="n">get_db_init_uuid</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Existing Database: </span><span class="si">%r</span><span class="s1"> == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">uuid_1</span><span class="p">,</span> <span class="n">uuid_2</span><span class="p">,</span> <span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">uuid_1</span> <span class="o">==</span> <span class="n">uuid_2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_db_version">
<code class="sig-name descname">get_db_version</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ensure</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_db_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_db_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_metadata_items">
<code class="sig-name descname">get_metadata_items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_metadata_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_metadata_items" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>metadata_items</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –exec-get_metadata_items</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()[</span><span class="s1">&#39;notch&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">metadata_items</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_metadata_items</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;metadata_items = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">metadata_items</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_metadata_val">
<code class="sig-name descname">get_metadata_val</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">eval_</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_metadata_val"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_metadata_val" title="Permalink to this definition">¶</a></dt>
<dd><p>val is the repr string unless <a href="#id7"><span class="problematic" id="id8">eval_</span></a> is true</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_row_count">
<code class="sig-name descname">get_row_count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_row_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_row_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_rowid_from_superkey">
<code class="sig-name descname">get_rowid_from_superkey</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">params_iter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">superkey_colnames</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_rowid_from_superkey"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_rowid_from_superkey" title="Permalink to this definition">¶</a></dt>
<dd><p>getter which uses the constrained superkeys instead of rowids</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_schema_current_autogeneration_str">
<code class="sig-name descname">get_schema_current_autogeneration_str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">autogen_cmd</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_schema_current_autogeneration_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_schema_current_autogeneration_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience: Autogenerates the most up-to-date database schema</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –exec-get_schema_current_autogeneration_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_schema_current_autogeneration_str</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_sql_version">
<code class="sig-name descname">get_sql_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_sql_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_sql_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Conveinience</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_as_pandas">
<code class="sig-name descname">get_table_as_pandas</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">rowids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">exclude_columns</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_as_pandas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_as_pandas" title="Permalink to this definition">¶</a></dt>
<dd><p>aid = 30
db = ibs.staging
rowids = ut.flatten(ibs.get_review_rowids_from_single([aid]))
tablename = ‘reviews’
exclude_columns = ‘review_user_confidence review_user_identity’.split(‘ ‘)
logger.info(db.get_table_as_pandas(tablename, rowids, exclude_columns=exclude_columns))</p>
<p>db = ibs.db
rowids = ut.flatten(ibs.get_annotmatch_rowids_from_aid([aid]))
tablename = ‘annotmatch’
exclude_columns = ‘annotmatch_confidence annotmatch_posixtime_modified annotmatch_reviewer’.split(‘ ‘)
logger.info(db.get_table_as_pandas(tablename, rowids, exclude_columns=exclude_columns))</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_autogen_dict">
<code class="sig-name descname">get_table_autogen_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_autogen_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_autogen_dict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>autogen_dict</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control get_table_autogen_dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="s1">&#39;:memory:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;dummy_table&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;INTEGER PRIMARY KEY&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;value2&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT NOT NULL&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;value3&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT DEFAULT 1&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;time_added&#39;</span><span class="p">,</span> <span class="s2">&quot;INTEGER DEFAULT (CAST(STRFTIME(&#39;</span><span class="si">%s</span><span class="s2">&#39;, &#39;NOW&#39;, &#39;UTC&#39;) AS INTEGER))&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autogen_dict</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_autogen_dict</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">autogen_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_autogen_str">
<code class="sig-name descname">get_table_autogen_str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_autogen_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_autogen_str" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>quoted_docstr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control get_table_autogen_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabaseController</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="s1">&#39;:memory:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;dummy_table&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;INTEGER PRIMARY KEY&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;time_added&#39;</span><span class="p">,</span> <span class="s2">&quot;INTEGER DEFAULT (CAST(STRFTIME(&#39;</span><span class="si">%s</span><span class="s2">&#39;, &#39;NOW&#39;, &#39;UTC&#39;) AS INTEGER))&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_table_autogen_str</span><span class="p">(</span><span class="n">tablename</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_column_data">
<code class="sig-name descname">get_table_column_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">exclude_columns</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rowids</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_column_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_column_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs a table of information</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –test-get_table_column_data</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span><span class="p">,</span> <span class="n">column_names</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_column_data</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_constraints">
<code class="sig-name descname">get_table_constraints</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_constraints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: use coldef_list with table_autogen_dict instead</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_csv">
<code class="sig-name descname">get_table_csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">exclude_columns</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rowids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">truncate</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a tablename to csv format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<em>str</em>) – </p></li>
<li><p><strong>exclude_columns</strong> (<em>list</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>csv_table</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –test-get_table_csv
python -m dtool.sql_control –exec-get_table_csv –tablename=contributors</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;notch&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">exec_funckw</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_table_csv</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;notch&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csv_table</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_csv</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">exclude_columns</span><span class="p">,</span> <span class="n">truncate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">csv_table</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_csv_header">
<code class="sig-name descname">get_table_csv_header</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_csv_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_csv_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_docstr">
<code class="sig-name descname">get_table_docstr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_docstr" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –exec-get_table_docstr</p>
</dd>
<dt>Example0:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_docstr</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">Used to store individual chip features (ellipses)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_names">
<code class="sig-name descname">get_table_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lazy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Conveinience:</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_new_transferdata">
<code class="sig-name descname">get_table_new_transferdata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">exclude_columns</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_new_transferdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_new_transferdata" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –test-get_table_column_data
python -m dtool.sql_control –test-get_table_new_transferdata
python -m dtool.sql_control –test-get_table_new_transferdata:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename_list</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colrichinfo_list</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_columns</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">tablename</span> <span class="ow">in</span> <span class="n">tablename_list</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">new_transferdata</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_new_transferdata</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">column_list</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">extern_colx_list</span><span class="p">,</span> <span class="n">extern_superkey_colname_list</span><span class="p">,</span> <span class="n">extern_superkey_colval_list</span><span class="p">,</span> <span class="n">extern_tablename_list</span><span class="p">,</span> <span class="n">extern_primarycolnames_list</span> <span class="o">=</span> <span class="n">new_transferdata</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tablename = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tablename</span><span class="p">,))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;colnames = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">column_names</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_colx_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_colx_list</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_superkey_colname_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_superkey_colname_list</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L___&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_columns</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename_list</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">tablename</span> <span class="ow">in</span> <span class="n">tablename_list</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">new_transferdata</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_new_transferdata</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">column_list</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">extern_colx_list</span><span class="p">,</span> <span class="n">extern_superkey_colname_list</span><span class="p">,</span> <span class="n">extern_superkey_colval_list</span><span class="p">,</span> <span class="n">extern_tablename_list</span><span class="p">,</span> <span class="n">extern_primarycolnames_list</span> <span class="o">=</span> <span class="n">new_transferdata</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tablename = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tablename</span><span class="p">,))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;colnames = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">column_names</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_colx_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_colx_list</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_superkey_colname_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_superkey_colname_list</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L___&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_columns</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">IMAGE_TABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_transferdata</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_new_transferdata</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">extern_colx_list</span><span class="p">,</span> <span class="n">extern_superkey_colname_list</span><span class="p">,</span> <span class="n">extern_superkey_colval_list</span><span class="p">,</span> <span class="n">extern_tablename_list</span><span class="p">,</span> <span class="n">extern_primarycolnames_list</span> <span class="o">=</span> <span class="n">new_transferdata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dependsmap</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">dependsmap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tablename = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tablename</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;colnames = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">column_names</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_colx_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_colx_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_superkey_colname_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_superkey_colname_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dependsmap = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dependsmap</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L___&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">ANNOTATION_TABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_transferdata</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_new_transferdata</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">extern_colx_list</span><span class="p">,</span> <span class="n">extern_superkey_colname_list</span><span class="p">,</span> <span class="n">extern_superkey_colval_list</span><span class="p">,</span> <span class="n">extern_tablename_list</span><span class="p">,</span> <span class="n">extern_primarycolnames_list</span> <span class="o">=</span> <span class="n">new_transferdata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dependsmap</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">dependsmap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tablename = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tablename</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;colnames = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">column_names</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_colx_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_colx_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extern_superkey_colname_list = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">extern_superkey_colname_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dependsmap = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dependsmap</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L___&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_primarykey_colnames">
<code class="sig-name descname">get_table_primarykey_colnames</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_primarykey_colnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_primarykey_colnames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_table_superkey_colnames">
<code class="sig-name descname">get_table_superkey_colnames</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_table_superkey_colnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_table_superkey_colnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually resturns a list of tuples. need to change the name to
get_table_superkey_colnames_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>superkeys</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –test-get_table_superkey_colnames
python -m wbia –tf get_table_superkey_colnames –tablename=contributors
python -m wbia –tf get_table_superkey_colnames –db PZ_Master0 –tablename=annotations
python -m wbia –tf get_table_superkey_colnames –db PZ_Master0 –tablename=contributors  # NOQA</p>
</dd>
<dt>Example0:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">superkeys</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_superkey_colnames</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">superkeys</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(&#39;dummy_annot_rowid&#39;, &#39;config_rowid&#39;)]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_where">
<code class="sig-name descname">get_where</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">colnames</span></em>, <em class="sig-param"><span class="n">params_iter</span></em>, <em class="sig-param"><span class="n">where_clause</span></em>, <em class="sig-param"><span class="n">unpack_scalars</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_where"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_where" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_where_eq">
<code class="sig-name descname">get_where_eq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">colnames</span></em>, <em class="sig-param"><span class="n">params_iter</span></em>, <em class="sig-param"><span class="n">where_colnames</span></em>, <em class="sig-param"><span class="n">unpack_scalars</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">op</span><span class="o">=</span><span class="default_value">'AND'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_where_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_where_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>hacked in function for nicer templates</p>
<p>unpack_scalars = True
kwargs = {}</p>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>verbose:</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.get_where_eq_set">
<code class="sig-name descname">get_where_eq_set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">colnames</span></em>, <em class="sig-param"><span class="n">params_iter</span></em>, <em class="sig-param"><span class="n">where_colnames</span></em>, <em class="sig-param"><span class="n">unpack_scalars</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">op</span><span class="o">=</span><span class="default_value">'AND'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.get_where_eq_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.get_where_eq_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.has_table">
<code class="sig-name descname">has_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">colnames</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lazy</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.has_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.has_table" title="Permalink to this definition">¶</a></dt>
<dd><p>checks if a table exists</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.integrity">
<code class="sig-name descname">integrity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.integrity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.integrity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.make_json_table_definition">
<code class="sig-name descname">make_json_table_definition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.make_json_table_definition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.make_json_table_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>VERY HACKY FUNC RIGHT NOW. NEED TO FIX LATER</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_transferdata</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia –tf sql_control.make_json_table_definition</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool –tf iter_module_doctestable –modname=dtool.sql_control
–include_inherited=True
python -m dtool.sql_control –exec-make_json_table_definition</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;keypoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="n">tablename</span><span class="p">]</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table_def</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">make_json_table_definition</span><span class="p">(</span><span class="n">tablename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;table_def = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">table_def</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">table_def = {</span>
<span class="go">    &#39;keypoint_rowid&#39;: &#39;INTEGER&#39;,</span>
<span class="go">    &#39;chip_rowid&#39;: &#39;INTEGER&#39;,</span>
<span class="go">    &#39;config_rowid&#39;: &#39;INTEGER&#39;,</span>
<span class="go">    &#39;kpts&#39;: &#39;NDARRAY&#39;,</span>
<span class="go">    &#39;num&#39;: &#39;INTEGER&#39;,</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.merge_databases_new">
<code class="sig-name descname">merge_databases_new</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db_src</span></em>, <em class="sig-param"><span class="n">ignore_tables</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rowid_subsets</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.merge_databases_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.merge_databases_new" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies over all non-rowid properties into another sql table. handles
annotated dependenceis.
Does not handle external files
Could handle dependency tree order, but not yet implemented.</p>
<p>FINISHME</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>db_src</strong> (<em>SQLController</em>) – merge data from db_src into db</p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control –test-merge_databases_new:0
python -m dtool.sql_control –test-merge_databases_new:2</p>
</dd>
<dt>Example0:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ibs_dst = wbia.opendb(dbdir=&#39;testdb_dst&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># OPEN A CLEAN DATABASE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_dst</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">dbdir</span><span class="o">=</span><span class="s1">&#39;test_sql_merge_dst1&#39;</span><span class="p">,</span> <span class="n">allow_newdir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_ibsdir</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span><span class="o">.</span><span class="n">ensure_contributor_rowids</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs_dst</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_src</span> <span class="o">=</span> <span class="n">ibs_src</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_subsets</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">merge_databases_new</span><span class="p">(</span><span class="n">db_src</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;testdb2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># OPEN A CLEAN DATABASE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_dst</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">dbdir</span><span class="o">=</span><span class="s1">&#39;test_sql_merge_dst2&#39;</span><span class="p">,</span> <span class="n">allow_newdir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_ibsdir</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span><span class="o">.</span><span class="n">ensure_contributor_rowids</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs_dst</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_src</span> <span class="o">=</span> <span class="n">ibs_src</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_tables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lblannot&#39;</span><span class="p">,</span> <span class="s1">&#39;lblimage&#39;</span><span class="p">,</span> <span class="s1">&#39;image_lblimage_relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;annotation_lblannot_relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;keys&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_subsets</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">merge_databases_new</span><span class="p">(</span><span class="n">db_src</span><span class="p">,</span> <span class="n">ignore_tables</span><span class="o">=</span><span class="n">ignore_tables</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.sql_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;testdb2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># OPEN A CLEAN DATABASE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span><span class="o">.</span><span class="n">fix_invalid_annotmatches</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_dst</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">dbdir</span><span class="o">=</span><span class="s1">&#39;test_sql_subexport_dst2&#39;</span><span class="p">,</span> <span class="n">allow_newdir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_ibsdir</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span><span class="o">.</span><span class="n">ensure_contributor_rowids</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs_dst</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db_src</span> <span class="o">=</span> <span class="n">ibs_src</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_tables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lblannot&#39;</span><span class="p">,</span> <span class="s1">&#39;lblimage&#39;</span><span class="p">,</span> <span class="s1">&#39;image_lblimage_relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;annotation_lblannot_relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;keys&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aid_subset</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowid_subsets</span> <span class="o">=</span> <span class="p">{</span><span class="n">ANNOTATION_TABLE</span><span class="p">:</span> <span class="n">aid_subset</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="n">NAME_TABLE</span><span class="p">:</span> <span class="n">ibs_src</span><span class="o">.</span><span class="n">get_annot_nids</span><span class="p">(</span><span class="n">aid_subset</span><span class="p">),</span>
<span class="gp">... </span>                 <span class="n">IMAGE_TABLE</span><span class="p">:</span> <span class="n">ibs_src</span><span class="o">.</span><span class="n">get_annot_gids</span><span class="p">(</span><span class="n">aid_subset</span><span class="p">),</span>
<span class="gp">... </span>                 <span class="n">ANNOTMATCH_TABLE</span><span class="p">:</span> <span class="p">[],</span>
<span class="gp">... </span>                 <span class="n">GSG_RELATION_TABLE</span><span class="p">:</span> <span class="p">[],</span>
<span class="gp">... </span>                 <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">merge_databases_new</span><span class="p">(</span><span class="n">db_src</span><span class="p">,</span> <span class="n">ignore_tables</span><span class="o">=</span><span class="n">ignore_tables</span><span class="p">,</span> <span class="n">rowid_subsets</span><span class="o">=</span><span class="n">rowid_subsets</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.modify_table">
<code class="sig-name descname">modify_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">colmap_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tablename_new</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">drop_columns</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">add_columns</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rename_columns</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">metadata_keyval</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.modify_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.modify_table" title="Permalink to this definition">¶</a></dt>
<dd><p>function to modify the schema - only columns that are being added,
removed or changed need to be enumerated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<em>str</em>) – tablename</p></li>
<li><p><strong>colmap_list</strong> (<em>list</em>) – of tuples (orig_colname, new_colname, new_coltype, convert_func)
orig_colname - the original name of the column, None to append, int for index
new_colname - the new column name (‘’ for same, None to delete)
new_coltype - New Column Type. None to use data unmodified
convert_func - Function to convert data from old to new</p></li>
<li><p><strong>constraint</strong> (<em>str</em>) – </p></li>
<li><p><strong>superkeys</strong> (<em>list</em>) – </p></li>
<li><p><strong>docstr</strong> (<em>str</em>) – </p></li>
<li><p><strong>tablename_new</strong> – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">loc_zip_map</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">modify_table</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">CONTRIBUTOR_TABLE</span><span class="p">,</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># orig_colname,             new_colname,      new_coltype, convert_func</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># a non-needed, but correct mapping (identity function)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;contrib_rowid&#39;</span><span class="p">,</span>      <span class="s1">&#39;&#39;</span><span class="p">,</span>                    <span class="s1">&#39;&#39;</span><span class="p">,</span>               <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># for new columns, function is ignored (TYPE CANNOT BE EMPTY IF ADDING)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="kc">None</span><span class="p">,</span>                 <span class="s1">&#39;contrib_loc_address&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT&#39;</span><span class="p">,</span>           <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># adding a new column at index 4 (if index is invalid, None is used)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="mi">4</span><span class="p">,</span>                    <span class="s1">&#39;contrib_loc_address&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT&#39;</span><span class="p">,</span>           <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># for deleted columns, type and function are ignored</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;contrib_loc_city&#39;</span><span class="p">,</span>    <span class="kc">None</span><span class="p">,</span>                 <span class="s1">&#39;&#39;</span><span class="p">,</span>               <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># for renamed columns, type and function are ignored</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;contrib_loc_city&#39;</span><span class="p">,</span>   <span class="s1">&#39;contrib_loc_town&#39;</span><span class="p">,</span>    <span class="s1">&#39;&#39;</span><span class="p">,</span>       <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;contrib_loc_zip&#39;</span><span class="p">,</span>    <span class="s1">&#39;contrib_loc_zip&#39;</span><span class="p">,</span>     <span class="s1">&#39;TEXT&#39;</span><span class="p">,</span>   <span class="n">loc_zip_map</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># type not changing, only NOT NULL provision</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;contrib_loc_country&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>                   <span class="s1">&#39;TEXT NOT NULL&#39;</span><span class="p">,</span>  <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">superkeys</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;contributor_rowid&#39;</span><span class="p">,)],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">constraint</span><span class="o">=</span><span class="p">[],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">docstr</span><span class="o">=</span><span class="s1">&#39;Used to store the contributors to the project&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.optimize">
<code class="sig-name descname">optimize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.optimize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.print_dbg_schema">
<code class="sig-name descname">print_dbg_schema</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.print_dbg_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.print_dbg_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.print_schema">
<code class="sig-name descname">print_schema</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.print_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.print_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.print_table_csv">
<code class="sig-name descname">print_table_csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename</span></em>, <em class="sig-param"><span class="n">exclude_columns</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">truncate</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.print_table_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.print_table_csv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.reboot">
<code class="sig-name descname">reboot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.reboot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.reboot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.rename_table">
<code class="sig-name descname">rename_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablename_old</span></em>, <em class="sig-param"><span class="n">tablename_new</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.rename_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.rename_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.rows_exist">
<code class="sig-name descname">rows_exist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">rowids</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.rows_exist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.rows_exist" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if rowids exist. Yields True if they do</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.set">
<code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tblname</span></em>, <em class="sig-param"><span class="n">colnames</span></em>, <em class="sig-param"><span class="n">val_iter</span></em>, <em class="sig-param"><span class="n">id_iter</span></em>, <em class="sig-param"><span class="n">id_colname</span><span class="o">=</span><span class="default_value">'rowid'</span></em>, <em class="sig-param"><span class="n">duplicate_behavior</span><span class="o">=</span><span class="default_value">'error'</span></em>, <em class="sig-param"><span class="n">duplcate_auto_resolve</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.set" title="Permalink to this definition">¶</a></dt>
<dd><p>setter</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m dtool.sql_control set</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowids</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">get_rowids</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">depc</span><span class="p">[</span><span class="s1">&#39;notch&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">print_csv</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Break things to test set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colnames</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;dummy_annot_rowid&#39;</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_iter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">9003</span><span class="p">,</span> <span class="mi">9001</span><span class="p">,</span> <span class="mi">9002</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_data</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">id_iter</span><span class="o">=</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">val_iter</span><span class="p">,</span> <span class="n">id_iter</span><span class="o">=</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_data</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;notch&#39;</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">id_iter</span><span class="o">=</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">new_data</span> <span class="o">==</span> <span class="n">val_iter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">new_data</span> <span class="o">!=</span> <span class="n">orig_data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">print_csv</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span><span class="o">.</span><span class="n">clear_all</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.set_db_version">
<code class="sig-name descname">set_db_version</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">version</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.set_db_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.set_db_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.set_metadata_val">
<code class="sig-name descname">set_metadata_val</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.set_metadata_val"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.set_metadata_val" title="Permalink to this definition">¶</a></dt>
<dd><p>key must be given as a repr-ed string</p>
</dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.shrink_memory">
<code class="sig-name descname">shrink_memory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.shrink_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.shrink_memory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.squeeze">
<code class="sig-name descname">squeeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.squeeze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.squeeze" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.tablenames">
<em class="property">property </em><code class="sig-name descname">tablenames</code><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.tablenames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.thread_connection">
<code class="sig-name descname">thread_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.thread_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.thread_connection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.vacuum">
<code class="sig-name descname">vacuum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.vacuum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.vacuum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLDatabaseController.view_db_in_external_reader">
<code class="sig-name descname">view_db_in_external_reader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLDatabaseController.view_db_in_external_reader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLDatabaseController.view_db_in_external_reader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.sql_control.SQLExecutionContext">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.sql_control.</code><code class="sig-name descname">SQLExecutionContext</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db</span></em>, <em class="sig-param"><span class="n">operation</span></em>, <em class="sig-param"><span class="n">nInput</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">auto_commit</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">start_transaction</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">keepwrap</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tablename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLExecutionContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLExecutionContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context manager for transactional database calls</p>
<p>FIXME: hash out details. I don’t think anybody who programmed this
knows what is going on here. So much for fine grained control.</p>
<dl class="simple">
<dt>Referencs:</dt><dd><p><a class="reference external" href="http://stackoverflow.com/questions/9573768/understand-sqlite-multi-module-envs">http://stackoverflow.com/questions/9573768/understand-sqlite-multi-module-envs</a></p>
</dd>
</dl>
<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLExecutionContext.execute_and_generate_results">
<code class="sig-name descname">execute_and_generate_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLExecutionContext.execute_and_generate_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLExecutionContext.execute_and_generate_results" title="Permalink to this definition">¶</a></dt>
<dd><p>helper for context statment</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wbia.dtool.sql_control.SQLTable">
<em class="property">class </em><code class="sig-prename descclassname">wbia.dtool.sql_control.</code><code class="sig-name descname">SQLTable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db</span></em>, <em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></p>
<p>convinience object for dealing with a specific table</p>
<p>table = db
table = SQLTable(db, ‘annotmatch’)</p>
<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLTable.as_pandas">
<code class="sig-name descname">as_pandas</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rowids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.as_pandas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.as_pandas" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLTable.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLTable.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rowids</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLTable.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">colnames</span></em>, <em class="sig-param"><span class="n">id_iter</span></em>, <em class="sig-param"><span class="n">id_colname</span><span class="o">=</span><span class="default_value">'rowid'</span></em>, <em class="sig-param"><span class="n">eager</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLTable.number_of_rows">
<code class="sig-name descname">number_of_rows</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.number_of_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.number_of_rows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLTable.rowids">
<code class="sig-name descname">rowids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#SQLTable.rowids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.rowids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wbia.dtool.sql_control.SQLTable.rrr">
<code class="sig-name descname">rrr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reload_module</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#wbia.dtool.sql_control.SQLTable.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.sql_control.dev_test_new_schema_version">
<code class="sig-prename descclassname">wbia.dtool.sql_control.</code><code class="sig-name descname">dev_test_new_schema_version</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dbname</span></em>, <em class="sig-param"><span class="n">sqldb_dpath</span></em>, <em class="sig-param"><span class="n">sqldb_fname</span></em>, <em class="sig-param"><span class="n">version_current</span></em>, <em class="sig-param"><span class="n">version_next</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#dev_test_new_schema_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.dev_test_new_schema_version" title="Permalink to this definition">¶</a></dt>
<dd><p>HACK</p>
<p>hacky function to ensure that only developer sees the development schema
and only on test databases</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.sql_control.flattenize">
<code class="sig-prename descclassname">wbia.dtool.sql_control.</code><code class="sig-name descname">flattenize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">list_</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#flattenize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.flattenize" title="Permalink to this definition">¶</a></dt>
<dd><p>maps flatten to a tuplized list</p>
<p>Weird function. DEPRICATE</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="nb">zip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_list1</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">id_list1</span>  <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,),</span>     <span class="p">(</span><span class="mi">2</span><span class="p">,),</span>   <span class="p">(</span><span class="mi">3</span><span class="p">,)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_list1</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">flattenize</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">val_list1</span><span class="p">,</span> <span class="n">id_list1</span><span class="p">))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">val_list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">id_list2</span>  <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,),</span>     <span class="p">(</span><span class="mi">2</span><span class="p">,),</span>   <span class="p">(</span><span class="mi">3</span><span class="p">,)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_list2</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">flattenize</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">val_list2</span><span class="p">,</span> <span class="n">id_list2</span><span class="p">))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">val_list3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">id_list3</span>  <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_list3</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">flattenize</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">val_list3</span><span class="p">,</span> <span class="n">id_list3</span><span class="p">))</span>
</pre></div>
</div>
<p>out_list4 = list(zip(val_list3, id_list3))
%timeit utool.flattenize(zip(val_list1, id_list1))
%timeit utool.flattenize(zip(val_list2, id_list2))
%timeit utool.flattenize(zip(val_list3, id_list3))
%timeit list(zip(val_list3, id_list3))</p>
<p>100000 loops, best of 3: 14 us per loop
100000 loops, best of 3: 16.5 us per loop
100000 loops, best of 3: 18 us per loop
1000000 loops, best of 3: 1.18 us per loop</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.sql_control.get_operation_type">
<code class="sig-prename descclassname">wbia.dtool.sql_control.</code><code class="sig-name descname">get_operation_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">operation</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#get_operation_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.get_operation_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the operation_type from an SQL operation</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.sql_control.sanitize_sql">
<code class="sig-prename descclassname">wbia.dtool.sql_control.</code><code class="sig-name descname">sanitize_sql</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db</span></em>, <em class="sig-param"><span class="n">tablename_</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#sanitize_sql"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.sanitize_sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Sanatizes an sql tablename and column. Use sparingly</p>
</dd></dl>

<dl class="py function">
<dt id="wbia.dtool.sql_control.tuplize">
<code class="sig-prename descclassname">wbia.dtool.sql_control.</code><code class="sig-name descname">tuplize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">list_</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dtool/sql_control.html#tuplize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wbia.dtool.sql_control.tuplize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts each scalar item in a list to a dimension-1 tuple</p>
</dd></dl>

</div>
<div class="section" id="module-wbia.dtool">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-wbia.dtool" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">wbia</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="wbia.html">wbia - Wildbook IA</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.html">wbia.algo package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.control.html">wbia.control package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.dbio.html">wbia.dbio package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.detecttools.html">wbia.detecttools package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">wbia.dtool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.expt.html">wbia.expt package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.gui.html">wbia.gui package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.guitool.html">wbia.guitool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.init.html">wbia.init package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.other.html">wbia.other package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.plottool.html">wbia.plottool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.scripts.html">wbia.scripts package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.templates.html">wbia.templates package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.tests.html">wbia.tests package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.viz.html">wbia.viz package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.web.html">wbia.web package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#wbia-main">wbia.__main__</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia._devcmds_wbia">wbia._devcmds_wbia</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia._devscript">wbia._devscript</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia._wbia_object">wbia._wbia_object</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.annotmatch_funcs">wbia.annotmatch_funcs</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.annots">wbia.annots</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.constants">wbia.constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.core_annots">wbia.core_annots</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.core_images">wbia.core_images</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.core_parts">wbia.core_parts</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.demodata">wbia.demodata</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.dev">wbia.dev</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.filter_configs">wbia.filter_configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.images">wbia.images</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#wbia-main-module">wbia.main_module</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.params">wbia.params</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-wbia.tag_funcs">wbia.tag_funcs</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="wbia.html">wbia - Wildbook IA</a><ul>
      <li>Previous: <a href="wbia.detecttools.wbiadata.html" title="previous chapter">wbia.detecttools.wbiadata package</a></li>
      <li>Next: <a href="wbia.expt.html" title="next chapter">wbia.expt package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Wild Me.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/wbia.dtool.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>